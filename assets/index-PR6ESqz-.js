(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function ow(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Vm={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function lw(){if(Jv)return Ql;Jv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=t,Ql.jsxs=t,Ql}var eE;function uw(){return eE||(eE=1,Vm.exports=lw()),Vm.exports}var ae=uw(),km={exports:{}},Xl={},Lm={exports:{}},Um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function cw(){return tE||(tE=1,function(i){function e(Y,ue){var pe=Y.length;Y.push(ue);e:for(;0<pe;){var Ie=pe-1>>>1,O=Y[Ie];if(0<o(O,ue))Y[Ie]=ue,Y[pe]=O,pe=Ie;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ue=Y[0],pe=Y.pop();if(pe!==ue){Y[0]=pe;e:for(var Ie=0,O=Y.length,J=O>>>1;Ie<J;){var oe=2*(Ie+1)-1,le=Y[oe],me=oe+1,Ce=Y[me];if(0>o(le,pe))me<O&&0>o(Ce,le)?(Y[Ie]=Ce,Y[me]=pe,Ie=me):(Y[Ie]=le,Y[oe]=pe,Ie=oe);else if(me<O&&0>o(Ce,pe))Y[Ie]=Ce,Y[me]=pe,Ie=me;else break e}}return ue}function o(Y,ue){var pe=Y.sortIndex-ue.sortIndex;return pe!==0?pe:Y.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,T=null,b=3,N=!1,k=!1,H=!1,V=!1,X=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ie(Y){for(var ue=t(g);ue!==null;){if(ue.callback===null)s(g);else if(ue.startTime<=Y)s(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(g)}}function re(Y){if(H=!1,ie(Y),!k)if(t(p)!==null)k=!0,ce||(ce=!0,U());else{var ue=t(g);ue!==null&&Je(re,ue.startTime-Y)}}var ce=!1,R=-1,w=5,I=-1;function P(){return V?!0:!(i.unstable_now()-I<w)}function x(){if(V=!1,ce){var Y=i.unstable_now();I=Y;var ue=!0;try{e:{k=!1,H&&(H=!1,te(R),R=-1),N=!0;var pe=b;try{t:{for(ie(Y),T=t(p);T!==null&&!(T.expirationTime>Y&&P());){var Ie=T.callback;if(typeof Ie=="function"){T.callback=null,b=T.priorityLevel;var O=Ie(T.expirationTime<=Y);if(Y=i.unstable_now(),typeof O=="function"){T.callback=O,ie(Y),ue=!0;break t}T===t(p)&&s(p),ie(Y)}else s(p);T=t(p)}if(T!==null)ue=!0;else{var J=t(g);J!==null&&Je(re,J.startTime-Y),ue=!1}}break e}finally{T=null,b=pe,N=!1}ue=void 0}}finally{ue?U():ce=!1}}}var U;if(typeof F=="function")U=function(){F(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ot=D.port2;D.port1.onmessage=x,U=function(){ot.postMessage(null)}}else U=function(){X(x,0)};function Je(Y,ue){R=X(function(){Y(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var pe=b;b=ue;try{return Y()}finally{b=pe}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(Y,ue){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pe=b;b=Y;try{return ue()}finally{b=pe}},i.unstable_scheduleCallback=function(Y,ue,pe){var Ie=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ie+pe:Ie):pe=Ie,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pe+O,Y={id:_++,callback:ue,priorityLevel:Y,startTime:pe,expirationTime:O,sortIndex:-1},pe>Ie?(Y.sortIndex=pe,e(g,Y),t(p)===null&&Y===t(g)&&(H?(te(R),R=-1):H=!0,Je(re,pe-Ie))):(Y.sortIndex=O,e(p,Y),k||N||(k=!0,ce||(ce=!0,U()))),Y},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(Y){var ue=b;return function(){var pe=b;b=ue;try{return Y.apply(this,arguments)}finally{b=pe}}}}(Um)),Um}var nE;function hw(){return nE||(nE=1,Lm.exports=cw()),Lm.exports}var zm={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function fw(){if(iE)return De;iE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,H={};function V(O,J,oe){this.props=O,this.context=J,this.refs=H,this.updater=oe||N}V.prototype.isReactComponent={},V.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},V.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function X(){}X.prototype=V.prototype;function te(O,J,oe){this.props=O,this.context=J,this.refs=H,this.updater=oe||N}var F=te.prototype=new X;F.constructor=te,k(F,V.prototype),F.isPureReactComponent=!0;var ie=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function R(O,J,oe,le,me,Ce){return oe=Ce.ref,{$$typeof:i,type:O,key:J,ref:oe!==void 0?oe:null,props:Ce}}function w(O,J){return R(O.type,J,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function P(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return J[oe]})}var x=/\/+/g;function U(O,J){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):J.toString(36)}function D(){}function ot(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Je(O,J,oe,le,me){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var ye=!1;if(O===null)ye=!0;else switch(Ce){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(O.$$typeof){case i:case e:ye=!0;break;case _:return ye=O._init,Je(ye(O._payload),J,oe,le,me)}}if(ye)return me=me(O),ye=le===""?"."+U(O,0):le,ie(me)?(oe="",ye!=null&&(oe=ye.replace(x,"$&/")+"/"),Je(me,J,oe,"",function(Ct){return Ct})):me!=null&&(I(me)&&(me=w(me,oe+(me.key==null||O&&O.key===me.key?"":(""+me.key).replace(x,"$&/")+"/")+ye)),J.push(me)),1;ye=0;var dt=le===""?".":le+":";if(ie(O))for(var Ue=0;Ue<O.length;Ue++)le=O[Ue],Ce=dt+U(le,Ue),ye+=Je(le,J,oe,Ce,me);else if(Ue=b(O),typeof Ue=="function")for(O=Ue.call(O),Ue=0;!(le=O.next()).done;)le=le.value,Ce=dt+U(le,Ue++),ye+=Je(le,J,oe,Ce,me);else if(Ce==="object"){if(typeof O.then=="function")return Je(ot(O),J,oe,le,me);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Y(O,J,oe){if(O==null)return O;var le=[],me=0;return Je(O,le,"","",function(Ce){return J.call(oe,Ce,me++)}),le}function ue(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ie(){}return De.Children={map:Y,forEach:function(O,J,oe){Y(O,function(){J.apply(this,arguments)},oe)},count:function(O){var J=0;return Y(O,function(){J++}),J},toArray:function(O){return Y(O,function(J){return J})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},De.Component=V,De.Fragment=t,De.Profiler=o,De.PureComponent=te,De.StrictMode=s,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,De.__COMPILER_RUNTIME={__proto__:null,c:function(O){return re.H.useMemoCache(O)}},De.cache=function(O){return function(){return O.apply(null,arguments)}},De.cloneElement=function(O,J,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=k({},O.props),me=O.key,Ce=void 0;if(J!=null)for(ye in J.ref!==void 0&&(Ce=void 0),J.key!==void 0&&(me=""+J.key),J)!ce.call(J,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&J.ref===void 0||(le[ye]=J[ye]);var ye=arguments.length-2;if(ye===1)le.children=oe;else if(1<ye){for(var dt=Array(ye),Ue=0;Ue<ye;Ue++)dt[Ue]=arguments[Ue+2];le.children=dt}return R(O.type,me,void 0,void 0,Ce,le)},De.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},De.createElement=function(O,J,oe){var le,me={},Ce=null;if(J!=null)for(le in J.key!==void 0&&(Ce=""+J.key),J)ce.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=J[le]);var ye=arguments.length-2;if(ye===1)me.children=oe;else if(1<ye){for(var dt=Array(ye),Ue=0;Ue<ye;Ue++)dt[Ue]=arguments[Ue+2];me.children=dt}if(O&&O.defaultProps)for(le in ye=O.defaultProps,ye)me[le]===void 0&&(me[le]=ye[le]);return R(O,Ce,void 0,void 0,null,me)},De.createRef=function(){return{current:null}},De.forwardRef=function(O){return{$$typeof:m,render:O}},De.isValidElement=I,De.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:ue}},De.memo=function(O,J){return{$$typeof:g,type:O,compare:J===void 0?null:J}},De.startTransition=function(O){var J=re.T,oe={};re.T=oe;try{var le=O(),me=re.S;me!==null&&me(oe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ie,pe)}catch(Ce){pe(Ce)}finally{re.T=J}},De.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},De.use=function(O){return re.H.use(O)},De.useActionState=function(O,J,oe){return re.H.useActionState(O,J,oe)},De.useCallback=function(O,J){return re.H.useCallback(O,J)},De.useContext=function(O){return re.H.useContext(O)},De.useDebugValue=function(){},De.useDeferredValue=function(O,J){return re.H.useDeferredValue(O,J)},De.useEffect=function(O,J,oe){var le=re.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(O,J)},De.useId=function(){return re.H.useId()},De.useImperativeHandle=function(O,J,oe){return re.H.useImperativeHandle(O,J,oe)},De.useInsertionEffect=function(O,J){return re.H.useInsertionEffect(O,J)},De.useLayoutEffect=function(O,J){return re.H.useLayoutEffect(O,J)},De.useMemo=function(O,J){return re.H.useMemo(O,J)},De.useOptimistic=function(O,J){return re.H.useOptimistic(O,J)},De.useReducer=function(O,J,oe){return re.H.useReducer(O,J,oe)},De.useRef=function(O){return re.H.useRef(O)},De.useState=function(O){return re.H.useState(O)},De.useSyncExternalStore=function(O,J,oe){return re.H.useSyncExternalStore(O,J,oe)},De.useTransition=function(){return re.H.useTransition()},De.version="19.1.0",De}var rE;function Hp(){return rE||(rE=1,zm.exports=fw()),zm.exports}var Bm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function dw(){if(sE)return Jt;sE=1;var i=Hp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Jt.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:N}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.1.0",Jt}var aE;function mw(){if(aE)return Bm.exports;aE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bm.exports=dw(),Bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function pw(){if(oE)return Xl;oE=1;var i=hw(),e=Hp(),t=mw();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,A=f.child;A;){if(A===a){E=!0,a=f,l=d;break}if(A===l){E=!0,l=f,a=d;break}A=A.sibling}if(!E){for(A=d.child;A;){if(A===a){E=!0,a=d,l=f;break}if(A===l){E=!0,l=d,a=f;break}A=A.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=x&&n[x]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function ot(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case V:return"Profiler";case H:return"StrictMode";case re:return"Suspense";case ce:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case F:return(n.displayName||"Context")+".Provider";case te:return(n._context.displayName||"Context")+".Consumer";case ie:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return r=n.displayName||null,r!==null?r:ot(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return ot(n(r))}catch{}}return null}var Je=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ie=[],O=-1;function J(n){return{current:n}}function oe(n){0>O||(n.current=Ie[O],Ie[O]=null,O--)}function le(n,r){O++,Ie[O]=n.current,n.current=r}var me=J(null),Ce=J(null),ye=J(null),dt=J(null);function Ue(n,r){switch(le(ye,r),le(Ce,n),le(me,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Iv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Iv(r),n=Cv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}oe(me),le(me,n)}function Ct(){oe(me),oe(Ce),oe(ye)}function Vi(n){n.memoizedState!==null&&le(dt,n);var r=me.current,a=Cv(r,n.type);r!==a&&(le(Ce,n),le(me,a))}function qn(n){Ce.current===n&&(oe(me),oe(Ce)),dt.current===n&&(oe(dt),Fl._currentValue=pe)}var sn=Object.prototype.hasOwnProperty,_s=i.unstable_scheduleCallback,Aa=i.unstable_cancelCallback,kf=i.unstable_shouldYield,Fo=i.unstable_requestPaint,fn=i.unstable_now,zu=i.unstable_getCurrentPriorityLevel,Dt=i.unstable_ImmediatePriority,kt=i.unstable_UserBlockingPriority,ki=i.unstable_NormalPriority,Lf=i.unstable_LowPriority,Go=i.unstable_IdlePriority,Uf=i.log,vs=i.unstable_setDisableYieldValue,pr=null,Xt=null;function In(n){if(typeof Uf=="function"&&vs(n),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(pr,n)}catch{}}var an=Math.clz32?Math.clz32:ju,zf=Math.log,Bu=Math.LN2;function ju(n){return n>>>=0,n===0?32:31-(zf(n)/Bu|0)|0}var ai=256,gr=4194304;function Fn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Cn(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=Fn(l):(E&=A,E!==0?f=Fn(E):a||(a=A&~n,a!==0&&(f=Fn(a))))):(A=l&~d,A!==0?f=Fn(A):E!==0?f=Fn(E):a||(a=l&~n,a!==0&&(f=Fn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function yr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ba(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ko(){var n=ai;return ai<<=1,(ai&4194048)===0&&(ai=256),n}function _r(){var n=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),n}function Sa(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function gt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Hu(n,r,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,C=n.expirationTimes,j=n.hiddenUpdates;for(a=E&~a;0<a;){var Q=31-an(a),Z=1<<Q;A[Q]=0,C[Q]=-1;var q=j[Q];if(q!==null)for(j[Q]=null,Q=0;Q<q.length;Q++){var G=q[Q];G!==null&&(G.lane&=-536870913)}a&=~Z}l!==0&&vr(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function vr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-an(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Er(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-an(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function $o(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Yo(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Li(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:$v(n.type))}function Bf(n,r){var a=ue.p;try{return ue.p=n,r()}finally{ue.p=a}}var oi=Math.random().toString(36).slice(2),yt="__reactFiber$"+oi,qt="__reactProps$"+oi,Ui="__reactContainer$"+oi,Es="__reactEvents$"+oi,Ts="__reactListeners$"+oi,jf="__reactHandles$"+oi,Gn="__reactResources$"+oi,Tr="__reactMarker$"+oi;function wa(n){delete n[yt],delete n[qt],delete n[Es],delete n[Ts],delete n[jf]}function li(n){var r=n[yt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ui]||a[yt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=xv(n);n!==null;){if(a=n[yt])return a;n=xv(n)}return r}n=a,a=n.parentNode}return null}function ui(n){if(n=n[yt]||n[Ui]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Ar(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function br(n){var r=n[Gn];return r||(r=n[Gn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _t(n){n[Tr]=!0}var qu=new Set,As={};function ci(n,r){hi(n,r),hi(n+"Capture",r)}function hi(n,r){for(As[n]=r,n=0;n<r.length;n++)qu.add(r[n])}var bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fi={},Ra={};function Hf(n){return sn.call(Ra,n)?!0:sn.call(fi,n)?!1:bs.test(n)?Ra[n]=!0:(fi[n]=!0,!1)}function Ss(n,r,a){if(Hf(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ws(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Dn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Rs,Ia;function zi(n){if(Rs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Rs=r&&r[1]||"",Ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rs+n+Ia}var Ca=!1;function Da(n,r){if(!n||Ca)return"";Ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var q=G}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(G){q=G}n.call(Z.prototype)}}else{try{throw Error()}catch(G){q=G}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],A=d[1];if(E&&A){var C=E.split(`
`),j=A.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===j.length)for(l=C.length-1,f=j.length-1;1<=l&&0<=f&&C[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==j[f]){var Q=`
`+C[l].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=l&&0<=f);break}}}finally{Ca=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?zi(a):""}function qf(n){switch(n.tag){case 26:case 27:case 5:return zi(n.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Da(n.type,!1);case 11:return Da(n.type.render,!1);case 1:return Da(n.type,!0);case 31:return zi("Activity");default:return""}}function Kn(n){try{var r="";do r+=qf(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ut(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Sr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Is(n){var r=Sr(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function wr(n){n._valueTracker||(n._valueTracker=Is(n))}function Ye(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Sr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Bi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Cs=/[\n"\\]/g;function Lt(n){return n.replace(Cs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Qo(n,r,a,l,f,d,E,A){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+ut(r)):n.value!==""+ut(r)&&(n.value=""+ut(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?Wo(n,E,ut(r)):a!=null?Wo(n,E,ut(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+ut(A):n.removeAttribute("name")}function Xo(n,r,a,l,f,d,E,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+ut(a):"",r=r!=null?""+ut(r):a,A||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=A?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Wo(n,r,a){r==="number"&&Bi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Rr(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+ut(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Fu(n,r,a){if(r!=null&&(r=""+ut(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+ut(a):""}function Gu(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Je(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=ut(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Nn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var ji=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||ji.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Jo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Zo(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Zo(n,d,r[d])}function Na(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$u=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $n(n){return $u.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var el=null;function tl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ir=null,on=null;function Yu(n){var r=ui(n);if(r&&(n=r.stateNode)){var a=n[qt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Qo(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Lt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[qt]||null;if(!f)throw Error(s(90));Qo(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Ye(l)}break e;case"textarea":Fu(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Rr(n,!!a.multiple,r,!1)}}}var Ds=!1;function Ns(n,r,a){if(Ds)return n(r,a);Ds=!0;try{var l=n(r);return l}finally{if(Ds=!1,(Ir!==null||on!==null)&&(Lc(),Ir&&(r=Ir,n=on,on=Ir=null,Yu(r),n)))for(r=0;r<n.length;r++)Yu(n[r])}}function Cr(n,r){var a=n.stateNode;if(a===null)return null;var l=a[qt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hi=!1;if(ln)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{Hi=!1}var On=null,et=null,Oa=null;function Qu(){if(Oa)return Oa;var n,r=et,a=r.length,l,f="value"in On?On.value:On.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return Oa=f.slice(n,1<l?1-l:void 0)}function Os(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function xs(){return!0}function nl(){return!1}function Nt(n){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xs:nl,this.isPropagationStopped=nl,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),r}var Wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=Nt(Wt),Ps=_({},Wt,{view:0,detail:0}),Vs=Nt(Ps),xa,ks,di,Ls=_({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==di&&(di&&n.type==="mousemove"?(xa=n.screenX-di.screenX,ks=n.screenY-di.screenY):ks=xa=0,di=n),xa)},movementY:function(n){return"movementY"in n?n.movementY:ks}}),Us=Nt(Ls),Ff=_({},Ls,{dataTransfer:0}),Xu=Nt(Ff),zs=_({},Ps,{relatedTarget:0}),Ma=Nt(zs),Wu=_({},Wt,{animationName:0,elapsedTime:0,pseudoElement:0}),il=Nt(Wu),rl=_({},Wt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Zu=Nt(rl),Pa=_({},Wt,{data:0}),sl=Nt(Pa),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tc(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=ec[n])?!!r[n]:!1}function Va(){return tc}var nc=_({},Ps,{key:function(n){if(n.key){var r=Ju[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Os(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qi[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(n){return n.type==="keypress"?Os(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Os(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ka=Nt(nc),un=_({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=Nt(un),ic=_({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),Nr=Nt(ic),c=_({},Wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Nt(c),v=_({},Ls,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Nt(v),B=_({},Wt,{newState:0,oldState:0}),K=Nt(B),se=[9,13,27,32],we=ln&&"CompositionEvent"in window,nt=null;ln&&"documentMode"in document&&(nt=document.documentMode);var Ge=ln&&"TextEvent"in window&&!nt,vt=ln&&(!we||nt&&8<nt&&11>=nt),_n=" ",mi=!1;function Yn(n,r){switch(n){case"keyup":return se.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qn(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xn=!1;function ol(n,r){switch(n){case"compositionend":return Qn(r);case"keypress":return r.which!==32?null:(mi=!0,_n);case"textInput":return n=r.data,n===_n&&mi?null:n;default:return null}}function P1(n,r){if(Xn)return n==="compositionend"||!we&&Yn(n,r)?(n=Qu(),Oa=et=On=null,Xn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return vt&&r.locale!=="ko"?null:r.data;default:return null}}var V1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jg(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!V1[n.type]:r==="textarea"}function Hg(n,r,a,l){Ir?on?on.push(l):on=[l]:Ir=l,r=qc(r,"onChange"),0<r.length&&(a=new Ms("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var ll=null,ul=null;function k1(n){Av(n,0)}function rc(n){var r=Ar(n);if(Ye(r))return n}function qg(n,r){if(n==="change")return r}var Fg=!1;if(ln){var Gf;if(ln){var Kf="oninput"in document;if(!Kf){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),Kf=typeof Gg.oninput=="function"}Gf=Kf}else Gf=!1;Fg=Gf&&(!document.documentMode||9<document.documentMode)}function Kg(){ll&&(ll.detachEvent("onpropertychange",$g),ul=ll=null)}function $g(n){if(n.propertyName==="value"&&rc(ul)){var r=[];Hg(r,ul,n,tl(n)),Ns(k1,r)}}function L1(n,r,a){n==="focusin"?(Kg(),ll=r,ul=a,ll.attachEvent("onpropertychange",$g)):n==="focusout"&&Kg()}function U1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rc(ul)}function z1(n,r){if(n==="click")return rc(r)}function B1(n,r){if(n==="input"||n==="change")return rc(r)}function j1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var vn=typeof Object.is=="function"?Object.is:j1;function cl(n,r){if(vn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!sn.call(r,f)||!vn(n[f],r[f]))return!1}return!0}function Yg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Qg(n,r){var a=Yg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yg(a)}}function Xg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Xg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Wg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Bi(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Bi(n.document)}return r}function $f(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var H1=ln&&"documentMode"in document&&11>=document.documentMode,La=null,Yf=null,hl=null,Qf=!1;function Zg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qf||La==null||La!==Bi(l)||(l=La,"selectionStart"in l&&$f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=qc(Yf,"onSelect"),0<l.length&&(r=new Ms("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=La)))}function Bs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ua={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},Xf={},Jg={};ln&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function js(n){if(Xf[n])return Xf[n];if(!Ua[n])return n;var r=Ua[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Jg)return Xf[n]=r[a];return n}var ey=js("animationend"),ty=js("animationiteration"),ny=js("animationstart"),q1=js("transitionrun"),F1=js("transitionstart"),G1=js("transitioncancel"),iy=js("transitionend"),ry=new Map,Wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wf.push("scrollEnd");function Wn(n,r){ry.set(n,r),ci(r,[n])}var sy=new WeakMap;function xn(n,r){if(typeof n=="object"&&n!==null){var a=sy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Kn(r)},sy.set(n,r),r)}return{value:n,source:r,stack:Kn(r)}}var Mn=[],za=0,Zf=0;function sc(){for(var n=za,r=Zf=za=0;r<n;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var f=Mn[r];Mn[r++]=null;var d=Mn[r];if(Mn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&ay(a,f,d)}}function ac(n,r,a,l){Mn[za++]=n,Mn[za++]=r,Mn[za++]=a,Mn[za++]=l,Zf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Jf(n,r,a,l){return ac(n,r,a,l),oc(n)}function Ba(n,r){return ac(n,null,null,r),oc(n)}function ay(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-an(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function oc(n){if(50<kl)throw kl=0,sm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var ja={};function K1(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,r,a,l){return new K1(n,r,a,l)}function ed(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fi(n,r){var a=n.alternate;return a===null?(a=En(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function oy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function lc(n,r,a,l,f,d){var E=0;if(l=n,typeof n=="function")ed(n)&&(E=1);else if(typeof n=="string")E=YS(n,a,me.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=En(31,a,r,f),n.elementType=I,n.lanes=d,n;case k:return Hs(a.children,f,d,r);case H:E=8,f|=24;break;case V:return n=En(12,a,r,f|2),n.elementType=V,n.lanes=d,n;case re:return n=En(13,a,r,f),n.elementType=re,n.lanes=d,n;case ce:return n=En(19,a,r,f),n.elementType=ce,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X:case F:E=10;break e;case te:E=9;break e;case ie:E=11;break e;case R:E=14;break e;case w:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=En(E,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Hs(n,r,a,l){return n=En(7,n,l,r),n.lanes=a,n}function td(n,r,a){return n=En(6,n,null,r),n.lanes=a,n}function nd(n,r,a){return r=En(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ha=[],qa=0,uc=null,cc=0,Pn=[],Vn=0,qs=null,Gi=1,Ki="";function Fs(n,r){Ha[qa++]=cc,Ha[qa++]=uc,uc=n,cc=r}function ly(n,r,a){Pn[Vn++]=Gi,Pn[Vn++]=Ki,Pn[Vn++]=qs,qs=n;var l=Gi;n=Ki;var f=32-an(l)-1;l&=~(1<<f),a+=1;var d=32-an(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Gi=1<<32-an(r)+f|a<<f|l,Ki=d+n}else Gi=1<<d|a<<f|l,Ki=n}function id(n){n.return!==null&&(Fs(n,1),ly(n,1,0))}function rd(n){for(;n===uc;)uc=Ha[--qa],Ha[qa]=null,cc=Ha[--qa],Ha[qa]=null;for(;n===qs;)qs=Pn[--Vn],Pn[Vn]=null,Ki=Pn[--Vn],Pn[Vn]=null,Gi=Pn[--Vn],Pn[Vn]=null}var cn=null,mt=null,He=!1,Gs=null,pi=!1,sd=Error(s(519));function Ks(n){var r=Error(s(418,""));throw ml(xn(r,n)),sd}function uy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[yt]=n,r[qt]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Pe(Ul[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),Xo(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),wr(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Gu(r,l.value,l.defaultValue,l.children),wr(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Rv(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=Fc),r=!0):r=!1,r||Ks(n)}function cy(n){for(cn=n.return;cn;)switch(cn.tag){case 5:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:cn=cn.return}}function fl(n){if(n!==cn)return!1;if(!He)return cy(n),He=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Tm(n.type,n.memoizedProps)),a=!a),a&&mt&&Ks(n),cy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){mt=Jn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}mt=null}}else r===27?(r=mt,Kr(n.type)?(n=wm,wm=null,mt=n):mt=r):mt=cn?Jn(n.stateNode.nextSibling):null;return!0}function dl(){mt=cn=null,He=!1}function hy(){var n=Gs;return n!==null&&(pn===null?pn=n:pn.push.apply(pn,n),Gs=null),n}function ml(n){Gs===null?Gs=[n]:Gs.push(n)}var ad=J(null),$s=null,$i=null;function Or(n,r,a){le(ad,r._currentValue),r._currentValue=a}function Yi(n){n._currentValue=ad.current,oe(ad)}function od(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function ld(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var C=0;C<r.length;C++)if(A.context===r[C]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),od(d.return,a,n),l||(E=null);break e}d=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),od(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function pl(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=f.type;vn(f.pendingProps.value,E.value)||(n!==null?n.push(A):n=[A])}}else if(f===dt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Fl):n=[Fl])}f=f.return}n!==null&&ld(r,n,a,l),r.flags|=262144}function hc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ys(n){$s=n,$i=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Zt(n){return fy($s,n)}function fc(n,r){return $s===null&&Ys(n),fy(n,r)}function fy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},$i===null){if(n===null)throw Error(s(308));$i=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else $i=$i.next=r;return a}var $1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Y1=i.unstable_scheduleCallback,Q1=i.unstable_NormalPriority,Ot={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ud(){return{controller:new $1,data:new Map,refCount:0}}function gl(n){n.refCount--,n.refCount===0&&Y1(Q1,function(){n.controller.abort()})}var yl=null,cd=0,Fa=0,Ga=null;function X1(n,r){if(yl===null){var a=yl=[];cd=0,Fa=fm(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cd++,r.then(dy,dy),r}function dy(){if(--cd===0&&yl!==null){Ga!==null&&(Ga.status="fulfilled");var n=yl;yl=null,Fa=0,Ga=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function W1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var my=Y.S;Y.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&X1(n,r),my!==null&&my(n,r)};var Qs=J(null);function hd(){var n=Qs.current;return n!==null?n:tt.pooledCache}function dc(n,r){r===null?le(Qs,Qs.current):le(Qs,r.pool)}function py(){var n=hd();return n===null?null:{parent:Ot._currentValue,pool:n}}var _l=Error(s(460)),gy=Error(s(474)),mc=Error(s(542)),fd={then:function(){}};function yy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pc(){}function _y(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(pc,pc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Ey(n),n;default:if(typeof r.status=="string")r.then(pc,pc);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Ey(n),n}throw vl=r,_l}}var vl=null;function vy(){if(vl===null)throw Error(s(459));var n=vl;return vl=null,n}function Ey(n){if(n===_l||n===mc)throw Error(s(483))}var xr=!1;function dd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Mr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Pr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=oc(n),ay(n,null,a),r}return ac(n,l,r,a),oc(n)}function El(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Er(n,a)}}function pd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var gd=!1;function Tl(){if(gd){var n=Ga;if(n!==null)throw n}}function Al(n,r,a,l){gd=!1;var f=n.updateQueue;xr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var C=A,j=C.next;C.next=null,E===null?d=j:E.next=j,E=C;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,A=Q.lastBaseUpdate,A!==E&&(A===null?Q.firstBaseUpdate=j:A.next=j,Q.lastBaseUpdate=C))}if(d!==null){var Z=f.baseState;E=0,Q=j=C=null,A=d;do{var q=A.lane&-536870913,G=q!==A.lane;if(G?(ze&q)===q:(l&q)===q){q!==0&&q===Fa&&(gd=!0),Q!==null&&(Q=Q.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var be=n,ve=A;q=r;var We=a;switch(ve.tag){case 1:if(be=ve.payload,typeof be=="function"){Z=be.call(We,Z,q);break e}Z=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ve.payload,q=typeof be=="function"?be.call(We,Z,q):be,q==null)break e;Z=_({},Z,q);break e;case 2:xr=!0}}q=A.callback,q!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[q]:G.push(q))}else G={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Q===null?(j=Q=G,C=Z):Q=Q.next=G,E|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;G=A,A=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Q===null&&(C=Z),f.baseState=C,f.firstBaseUpdate=j,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),Hr|=E,n.lanes=E,n.memoizedState=Z}}function Ty(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Ay(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Ty(a[n],r)}var Ka=J(null),gc=J(0);function by(n,r){n=tr,le(gc,n),le(Ka,r),tr=n|r.baseLanes}function yd(){le(gc,tr),le(Ka,Ka.current)}function _d(){tr=gc.current,oe(Ka),oe(gc)}var Vr=0,Oe=null,Qe=null,bt=null,yc=!1,$a=!1,Xs=!1,_c=0,bl=0,Ya=null,Z1=0;function Et(){throw Error(s(321))}function vd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!vn(n[a],r[a]))return!1;return!0}function Ed(n,r,a,l,f,d){return Vr=d,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=n===null||n.memoizedState===null?a_:o_,Xs=!1,d=a(l,f),Xs=!1,$a&&(d=wy(r,a,l,f)),Sy(n),d}function Sy(n){Y.H=Sc;var r=Qe!==null&&Qe.next!==null;if(Vr=0,bt=Qe=Oe=null,yc=!1,bl=0,Ya=null,r)throw Error(s(300));n===null||Ut||(n=n.dependencies,n!==null&&hc(n)&&(Ut=!0))}function wy(n,r,a,l){Oe=n;var f=0;do{if($a&&(Ya=null),bl=0,$a=!1,25<=f)throw Error(s(301));if(f+=1,bt=Qe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=sS,d=r(a,l)}while($a);return d}function J1(){var n=Y.H,r=n.useState()[0];return r=typeof r.then=="function"?Sl(r):r,n=n.useState()[0],(Qe!==null?Qe.memoizedState:null)!==n&&(Oe.flags|=1024),r}function Td(){var n=_c!==0;return _c=0,n}function Ad(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function bd(n){if(yc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}yc=!1}Vr=0,bt=Qe=Oe=null,$a=!1,bl=_c=0,Ya=null}function dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Oe.memoizedState=bt=n:bt=bt.next=n,bt}function St(){if(Qe===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var r=bt===null?Oe.memoizedState:bt.next;if(r!==null)bt=r,Qe=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},bt===null?Oe.memoizedState=bt=n:bt=bt.next=n}return bt}function Sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(n){var r=bl;return bl+=1,Ya===null&&(Ya=[]),n=_y(Ya,n,r),r=Oe,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?a_:o_),n}function vc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Sl(n);if(n.$$typeof===F)return Zt(n)}throw Error(s(438,String(n)))}function wd(n){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Sd(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=P;return r.index++,a}function Qi(n,r){return typeof r=="function"?r(n):r}function Ec(n){var r=St();return Rd(r,Qe,n)}function Rd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var A=E=null,C=null,j=r,Q=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(ze&Z)===Z:(Vr&Z)===Z){var q=j.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Fa&&(Q=!0);else if((Vr&q)===q){j=j.next,q===Fa&&(Q=!0);continue}else Z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(A=C=Z,E=d):C=C.next=Z,Oe.lanes|=q,Hr|=q;Z=j.action,Xs&&a(d,Z),d=j.hasEagerState?j.eagerState:a(d,Z)}else q={lane:Z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(A=C=q,E=d):C=C.next=q,Oe.lanes|=Z,Hr|=Z;j=j.next}while(j!==null&&j!==r);if(C===null?E=d:C.next=A,!vn(d,n.memoizedState)&&(Ut=!0,Q&&(a=Ga,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Id(n){var r=St(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);vn(d,r.memoizedState)||(Ut=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Ry(n,r,a){var l=Oe,f=St(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!vn((Qe||f).memoizedState,a);E&&(f.memoizedState=a,Ut=!0),f=f.queue;var A=Dy.bind(null,l,f,n);if(wl(2048,8,A,[n]),f.getSnapshot!==r||E||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Qa(9,Tc(),Cy.bind(null,l,f,a,r),null),tt===null)throw Error(s(349));d||(Vr&124)!==0||Iy(l,r,a)}return a}function Iy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=Sd(),Oe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Cy(n,r,a,l){r.value=a,r.getSnapshot=l,Ny(r)&&Oy(n)}function Dy(n,r,a){return a(function(){Ny(r)&&Oy(n)})}function Ny(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!vn(n,a)}catch{return!0}}function Oy(n){var r=Ba(n,2);r!==null&&wn(r,n,2)}function Cd(n){var r=dn();if(typeof n=="function"){var a=n;if(n=a(),Xs){In(!0);try{a()}finally{In(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:n},r}function xy(n,r,a,l){return n.baseState=a,Rd(n,Qe,typeof l=="function"?l:Qi)}function eS(n,r,a,l,f){if(bc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,My(r,d)):(d.next=a.next,r.pending=a.next=d)}}function My(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=Y.T,E={};Y.T=E;try{var A=a(f,l),C=Y.S;C!==null&&C(E,A),Py(n,r,A)}catch(j){Dd(n,r,j)}finally{Y.T=d}}else try{d=a(f,l),Py(n,r,d)}catch(j){Dd(n,r,j)}}function Py(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Vy(n,r,l)},function(l){return Dd(n,r,l)}):Vy(n,r,a)}function Vy(n,r,a){r.status="fulfilled",r.value=a,ky(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,My(n,a)))}function Dd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ky(r),r=r.next;while(r!==l)}n.action=null}function ky(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ly(n,r){return r}function Uy(n,r){if(He){var a=tt.formState;if(a!==null){e:{var l=Oe;if(He){if(mt){t:{for(var f=mt,d=pi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Jn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){mt=Jn(f.nextSibling),l=f.data==="F!";break e}}Ks(l)}l=!1}l&&(r=a[0])}}return a=dn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ly,lastRenderedState:r},a.queue=l,a=i_.bind(null,Oe,l),l.dispatch=a,l=Cd(!1),d=Pd.bind(null,Oe,!1,l.queue),l=dn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=eS.bind(null,Oe,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function zy(n){var r=St();return By(r,Qe,n)}function By(n,r,a){if(r=Rd(n,r,Ly)[0],n=Ec(Qi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Sl(r)}catch(E){throw E===_l?mc:E}else l=r;r=St();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,Qa(9,Tc(),tS.bind(null,f,a),null)),[l,d,n]}function tS(n,r){n.action=r}function jy(n){var r=St(),a=Qe;if(a!==null)return By(r,a,n);St(),r=r.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Qa(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Sd(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Tc(){return{destroy:void 0,resource:void 0}}function Hy(){return St().memoizedState}function Ac(n,r,a,l){var f=dn();l=l===void 0?null:l,Oe.flags|=n,f.memoizedState=Qa(1|r,Tc(),a,l)}function wl(n,r,a,l){var f=St();l=l===void 0?null:l;var d=f.memoizedState.inst;Qe!==null&&l!==null&&vd(l,Qe.memoizedState.deps)?f.memoizedState=Qa(r,d,a,l):(Oe.flags|=n,f.memoizedState=Qa(1|r,d,a,l))}function qy(n,r){Ac(8390656,8,n,r)}function Fy(n,r){wl(2048,8,n,r)}function Gy(n,r){return wl(4,2,n,r)}function Ky(n,r){return wl(4,4,n,r)}function $y(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Yy(n,r,a){a=a!=null?a.concat([n]):null,wl(4,4,$y.bind(null,r,n),a)}function Nd(){}function Qy(n,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&vd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Xy(n,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&vd(r,l[1]))return l[0];if(l=n(),Xs){In(!0);try{n()}finally{In(!1)}}return a.memoizedState=[l,r],l}function Od(n,r,a){return a===void 0||(Vr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=J_(),Oe.lanes|=n,Hr|=n,a)}function Wy(n,r,a,l){return vn(a,r)?a:Ka.current!==null?(n=Od(n,a,l),vn(n,r)||(Ut=!0),n):(Vr&42)===0?(Ut=!0,n.memoizedState=a):(n=J_(),Oe.lanes|=n,Hr|=n,r)}function Zy(n,r,a,l,f){var d=ue.p;ue.p=d!==0&&8>d?d:8;var E=Y.T,A={};Y.T=A,Pd(n,!1,r,a);try{var C=f(),j=Y.S;if(j!==null&&j(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=W1(C,l);Rl(n,r,Q,Sn(n))}else Rl(n,r,l,Sn(n))}catch(Z){Rl(n,r,{then:function(){},status:"rejected",reason:Z},Sn())}finally{ue.p=d,Y.T=E}}function nS(){}function xd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Jy(n).queue;Zy(n,f,r,pe,a===null?nS:function(){return e_(n),a(l)})}function Jy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function e_(n){var r=Jy(n).next.queue;Rl(n,r,{},Sn())}function Md(){return Zt(Fl)}function t_(){return St().memoizedState}function n_(){return St().memoizedState}function iS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Sn();n=Mr(a);var l=Pr(r,n,a);l!==null&&(wn(l,r,a),El(l,r,a)),r={cache:ud()},n.payload=r;return}r=r.return}}function rS(n,r,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},bc(n)?r_(r,a):(a=Jf(n,r,a,l),a!==null&&(wn(a,n,l),s_(a,r,l)))}function i_(n,r,a){var l=Sn();Rl(n,r,a,l)}function Rl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(n))r_(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,A=d(E,a);if(f.hasEagerState=!0,f.eagerState=A,vn(A,E))return ac(n,r,f,0),tt===null&&sc(),!1}catch{}finally{}if(a=Jf(n,r,f,l),a!==null)return wn(a,n,l),s_(a,r,l),!0}return!1}function Pd(n,r,a,l){if(l={lane:2,revertLane:fm(),action:l,hasEagerState:!1,eagerState:null,next:null},bc(n)){if(r)throw Error(s(479))}else r=Jf(n,a,l,2),r!==null&&wn(r,n,2)}function bc(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function r_(n,r){$a=yc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function s_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Er(n,a)}}var Sc={readContext:Zt,use:vc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},a_={readContext:Zt,use:vc,useCallback:function(n,r){return dn().memoizedState=[n,r===void 0?null:r],n},useContext:Zt,useEffect:qy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Ac(4194308,4,$y.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Ac(4194308,4,n,r)},useInsertionEffect:function(n,r){Ac(4,2,n,r)},useMemo:function(n,r){var a=dn();r=r===void 0?null:r;var l=n();if(Xs){In(!0);try{n()}finally{In(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=dn();if(a!==void 0){var f=a(r);if(Xs){In(!0);try{a(r)}finally{In(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=rS.bind(null,Oe,n),[l.memoizedState,n]},useRef:function(n){var r=dn();return n={current:n},r.memoizedState=n},useState:function(n){n=Cd(n);var r=n.queue,a=i_.bind(null,Oe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Nd,useDeferredValue:function(n,r){var a=dn();return Od(a,n,r)},useTransition:function(){var n=Cd(!1);return n=Zy.bind(null,Oe,n.queue,!0,!1),dn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Oe,f=dn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(ze&124)!==0||Iy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,qy(Dy.bind(null,l,d,n),[n]),l.flags|=2048,Qa(9,Tc(),Cy.bind(null,l,d,a,r),null),a},useId:function(){var n=dn(),r=tt.identifierPrefix;if(He){var a=Ki,l=Gi;a=(l&~(1<<32-an(l)-1)).toString(32)+a,r=""+r+"R"+a,a=_c++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=Z1++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Md,useFormState:Uy,useActionState:Uy,useOptimistic:function(n){var r=dn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Pd.bind(null,Oe,!0,a),a.dispatch=r,[n,r]},useMemoCache:wd,useCacheRefresh:function(){return dn().memoizedState=iS.bind(null,Oe)}},o_={readContext:Zt,use:vc,useCallback:Qy,useContext:Zt,useEffect:Fy,useImperativeHandle:Yy,useInsertionEffect:Gy,useLayoutEffect:Ky,useMemo:Xy,useReducer:Ec,useRef:Hy,useState:function(){return Ec(Qi)},useDebugValue:Nd,useDeferredValue:function(n,r){var a=St();return Wy(a,Qe.memoizedState,n,r)},useTransition:function(){var n=Ec(Qi)[0],r=St().memoizedState;return[typeof n=="boolean"?n:Sl(n),r]},useSyncExternalStore:Ry,useId:t_,useHostTransitionStatus:Md,useFormState:zy,useActionState:zy,useOptimistic:function(n,r){var a=St();return xy(a,Qe,n,r)},useMemoCache:wd,useCacheRefresh:n_},sS={readContext:Zt,use:vc,useCallback:Qy,useContext:Zt,useEffect:Fy,useImperativeHandle:Yy,useInsertionEffect:Gy,useLayoutEffect:Ky,useMemo:Xy,useReducer:Id,useRef:Hy,useState:function(){return Id(Qi)},useDebugValue:Nd,useDeferredValue:function(n,r){var a=St();return Qe===null?Od(a,n,r):Wy(a,Qe.memoizedState,n,r)},useTransition:function(){var n=Id(Qi)[0],r=St().memoizedState;return[typeof n=="boolean"?n:Sl(n),r]},useSyncExternalStore:Ry,useId:t_,useHostTransitionStatus:Md,useFormState:jy,useActionState:jy,useOptimistic:function(n,r){var a=St();return Qe!==null?xy(a,Qe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:wd,useCacheRefresh:n_},Xa=null,Il=0;function wc(n){var r=Il;return Il+=1,Xa===null&&(Xa=[]),_y(Xa,n,r)}function Cl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Rc(n,r){throw r.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function l_(n){var r=n._init;return r(n._payload)}function u_(n){function r(L,M){if(n){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function a(L,M){if(!n)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function f(L,M){return L=Fi(L,M),L.index=0,L.sibling=null,L}function d(L,M,z){return L.index=z,n?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function A(L,M,z,W){return M===null||M.tag!==6?(M=td(z,L.mode,W),M.return=L,M):(M=f(M,z),M.return=L,M)}function C(L,M,z,W){var fe=z.type;return fe===k?Q(L,M,z.props.children,W,z.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&l_(fe)===M.type)?(M=f(M,z.props),Cl(M,z),M.return=L,M):(M=lc(z.type,z.key,z.props,null,L.mode,W),Cl(M,z),M.return=L,M)}function j(L,M,z,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=nd(z,L.mode,W),M.return=L,M):(M=f(M,z.children||[]),M.return=L,M)}function Q(L,M,z,W,fe){return M===null||M.tag!==7?(M=Hs(z,L.mode,W,fe),M.return=L,M):(M=f(M,z),M.return=L,M)}function Z(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=td(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return z=lc(M.type,M.key,M.props,null,L.mode,z),Cl(z,M),z.return=L,z;case N:return M=nd(M,L.mode,z),M.return=L,M;case w:var W=M._init;return M=W(M._payload),Z(L,M,z)}if(Je(M)||U(M))return M=Hs(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return Z(L,wc(M),z);if(M.$$typeof===F)return Z(L,fc(L,M),z);Rc(L,M)}return null}function q(L,M,z,W){var fe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:A(L,M,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===fe?C(L,M,z,W):null;case N:return z.key===fe?j(L,M,z,W):null;case w:return fe=z._init,z=fe(z._payload),q(L,M,z,W)}if(Je(z)||U(z))return fe!==null?null:Q(L,M,z,W,null);if(typeof z.then=="function")return q(L,M,wc(z),W);if(z.$$typeof===F)return q(L,M,fc(L,z),W);Rc(L,z)}return null}function G(L,M,z,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(z)||null,A(M,L,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return L=L.get(W.key===null?z:W.key)||null,C(M,L,W,fe);case N:return L=L.get(W.key===null?z:W.key)||null,j(M,L,W,fe);case w:var xe=W._init;return W=xe(W._payload),G(L,M,z,W,fe)}if(Je(W)||U(W))return L=L.get(z)||null,Q(M,L,W,fe,null);if(typeof W.then=="function")return G(L,M,z,wc(W),fe);if(W.$$typeof===F)return G(L,M,z,fc(M,W),fe);Rc(M,W)}return null}function be(L,M,z,W){for(var fe=null,xe=null,ge=M,Ee=M=0,Bt=null;ge!==null&&Ee<z.length;Ee++){ge.index>Ee?(Bt=ge,ge=null):Bt=ge.sibling;var je=q(L,ge,z[Ee],W);if(je===null){ge===null&&(ge=Bt);break}n&&ge&&je.alternate===null&&r(L,ge),M=d(je,M,Ee),xe===null?fe=je:xe.sibling=je,xe=je,ge=Bt}if(Ee===z.length)return a(L,ge),He&&Fs(L,Ee),fe;if(ge===null){for(;Ee<z.length;Ee++)ge=Z(L,z[Ee],W),ge!==null&&(M=d(ge,M,Ee),xe===null?fe=ge:xe.sibling=ge,xe=ge);return He&&Fs(L,Ee),fe}for(ge=l(ge);Ee<z.length;Ee++)Bt=G(ge,L,Ee,z[Ee],W),Bt!==null&&(n&&Bt.alternate!==null&&ge.delete(Bt.key===null?Ee:Bt.key),M=d(Bt,M,Ee),xe===null?fe=Bt:xe.sibling=Bt,xe=Bt);return n&&ge.forEach(function(Wr){return r(L,Wr)}),He&&Fs(L,Ee),fe}function ve(L,M,z,W){if(z==null)throw Error(s(151));for(var fe=null,xe=null,ge=M,Ee=M=0,Bt=null,je=z.next();ge!==null&&!je.done;Ee++,je=z.next()){ge.index>Ee?(Bt=ge,ge=null):Bt=ge.sibling;var Wr=q(L,ge,je.value,W);if(Wr===null){ge===null&&(ge=Bt);break}n&&ge&&Wr.alternate===null&&r(L,ge),M=d(Wr,M,Ee),xe===null?fe=Wr:xe.sibling=Wr,xe=Wr,ge=Bt}if(je.done)return a(L,ge),He&&Fs(L,Ee),fe;if(ge===null){for(;!je.done;Ee++,je=z.next())je=Z(L,je.value,W),je!==null&&(M=d(je,M,Ee),xe===null?fe=je:xe.sibling=je,xe=je);return He&&Fs(L,Ee),fe}for(ge=l(ge);!je.done;Ee++,je=z.next())je=G(ge,L,Ee,je.value,W),je!==null&&(n&&je.alternate!==null&&ge.delete(je.key===null?Ee:je.key),M=d(je,M,Ee),xe===null?fe=je:xe.sibling=je,xe=je);return n&&ge.forEach(function(aw){return r(L,aw)}),He&&Fs(L,Ee),fe}function We(L,M,z,W){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:e:{for(var fe=z.key;M!==null;){if(M.key===fe){if(fe=z.type,fe===k){if(M.tag===7){a(L,M.sibling),W=f(M,z.props.children),W.return=L,L=W;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&l_(fe)===M.type){a(L,M.sibling),W=f(M,z.props),Cl(W,z),W.return=L,L=W;break e}a(L,M);break}else r(L,M);M=M.sibling}z.type===k?(W=Hs(z.props.children,L.mode,W,z.key),W.return=L,L=W):(W=lc(z.type,z.key,z.props,null,L.mode,W),Cl(W,z),W.return=L,L=W)}return E(L);case N:e:{for(fe=z.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(L,M.sibling),W=f(M,z.children||[]),W.return=L,L=W;break e}else{a(L,M);break}else r(L,M);M=M.sibling}W=nd(z,L.mode,W),W.return=L,L=W}return E(L);case w:return fe=z._init,z=fe(z._payload),We(L,M,z,W)}if(Je(z))return be(L,M,z,W);if(U(z)){if(fe=U(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),ve(L,M,z,W)}if(typeof z.then=="function")return We(L,M,wc(z),W);if(z.$$typeof===F)return We(L,M,fc(L,z),W);Rc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(L,M.sibling),W=f(M,z),W.return=L,L=W):(a(L,M),W=td(z,L.mode,W),W.return=L,L=W),E(L)):a(L,M)}return function(L,M,z,W){try{Il=0;var fe=We(L,M,z,W);return Xa=null,fe}catch(ge){if(ge===_l||ge===mc)throw ge;var xe=En(29,ge,null,L.mode);return xe.lanes=W,xe.return=L,xe}finally{}}}var Wa=u_(!0),c_=u_(!1),kn=J(null),gi=null;function kr(n){var r=n.alternate;le(xt,xt.current&1),le(kn,n),gi===null&&(r===null||Ka.current!==null||r.memoizedState!==null)&&(gi=n)}function h_(n){if(n.tag===22){if(le(xt,xt.current),le(kn,n),gi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(gi=n)}}else Lr()}function Lr(){le(xt,xt.current),le(kn,kn.current)}function Xi(n){oe(kn),gi===n&&(gi=null),oe(xt)}var xt=J(0);function Ic(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Sm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Vd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var kd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Sn(),f=Mr(l);f.payload=r,a!=null&&(f.callback=a),r=Pr(n,f,l),r!==null&&(wn(r,n,l),El(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Sn(),f=Mr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Pr(n,f,l),r!==null&&(wn(r,n,l),El(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Sn(),l=Mr(a);l.tag=2,r!=null&&(l.callback=r),r=Pr(n,l,a),r!==null&&(wn(r,n,a),El(r,n,a))}};function f_(n,r,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!cl(a,l)||!cl(f,d):!0}function d_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&kd.enqueueReplaceState(r,r.state,null)}function Ws(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Cc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function m_(n){Cc(n)}function p_(n){console.error(n)}function g_(n){Cc(n)}function Dc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function y_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ld(n,r,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Dc(n,r)},a}function __(n){return n=Mr(n),n.tag=3,n}function v_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){y_(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){y_(r,a,l),typeof f!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function aS(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&pl(r,a,f,!0),a=kn.current,a!==null){switch(a.tag){case 13:return gi===null?om():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===fd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),um(n,l,f)),!1;case 22:return a.flags|=65536,l===fd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),um(n,l,f)),!1}throw Error(s(435,a.tag))}return um(n,l,f),om(),!1}if(He)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==sd&&(n=Error(s(422),{cause:l}),ml(xn(n,a)))):(l!==sd&&(r=Error(s(423),{cause:l}),ml(xn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=xn(l,a),f=Ld(n.stateNode,l,f),pd(n,f),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),Vl===null?Vl=[d]:Vl.push(d),pt!==4&&(pt=2),r===null)return!0;l=xn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ld(a.stateNode,l,n),pd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=__(f),v_(f,n,a,l),pd(a,f),!1}a=a.return}while(a!==null);return!1}var E_=Error(s(461)),Ut=!1;function Ft(n,r,a,l){r.child=n===null?c_(r,null,a,l):Wa(r,n.child,a,l)}function T_(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var A in l)A!=="ref"&&(E[A]=l[A])}else E=l;return Ys(r),l=Ed(n,r,a,E,d,f),A=Td(),n!==null&&!Ut?(Ad(n,r,f),Wi(n,r,f)):(He&&A&&id(r),r.flags|=1,Ft(n,r,l,f),r.child)}function A_(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!ed(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,b_(n,r,d,l,f)):(n=lc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Gd(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(E,l)&&n.ref===r.ref)return Wi(n,r,f)}return r.flags|=1,n=Fi(d,l),n.ref=r.ref,n.return=r,r.child=n}function b_(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(cl(d,l)&&n.ref===r.ref)if(Ut=!1,r.pendingProps=l=d,Gd(n,f))(n.flags&131072)!==0&&(Ut=!0);else return r.lanes=n.lanes,Wi(n,r,f)}return Ud(n,r,a,l,f)}function S_(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return w_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(r,d!==null?d.cachePool:null),d!==null?by(r,d):yd(),h_(r);else return r.lanes=r.childLanes=536870912,w_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(dc(r,d.cachePool),by(r,d),Lr(),r.memoizedState=null):(n!==null&&dc(r,null),yd(),Lr());return Ft(n,r,f,a),r.child}function w_(n,r,a,l){var f=hd();return f=f===null?null:{parent:Ot._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&dc(r,null),yd(),h_(r),n!==null&&pl(n,r,l,!0),null}function Nc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Ud(n,r,a,l,f){return Ys(r),a=Ed(n,r,a,l,void 0,f),l=Td(),n!==null&&!Ut?(Ad(n,r,f),Wi(n,r,f)):(He&&l&&id(r),r.flags|=1,Ft(n,r,a,f),r.child)}function R_(n,r,a,l,f,d){return Ys(r),r.updateQueue=null,a=wy(r,l,a,f),Sy(n),l=Td(),n!==null&&!Ut?(Ad(n,r,d),Wi(n,r,d)):(He&&l&&id(r),r.flags|=1,Ft(n,r,a,d),r.child)}function I_(n,r,a,l,f){if(Ys(r),r.stateNode===null){var d=ja,E=a.contextType;typeof E=="object"&&E!==null&&(d=Zt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},dd(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Zt(E):ja,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Vd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&kd.enqueueReplaceState(d,d.state,null),Al(r,l,d,f),Tl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var A=r.memoizedProps,C=Ws(a,A);d.props=C;var j=d.context,Q=a.contextType;E=ja,typeof Q=="object"&&Q!==null&&(E=Zt(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||j!==E)&&d_(r,d,l,E),xr=!1;var q=r.memoizedState;d.state=q,Al(r,l,d,f),Tl(),j=r.memoizedState,A||q!==j||xr?(typeof Z=="function"&&(Vd(r,a,Z,l),j=r.memoizedState),(C=xr||f_(r,a,C,l,q,j,E))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,md(n,r),E=r.memoizedProps,Q=Ws(a,E),d.props=Q,Z=r.pendingProps,q=d.context,j=a.contextType,C=ja,typeof j=="object"&&j!==null&&(C=Zt(j)),A=a.getDerivedStateFromProps,(j=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==Z||q!==C)&&d_(r,d,l,C),xr=!1,q=r.memoizedState,d.state=q,Al(r,l,d,f),Tl();var G=r.memoizedState;E!==Z||q!==G||xr||n!==null&&n.dependencies!==null&&hc(n.dependencies)?(typeof A=="function"&&(Vd(r,a,A,l),G=r.memoizedState),(Q=xr||f_(r,a,Q,l,q,G,C)||n!==null&&n.dependencies!==null&&hc(n.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=C,l=Q):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Nc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Wa(r,n.child,null,f),r.child=Wa(r,null,a,f)):Ft(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Wi(n,r,f),n}function C_(n,r,a,l){return dl(),r.flags|=256,Ft(n,r,a,l),r.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(n){return{baseLanes:n,cachePool:py()}}function jd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Ln),n}function D_(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(xt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(He){if(f?kr(r):Lr(),He){var A=mt,C;if(C=A){e:{for(C=A,A=pi;C.nodeType!==8;){if(!A){A=null;break e}if(C=Jn(C.nextSibling),C===null){A=null;break e}}A=C}A!==null?(r.memoizedState={dehydrated:A,treeContext:qs!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},C=En(18,null,null,0),C.stateNode=A,C.return=r,r.child=C,cn=r,mt=null,C=!0):C=!1}C||Ks(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Sm(A)?r.lanes=32:r.lanes=536870912,null;Xi(r)}return A=l.children,l=l.fallback,f?(Lr(),f=r.mode,A=Oc({mode:"hidden",children:A},f),l=Hs(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,f=r.child,f.memoizedState=Bd(a),f.childLanes=jd(n,E,a),r.memoizedState=zd,l):(kr(r),Hd(r,A))}if(C=n.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(d)r.flags&256?(kr(r),r.flags&=-257,r=qd(n,r,a)):r.memoizedState!==null?(Lr(),r.child=n.child,r.flags|=128,r=null):(Lr(),f=l.fallback,A=r.mode,l=Oc({mode:"visible",children:l.children},A),f=Hs(f,A,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Wa(r,n.child,null,a),l=r.child,l.memoizedState=Bd(a),l.childLanes=jd(n,E,a),r.memoizedState=zd,r=f);else if(kr(r),Sm(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var j=E.dgst;E=j,l=Error(s(419)),l.stack="",l.digest=E,ml({value:l,source:null,stack:null}),r=qd(n,r,a)}else if(Ut||pl(n,r,a,!1),E=(a&n.childLanes)!==0,Ut||E){if(E=tt,E!==null&&(l=a&-a,l=(l&42)!==0?1:$o(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ba(n,l),wn(E,n,l),E_;A.data==="$?"||om(),r=qd(n,r,a)}else A.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=C.treeContext,mt=Jn(A.nextSibling),cn=r,He=!0,Gs=null,pi=!1,n!==null&&(Pn[Vn++]=Gi,Pn[Vn++]=Ki,Pn[Vn++]=qs,Gi=n.id,Ki=n.overflow,qs=r),r=Hd(r,l.children),r.flags|=4096);return r}return f?(Lr(),f=l.fallback,A=r.mode,C=n.child,j=C.sibling,l=Fi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?f=Fi(j,f):(f=Hs(f,A,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,A=n.child.memoizedState,A===null?A=Bd(a):(C=A.cachePool,C!==null?(j=Ot._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=py(),A={baseLanes:A.baseLanes|a,cachePool:C}),f.memoizedState=A,f.childLanes=jd(n,E,a),r.memoizedState=zd,l):(kr(r),a=n.child,n=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function Hd(n,r){return r=Oc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Oc(n,r){return n=En(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function qd(n,r,a){return Wa(r,n.child,null,a),n=Hd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function N_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),od(n.return,r,a)}function Fd(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function O_(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Ft(n,r,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&N_(n,a,r);else if(n.tag===19)N_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(le(xt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Ic(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Fd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Ic(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Fd(r,!0,a,null,d);break;case"together":Fd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Wi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Hr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(pl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Fi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Fi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Gd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&hc(n)))}function oS(n,r,a){switch(r.tag){case 3:Ue(r,r.stateNode.containerInfo),Or(r,Ot,n.memoizedState.cache),dl();break;case 27:case 5:Vi(r);break;case 4:Ue(r,r.stateNode.containerInfo);break;case 10:Or(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?D_(n,r,a):(kr(r),n=Wi(n,r,a),n!==null?n.sibling:null);kr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(pl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return O_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(xt,xt.current),l)break;return null;case 22:case 23:return r.lanes=0,S_(n,r,a);case 24:Or(r,Ot,n.memoizedState.cache)}return Wi(n,r,a)}function x_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ut=!0;else{if(!Gd(n,a)&&(r.flags&128)===0)return Ut=!1,oS(n,r,a);Ut=(n.flags&131072)!==0}else Ut=!1,He&&(r.flags&1048576)!==0&&ly(r,cc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")ed(l)?(n=Ws(l,n),r.tag=1,r=I_(null,r,l,n,a)):(r.tag=0,r=Ud(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===ie){r.tag=11,r=T_(null,r,l,n,a);break e}else if(f===R){r.tag=14,r=A_(null,r,l,n,a);break e}}throw r=ot(l)||l,Error(s(306,r,""))}}return r;case 0:return Ud(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ws(l,r.pendingProps),I_(n,r,l,f,a);case 3:e:{if(Ue(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,md(n,r),Al(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Or(r,Ot,l),l!==d.cache&&ld(r,[Ot],a,!0),Tl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=C_(n,r,l,a);break e}else if(l!==f){f=xn(Error(s(424)),r),ml(f),r=C_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(mt=Jn(n.firstChild),cn=r,He=!0,Gs=null,pi=!0,a=c_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(dl(),l===f){r=Wi(n,r,a);break e}Ft(n,r,l,a)}r=r.child}return r;case 26:return Nc(n,r),n===null?(a=kv(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,n=r.pendingProps,l=Gc(ye.current).createElement(a),l[yt]=r,l[qt]=n,Kt(l,a,n),_t(l),r.stateNode=l):r.memoizedState=kv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Vi(r),n===null&&He&&(l=r.stateNode=Mv(r.type,r.pendingProps,ye.current),cn=r,pi=!0,f=mt,Kr(r.type)?(wm=f,mt=Jn(l.firstChild)):mt=f),Ft(n,r,r.pendingProps.children,a),Nc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&He&&((f=l=mt)&&(l=VS(l,r.type,r.pendingProps,pi),l!==null?(r.stateNode=l,cn=r,mt=Jn(l.firstChild),pi=!1,f=!0):f=!1),f||Ks(r)),Vi(r),f=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,Tm(f,d)?l=null:E!==null&&Tm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Ed(n,r,J1,null,null,a),Fl._currentValue=f),Nc(n,r),Ft(n,r,l,a),r.child;case 6:return n===null&&He&&((n=a=mt)&&(a=kS(a,r.pendingProps,pi),a!==null?(r.stateNode=a,cn=r,mt=null,n=!0):n=!1),n||Ks(r)),null;case 13:return D_(n,r,a);case 4:return Ue(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Wa(r,null,l,a):Ft(n,r,l,a),r.child;case 11:return T_(n,r,r.type,r.pendingProps,a);case 7:return Ft(n,r,r.pendingProps,a),r.child;case 8:return Ft(n,r,r.pendingProps.children,a),r.child;case 12:return Ft(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Or(r,r.type,l.value),Ft(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ys(r),f=Zt(f),l=l(f),r.flags|=1,Ft(n,r,l,a),r.child;case 14:return A_(n,r,r.type,r.pendingProps,a);case 15:return b_(n,r,r.type,r.pendingProps,a);case 19:return O_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Oc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Fi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return S_(n,r,a);case 24:return Ys(r),l=Zt(Ot),n===null?(f=hd(),f===null&&(f=tt,d=ud(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},dd(r),Or(r,Ot,f)):((n.lanes&a)!==0&&(md(n,r),Al(r,null,null,a),Tl()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Or(r,Ot,l)):(l=d.cache,Or(r,Ot,l),l!==f.cache&&ld(r,[Ot],a,!0))),Ft(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zi(n){n.flags|=4}function M_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!jv(r)){if(r=kn.current,r!==null&&((ze&4194048)===ze?gi!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==gi))throw vl=fd,gy;n.flags|=8192}}function xc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?_r():536870912,n.lanes|=r,to|=r)}function Dl(n,r){if(!He)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ct(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function lS(n,r,a){var l=r.pendingProps;switch(rd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Yi(Ot),Ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(fl(r)?Zi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,hy())),ct(r),null;case 26:return a=r.memoizedState,n===null?(Zi(r),a!==null?(ct(r),M_(r,a)):(ct(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Zi(r),ct(r),M_(r,a)):(ct(r),r.flags&=-16777217):(n.memoizedProps!==l&&Zi(r),ct(r),r.flags&=-16777217),null;case 27:qn(r),a=ye.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}n=me.current,fl(r)?uy(r):(n=Mv(f,l,a),r.stateNode=n,Zi(r))}return ct(r),null;case 5:if(qn(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(n=me.current,fl(r))uy(r);else{switch(f=Gc(ye.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[yt]=r,n[qt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Kt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Zi(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Zi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=ye.current,fl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=cn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[yt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Rv(n.nodeValue,a)),n||Ks(r)}else n=Gc(n).createTextNode(l),n[yt]=r,r.stateNode=n}return ct(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=fl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[yt]=r}else dl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),f=!1}else f=hy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Xi(r),r):(Xi(r),null)}if(Xi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),xc(r,r.updateQueue),ct(r),null;case 4:return Ct(),n===null&&gm(r.stateNode.containerInfo),ct(r),null;case 10:return Yi(r.type),ct(r),null;case 19:if(oe(xt),f=r.memoizedState,f===null)return ct(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)Dl(f,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Ic(n),d!==null){for(r.flags|=128,Dl(f,!1),n=d.updateQueue,r.updateQueue=n,xc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)oy(a,n),a=a.sibling;return le(xt,xt.current&1|2),r.child}n=n.sibling}f.tail!==null&&fn()>Vc&&(r.flags|=128,l=!0,Dl(f,!1),r.lanes=4194304)}else{if(!l)if(n=Ic(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,xc(r,n),Dl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!He)return ct(r),null}else 2*fn()-f.renderingStartTime>Vc&&a!==536870912&&(r.flags|=128,l=!0,Dl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=fn(),r.sibling=null,n=xt.current,le(xt,l?n&1|2:n&1),r):(ct(r),null);case 22:case 23:return Xi(r),_d(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&xc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&oe(Qs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Yi(Ot),ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function uS(n,r){switch(rd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Yi(Ot),Ct(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return qn(r),null;case 13:if(Xi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));dl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return oe(xt),null;case 4:return Ct(),null;case 10:return Yi(r.type),null;case 22:case 23:return Xi(r),_d(),n!==null&&oe(Qs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Yi(Ot),null;case 25:return null;default:return null}}function P_(n,r){switch(rd(r),r.tag){case 3:Yi(Ot),Ct();break;case 26:case 27:case 5:qn(r);break;case 4:Ct();break;case 13:Xi(r);break;case 19:oe(xt);break;case 10:Yi(r.type);break;case 22:case 23:Xi(r),_d(),n!==null&&oe(Qs);break;case 24:Yi(Ot)}}function Nl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(A){Ze(r,r.return,A)}}function Ur(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=r;var C=a,j=A;try{j()}catch(Q){Ze(f,C,Q)}}}l=l.next}while(l!==d)}}catch(Q){Ze(r,r.return,Q)}}function V_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Ay(r,a)}catch(l){Ze(n,n.return,l)}}}function k_(n,r,a){a.props=Ws(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(n,r,l)}}function Ol(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Ze(n,r,f)}}function yi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(n,r,f)}else a.current=null}function L_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(n,n.return,f)}}function Kd(n,r,a){try{var l=n.stateNode;NS(l,n.type,a,r),l[qt]=r}catch(f){Ze(n,n.return,f)}}function U_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Kr(n.type)||n.tag===4}function $d(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||U_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Kr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Yd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Fc));else if(l!==4&&(l===27&&Kr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Yd(n,r,a),n=n.sibling;n!==null;)Yd(n,r,a),n=n.sibling}function Mc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Kr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Mc(n,r,a),n=n.sibling;n!==null;)Mc(n,r,a),n=n.sibling}function z_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Kt(r,l,a),r[yt]=n,r[qt]=a}catch(d){Ze(n,n.return,d)}}var Ji=!1,Tt=!1,Qd=!1,B_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function cS(n,r){if(n=n.containerInfo,vm=Wc,n=Wg(n),$f(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,A=-1,C=-1,j=0,Q=0,Z=n,q=null;t:for(;;){for(var G;Z!==a||f!==0&&Z.nodeType!==3||(A=E+f),Z!==d||l!==0&&Z.nodeType!==3||(C=E+l),Z.nodeType===3&&(E+=Z.nodeValue.length),(G=Z.firstChild)!==null;)q=Z,Z=G;for(;;){if(Z===n)break t;if(q===a&&++j===f&&(A=E),q===d&&++Q===l&&(C=E),(G=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=G}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Em={focusedElem:n,selectionRange:a},Wc=!1,zt=r;zt!==null;)if(r=zt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,zt=n;else for(;zt!==null;){switch(r=zt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Ws(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)bm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":bm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,zt=n;break}zt=r.return}}function j_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zr(n,a),l&4&&Nl(5,a);break;case 1:if(zr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){Ze(a,a.return,E)}else{var f=Ws(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(a,a.return,E)}}l&64&&V_(a),l&512&&Ol(a,a.return);break;case 3:if(zr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ay(n,r)}catch(E){Ze(a,a.return,E)}}break;case 27:r===null&&l&4&&z_(a);case 26:case 5:zr(n,a),r===null&&l&4&&L_(a),l&512&&Ol(a,a.return);break;case 12:zr(n,a);break;case 13:zr(n,a),l&4&&F_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=vS.bind(null,a),LS(n,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){r=r!==null&&r.memoizedState!==null||Tt,f=Ji;var d=Tt;Ji=l,(Tt=r)&&!d?Br(n,a,(a.subtreeFlags&8772)!==0):zr(n,a),Ji=f,Tt=d}break;case 30:break;default:zr(n,a)}}function H_(n){var r=n.alternate;r!==null&&(n.alternate=null,H_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&wa(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var lt=null,mn=!1;function er(n,r,a){for(a=a.child;a!==null;)q_(n,r,a),a=a.sibling}function q_(n,r,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(pr,a)}catch{}switch(a.tag){case 26:Tt||yi(a,r),er(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Tt||yi(a,r);var l=lt,f=mn;Kr(a.type)&&(lt=a.stateNode,mn=!1),er(n,r,a),Bl(a.stateNode),lt=l,mn=f;break;case 5:Tt||yi(a,r);case 6:if(l=lt,f=mn,lt=null,er(n,r,a),lt=l,mn=f,lt!==null)if(mn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{lt.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:lt!==null&&(mn?(n=lt,Ov(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Yl(n)):Ov(lt,a.stateNode));break;case 4:l=lt,f=mn,lt=a.stateNode.containerInfo,mn=!0,er(n,r,a),lt=l,mn=f;break;case 0:case 11:case 14:case 15:Tt||Ur(2,a,r),Tt||Ur(4,a,r),er(n,r,a);break;case 1:Tt||(yi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&k_(a,r,l)),er(n,r,a);break;case 21:er(n,r,a);break;case 22:Tt=(l=Tt)||a.memoizedState!==null,er(n,r,a),Tt=l;break;default:er(n,r,a)}}function F_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yl(n)}catch(a){Ze(r,r.return,a)}}function hS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new B_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new B_),r;default:throw Error(s(435,n.tag))}}function Xd(n,r){var a=hS(n);r.forEach(function(l){var f=ES.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Tn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=r,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(Kr(A.type)){lt=A.stateNode,mn=!1;break e}break;case 5:lt=A.stateNode,mn=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,mn=!0;break e}A=A.return}if(lt===null)throw Error(s(160));q_(d,E,f),lt=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)G_(r,n),r=r.sibling}var Zn=null;function G_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Tn(r,n),An(n),l&4&&(Ur(3,n,n.return),Nl(3,n),Ur(5,n,n.return));break;case 1:Tn(r,n),An(n),l&512&&(Tt||a===null||yi(a,a.return)),l&64&&Ji&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Zn;if(Tn(r,n),An(n),l&512&&(Tt||a===null||yi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Tr]||d[yt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,l,a),d[yt]=n,_t(d),l=d;break e;case"link":var E=zv("link","href",f).get(l+(a.href||""));if(E){for(var A=0;A<E.length;A++)if(d=E[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(A,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=zv("meta","content",f).get(l+(a.content||""))){for(A=0;A<E.length;A++)if(d=E[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(A,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[yt]=n,_t(d),l=d}n.stateNode=l}else Bv(f,n.type,n.stateNode);else n.stateNode=Uv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Bv(f,n.type,n.stateNode):Uv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Kd(n,n.memoizedProps,a.memoizedProps)}break;case 27:Tn(r,n),An(n),l&512&&(Tt||a===null||yi(a,a.return)),a!==null&&l&4&&Kd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Tn(r,n),An(n),l&512&&(Tt||a===null||yi(a,a.return)),n.flags&32){f=n.stateNode;try{Nn(f,"")}catch(G){Ze(n,n.return,G)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Kd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Qd=!0);break;case 6:if(Tn(r,n),An(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(G){Ze(n,n.return,G)}}break;case 3:if(Yc=null,f=Zn,Zn=Kc(r.containerInfo),Tn(r,n),Zn=f,An(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yl(r.containerInfo)}catch(G){Ze(n,n.return,G)}Qd&&(Qd=!1,K_(n));break;case 4:l=Zn,Zn=Kc(n.stateNode.containerInfo),Tn(r,n),An(n),Zn=l;break;case 12:Tn(r,n),An(n);break;case 13:Tn(r,n),An(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nm=fn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Xd(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=Ji,Q=Tt;if(Ji=j||f,Tt=Q||C,Tn(r,n),Tt=Q,Ji=j,An(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||Ji||Tt||Zs(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=C.stateNode;var Z=C.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){Ze(C,C.return,G)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(G){Ze(C,C.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Xd(n,a))));break;case 19:Tn(r,n),An(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Xd(n,l)));break;case 30:break;case 21:break;default:Tn(r,n),An(n)}}function An(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(U_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=$d(n);Mc(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(Nn(E,""),a.flags&=-33);var A=$d(n);Mc(n,A,E);break;case 3:case 4:var C=a.stateNode.containerInfo,j=$d(n);Yd(n,j,C);break;default:throw Error(s(161))}}catch(Q){Ze(n,n.return,Q)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function K_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;K_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function zr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)j_(n,r.alternate,r),r=r.sibling}function Zs(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Ur(4,r,r.return),Zs(r);break;case 1:yi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&k_(r,r.return,a),Zs(r);break;case 27:Bl(r.stateNode);case 26:case 5:yi(r,r.return),Zs(r);break;case 22:r.memoizedState===null&&Zs(r);break;case 30:Zs(r);break;default:Zs(r)}n=n.sibling}}function Br(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Br(f,d,a),Nl(4,d);break;case 1:if(Br(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Ze(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Ty(C[f],A)}catch(j){Ze(l,l.return,j)}}a&&E&64&&V_(d),Ol(d,d.return);break;case 27:z_(d);case 26:case 5:Br(f,d,a),a&&l===null&&E&4&&L_(d),Ol(d,d.return);break;case 12:Br(f,d,a);break;case 13:Br(f,d,a),a&&E&4&&F_(f,d);break;case 22:d.memoizedState===null&&Br(f,d,a),Ol(d,d.return);break;case 30:break;default:Br(f,d,a)}r=r.sibling}}function Wd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&gl(a))}function Zd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&gl(n))}function _i(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$_(n,r,a,l),r=r.sibling}function $_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:_i(n,r,a,l),f&2048&&Nl(9,r);break;case 1:_i(n,r,a,l);break;case 3:_i(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&gl(n)));break;case 12:if(f&2048){_i(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,A=d.onPostCommit;typeof A=="function"&&A(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Ze(r,r.return,C)}}else _i(n,r,a,l);break;case 13:_i(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?_i(n,r,a,l):xl(n,r):d._visibility&2?_i(n,r,a,l):(d._visibility|=2,Za(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Wd(E,r);break;case 24:_i(n,r,a,l),f&2048&&Zd(r.alternate,r);break;default:_i(n,r,a,l)}}function Za(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,E=r,A=a,C=l,j=E.flags;switch(E.tag){case 0:case 11:case 15:Za(d,E,A,C,f),Nl(8,E);break;case 23:break;case 22:var Q=E.stateNode;E.memoizedState!==null?Q._visibility&2?Za(d,E,A,C,f):xl(d,E):(Q._visibility|=2,Za(d,E,A,C,f)),f&&j&2048&&Wd(E.alternate,E);break;case 24:Za(d,E,A,C,f),f&&j&2048&&Zd(E.alternate,E);break;default:Za(d,E,A,C,f)}r=r.sibling}}function xl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:xl(a,l),f&2048&&Wd(l.alternate,l);break;case 24:xl(a,l),f&2048&&Zd(l.alternate,l);break;default:xl(a,l)}r=r.sibling}}var Ml=8192;function Ja(n){if(n.subtreeFlags&Ml)for(n=n.child;n!==null;)Y_(n),n=n.sibling}function Y_(n){switch(n.tag){case 26:Ja(n),n.flags&Ml&&n.memoizedState!==null&&XS(Zn,n.memoizedState,n.memoizedProps);break;case 5:Ja(n);break;case 3:case 4:var r=Zn;Zn=Kc(n.stateNode.containerInfo),Ja(n),Zn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ml,Ml=16777216,Ja(n),Ml=r):Ja(n));break;default:Ja(n)}}function Q_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Pl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,W_(l,n)}Q_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)X_(n),n=n.sibling}function X_(n){switch(n.tag){case 0:case 11:case 15:Pl(n),n.flags&2048&&Ur(9,n,n.return);break;case 3:Pl(n);break;case 12:Pl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Pc(n)):Pl(n);break;default:Pl(n)}}function Pc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,W_(l,n)}Q_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Ur(8,r,r.return),Pc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Pc(r));break;default:Pc(r)}n=n.sibling}}function W_(n,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Ur(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=n;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(H_(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var fS={getCacheForType:function(n){var r=Zt(Ot),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},dS=typeof WeakMap=="function"?WeakMap:Map,Ke=0,tt=null,Me=null,ze=0,$e=0,bn=null,jr=!1,eo=!1,Jd=!1,tr=0,pt=0,Hr=0,Js=0,em=0,Ln=0,to=0,Vl=null,pn=null,tm=!1,nm=0,Vc=1/0,kc=null,qr=null,Gt=0,Fr=null,no=null,io=0,im=0,rm=null,Z_=null,kl=0,sm=null;function Sn(){if((Ke&2)!==0&&ze!==0)return ze&-ze;if(Y.T!==null){var n=Fa;return n!==0?n:fm()}return Li()}function J_(){Ln===0&&(Ln=(ze&536870912)===0||He?Ko():536870912);var n=kn.current;return n!==null&&(n.flags|=32),Ln}function wn(n,r,a){(n===tt&&($e===2||$e===9)||n.cancelPendingCommit!==null)&&(ro(n,0),Gr(n,ze,Ln,!1)),gt(n,a),((Ke&2)===0||n!==tt)&&(n===tt&&((Ke&2)===0&&(Js|=a),pt===4&&Gr(n,ze,Ln,!1)),vi(n))}function ev(n,r,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||yr(n,r),f=l?gS(n,r):lm(n,r,!0),d=l;do{if(f===0){eo&&!l&&Gr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!mS(a)){f=lm(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var A=n;f=Vl;var C=A.current.memoizedState.isDehydrated;if(C&&(ro(A,E).flags|=256),E=lm(A,E,!1),E!==2){if(Jd&&!C){A.errorRecoveryDisabledLanes|=d,Js|=d,f=4;break e}d=pn,pn=f,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){ro(n,0),Gr(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Gr(l,r,Ln,!jr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=nm+300-fn(),10<f)){if(Gr(l,r,Ln,!jr),Cn(l,0,!0)!==0)break e;l.timeoutHandle=Dv(tv.bind(null,l,a,pn,kc,tm,r,Ln,Js,to,jr,d,2,-0,0),f);break e}tv(l,a,pn,kc,tm,r,Ln,Js,to,jr,d,0,-0,0)}}break}while(!0);vi(n)}function tv(n,r,a,l,f,d,E,A,C,j,Q,Z,q,G){if(n.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:QS},Y_(r),Z=WS(),Z!==null)){n.cancelPendingCommit=Z(lv.bind(null,n,r,d,a,l,f,E,A,C,Q,1,q,G)),Gr(n,d,E,!j);return}lv(n,r,d,a,l,f,E,A,C)}function mS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!vn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gr(n,r,a,l){r&=~em,r&=~Js,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-an(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&vr(n,a,r)}function Lc(){return(Ke&6)===0?(Ll(0),!1):!0}function am(){if(Me!==null){if($e===0)var n=Me.return;else n=Me,$i=$s=null,bd(n),Xa=null,Il=0,n=Me;for(;n!==null;)P_(n.alternate,n),n=n.return;Me=null}}function ro(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,xS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),am(),tt=n,Me=a=Fi(n.current,null),ze=r,$e=0,bn=null,jr=!1,eo=yr(n,r),Jd=!1,to=Ln=em=Js=Hr=pt=0,pn=Vl=null,tm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-an(l),d=1<<f;r|=n[f],l&=~d}return tr=r,sc(),a}function nv(n,r){Oe=null,Y.H=Sc,r===_l||r===mc?(r=vy(),$e=3):r===gy?(r=vy(),$e=4):$e=r===E_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,Me===null&&(pt=1,Dc(n,xn(r,n.current)))}function iv(){var n=Y.H;return Y.H=Sc,n===null?Sc:n}function rv(){var n=Y.A;return Y.A=fS,n}function om(){pt=4,jr||(ze&4194048)!==ze&&kn.current!==null||(eo=!0),(Hr&134217727)===0&&(Js&134217727)===0||tt===null||Gr(tt,ze,Ln,!1)}function lm(n,r,a){var l=Ke;Ke|=2;var f=iv(),d=rv();(tt!==n||ze!==r)&&(kc=null,ro(n,r)),r=!1;var E=pt;e:do try{if($e!==0&&Me!==null){var A=Me,C=bn;switch($e){case 8:am(),E=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var j=$e;if($e=0,bn=null,so(n,A,C,j),a&&eo){E=0;break e}break;default:j=$e,$e=0,bn=null,so(n,A,C,j)}}pS(),E=pt;break}catch(Q){nv(n,Q)}while(!0);return r&&n.shellSuspendCounter++,$i=$s=null,Ke=l,Y.H=f,Y.A=d,Me===null&&(tt=null,ze=0,sc()),E}function pS(){for(;Me!==null;)sv(Me)}function gS(n,r){var a=Ke;Ke|=2;var l=iv(),f=rv();tt!==n||ze!==r?(kc=null,Vc=fn()+500,ro(n,r)):eo=yr(n,r);e:do try{if($e!==0&&Me!==null){r=Me;var d=bn;t:switch($e){case 1:$e=0,bn=null,so(n,r,d,1);break;case 2:case 9:if(yy(d)){$e=0,bn=null,av(r);break}r=function(){$e!==2&&$e!==9||tt!==n||($e=7),vi(n)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:yy(d)?($e=0,bn=null,av(r)):($e=0,bn=null,so(n,r,d,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var A=Me;if(!E||jv(E)){$e=0,bn=null;var C=A.sibling;if(C!==null)Me=C;else{var j=A.return;j!==null?(Me=j,Uc(j)):Me=null}break t}}$e=0,bn=null,so(n,r,d,5);break;case 6:$e=0,bn=null,so(n,r,d,6);break;case 8:am(),pt=6;break e;default:throw Error(s(462))}}yS();break}catch(Q){nv(n,Q)}while(!0);return $i=$s=null,Y.H=l,Y.A=f,Ke=a,Me!==null?0:(tt=null,ze=0,sc(),pt)}function yS(){for(;Me!==null&&!kf();)sv(Me)}function sv(n){var r=x_(n.alternate,n,tr);n.memoizedProps=n.pendingProps,r===null?Uc(n):Me=r}function av(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=R_(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=R_(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:bd(r);default:P_(a,r),r=Me=oy(r,tr),r=x_(a,r,tr)}n.memoizedProps=n.pendingProps,r===null?Uc(n):Me=r}function so(n,r,a,l){$i=$s=null,bd(r),Xa=null,Il=0;var f=r.return;try{if(aS(n,f,r,a,ze)){pt=1,Dc(n,xn(a,n.current)),Me=null;return}}catch(d){if(f!==null)throw Me=f,d;pt=1,Dc(n,xn(a,n.current)),Me=null;return}r.flags&32768?(He||l===1?n=!0:eo||(ze&536870912)!==0?n=!1:(jr=n=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ov(r,n)):Uc(r)}function Uc(n){var r=n;do{if((r.flags&32768)!==0){ov(r,jr);return}n=r.return;var a=lS(r.alternate,r,tr);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=n}while(r!==null);pt===0&&(pt=5)}function ov(n,r){do{var a=uS(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);pt=6,Me=null}function lv(n,r,a,l,f,d,E,A,C){n.cancelPendingCommit=null;do zc();while(Gt!==0);if((Ke&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Zf,Hu(n,a,d,E,A,C),n===tt&&(Me=tt=null,ze=0),no=r,Fr=n,io=a,im=d,rm=f,Z_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,TS(ki,function(){return dv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=ue.p,ue.p=2,E=Ke,Ke|=4;try{cS(n,r,a)}finally{Ke=E,ue.p=f,Y.T=l}}Gt=1,uv(),cv(),hv()}}function uv(){if(Gt===1){Gt=0;var n=Fr,r=no,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ue.p;ue.p=2;var f=Ke;Ke|=4;try{G_(r,n);var d=Em,E=Wg(n.containerInfo),A=d.focusedElem,C=d.selectionRange;if(E!==A&&A&&A.ownerDocument&&Xg(A.ownerDocument.documentElement,A)){if(C!==null&&$f(A)){var j=C.start,Q=C.end;if(Q===void 0&&(Q=j),"selectionStart"in A)A.selectionStart=j,A.selectionEnd=Math.min(Q,A.value.length);else{var Z=A.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var G=q.getSelection(),be=A.textContent.length,ve=Math.min(C.start,be),We=C.end===void 0?ve:Math.min(C.end,be);!G.extend&&ve>We&&(E=We,We=ve,ve=E);var L=Qg(A,ve),M=Qg(A,We);if(L&&M&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),G.removeAllRanges(),ve>We?(G.addRange(z),G.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),G.addRange(z))}}}}for(Z=[],G=A;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Z.length;A++){var W=Z[A];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Wc=!!vm,Em=vm=null}finally{Ke=f,ue.p=l,Y.T=a}}n.current=r,Gt=2}}function cv(){if(Gt===2){Gt=0;var n=Fr,r=no,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ue.p;ue.p=2;var f=Ke;Ke|=4;try{j_(n,r.alternate,r)}finally{Ke=f,ue.p=l,Y.T=a}}Gt=3}}function hv(){if(Gt===4||Gt===3){Gt=0,Fo();var n=Fr,r=no,a=io,l=Z_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,no=Fr=null,fv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(qr=null),Yo(a),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(pr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,f=ue.p,ue.p=2,Y.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var A=l[E];d(A.value,{componentStack:A.stack})}}finally{Y.T=r,ue.p=f}}(io&3)!==0&&zc(),vi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===sm?kl++:(kl=0,sm=n):kl=0,Ll(0)}}function fv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,gl(r)))}function zc(n){return uv(),cv(),hv(),dv()}function dv(){if(Gt!==5)return!1;var n=Fr,r=im;im=0;var a=Yo(io),l=Y.T,f=ue.p;try{ue.p=32>a?32:a,Y.T=null,a=rm,rm=null;var d=Fr,E=io;if(Gt=0,no=Fr=null,io=0,(Ke&6)!==0)throw Error(s(331));var A=Ke;if(Ke|=4,X_(d.current),$_(d,d.current,E,a),Ke=A,Ll(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(pr,d)}catch{}return!0}finally{ue.p=f,Y.T=l,fv(n,r)}}function mv(n,r,a){r=xn(a,r),r=Ld(n.stateNode,r,2),n=Pr(n,r,2),n!==null&&(gt(n,2),vi(n))}function Ze(n,r,a){if(n.tag===3)mv(n,n,a);else for(;r!==null;){if(r.tag===3){mv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){n=xn(a,n),a=__(2),l=Pr(r,a,2),l!==null&&(v_(a,l,r,n),gt(l,2),vi(l));break}}r=r.return}}function um(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new dS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Jd=!0,f.add(a),n=_S.bind(null,n,r,a),r.then(n,n))}function _S(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(ze&a)===a&&(pt===4||pt===3&&(ze&62914560)===ze&&300>fn()-nm?(Ke&2)===0&&ro(n,0):em|=a,to===ze&&(to=0)),vi(n)}function pv(n,r){r===0&&(r=_r()),n=Ba(n,r),n!==null&&(gt(n,r),vi(n))}function vS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),pv(n,a)}function ES(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),pv(n,a)}function TS(n,r){return _s(n,r)}var Bc=null,ao=null,cm=!1,jc=!1,hm=!1,ea=0;function vi(n){n!==ao&&n.next===null&&(ao===null?Bc=ao=n:ao=ao.next=n),jc=!0,cm||(cm=!0,bS())}function Ll(n,r){if(!hm&&jc){hm=!0;do for(var a=!1,l=Bc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-an(42|n)+1)-1,d&=f&~(E&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,vv(l,d))}else d=ze,d=Cn(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||yr(l,d)||(a=!0,vv(l,d));l=l.next}while(a);hm=!1}}function AS(){gv()}function gv(){jc=cm=!1;var n=0;ea!==0&&(OS()&&(n=ea),ea=0);for(var r=fn(),a=null,l=Bc;l!==null;){var f=l.next,d=yv(l,r);d===0?(l.next=null,a===null?Bc=f:a.next=f,f===null&&(ao=a)):(a=l,(n!==0||(d&3)!==0)&&(jc=!0)),l=f}Ll(n)}function yv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-an(d),A=1<<E,C=f[E];C===-1?((A&a)===0||(A&l)!==0)&&(f[E]=ba(A,r)):C<=r&&(n.expiredLanes|=A),d&=~A}if(r=tt,a=ze,a=Cn(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&($e===2||$e===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Aa(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||yr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Aa(l),Yo(a)){case 2:case 8:a=kt;break;case 32:a=ki;break;case 268435456:a=Go;break;default:a=ki}return l=_v.bind(null,n),a=_s(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Aa(l),n.callbackPriority=2,n.callbackNode=null,2}function _v(n,r){if(Gt!==0&&Gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(zc()&&n.callbackNode!==a)return null;var l=ze;return l=Cn(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(ev(n,l,r),yv(n,fn()),n.callbackNode!=null&&n.callbackNode===a?_v.bind(null,n):null)}function vv(n,r){if(zc())return null;ev(n,r,!0)}function bS(){MS(function(){(Ke&6)!==0?_s(Dt,AS):gv()})}function fm(){return ea===0&&(ea=Ko()),ea}function Ev(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:$n(""+n)}function Tv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function SS(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Ev((f[qt]||null).action),E=l.submitter;E&&(r=(r=E[qt]||null)?Ev(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var A=new Ms("action","action",null,l,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ea!==0){var C=E?Tv(f,E):new FormData(f);xd(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(A.preventDefault(),C=E?Tv(f,E):new FormData(f),xd(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var dm=0;dm<Wf.length;dm++){var mm=Wf[dm],wS=mm.toLowerCase(),RS=mm[0].toUpperCase()+mm.slice(1);Wn(wS,"on"+RS)}Wn(ey,"onAnimationEnd"),Wn(ty,"onAnimationIteration"),Wn(ny,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(q1,"onTransitionRun"),Wn(F1,"onTransitionStart"),Wn(G1,"onTransitionCancel"),Wn(iy,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Av(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var A=l[E],C=A.instance,j=A.currentTarget;if(A=A.listener,C!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=j;try{d(f)}catch(Q){Cc(Q)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(A=l[E],C=A.instance,j=A.currentTarget,A=A.listener,C!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=j;try{d(f)}catch(Q){Cc(Q)}f.currentTarget=null,d=C}}}}function Pe(n,r){var a=r[Es];a===void 0&&(a=r[Es]=new Set);var l=n+"__bubble";a.has(l)||(bv(r,n,2,!1),a.add(l))}function pm(n,r,a){var l=0;r&&(l|=4),bv(a,n,l,r)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function gm(n){if(!n[Hc]){n[Hc]=!0,qu.forEach(function(a){a!=="selectionchange"&&(IS.has(a)||pm(a,!1,n),pm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Hc]||(r[Hc]=!0,pm("selectionchange",!1,r))}}function bv(n,r,a,l){switch($v(r)){case 2:var f=ew;break;case 8:f=tw;break;default:f=Nm}a=f.bind(null,r,a,n),f=void 0,!Hi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function ym(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var A=l.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=li(A),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}A=A.parentNode}}l=l.return}Ns(function(){var j=d,Q=tl(a),Z=[];e:{var q=ry.get(n);if(q!==void 0){var G=Ms,be=n;switch(n){case"keypress":if(Os(a)===0)break e;case"keydown":case"keyup":G=ka;break;case"focusin":be="focus",G=Ma;break;case"focusout":be="blur",G=Ma;break;case"beforeblur":case"afterblur":G=Ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Nr;break;case ey:case ty:case ny:G=il;break;case iy:G=y;break;case"scroll":case"scrollend":G=Vs;break;case"wheel":G=S;break;case"copy":case"cut":case"paste":G=Zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=al;break;case"toggle":case"beforetoggle":G=K}var ve=(r&4)!==0,We=!ve&&(n==="scroll"||n==="scrollend"),L=ve?q!==null?q+"Capture":null:q;ve=[];for(var M=j,z;M!==null;){var W=M;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||L===null||(W=Cr(M,L),W!=null&&ve.push(zl(M,W,z))),We)break;M=M.return}0<ve.length&&(q=new G(q,be,null,a,Q),Z.push({event:q,listeners:ve}))}}if((r&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",q&&a!==el&&(be=a.relatedTarget||a.fromElement)&&(li(be)||be[Ui]))break e;if((G||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,G?(be=a.relatedTarget||a.toElement,G=j,be=be?li(be):null,be!==null&&(We=u(be),ve=be.tag,be!==We||ve!==5&&ve!==27&&ve!==6)&&(be=null)):(G=null,be=j),G!==be)){if(ve=Us,W="onMouseLeave",L="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(ve=al,W="onPointerLeave",L="onPointerEnter",M="pointer"),We=G==null?q:Ar(G),z=be==null?q:Ar(be),q=new ve(W,M+"leave",G,a,Q),q.target=We,q.relatedTarget=z,W=null,li(Q)===j&&(ve=new ve(L,M+"enter",be,a,Q),ve.target=z,ve.relatedTarget=We,W=ve),We=W,G&&be)t:{for(ve=G,L=be,M=0,z=ve;z;z=oo(z))M++;for(z=0,W=L;W;W=oo(W))z++;for(;0<M-z;)ve=oo(ve),M--;for(;0<z-M;)L=oo(L),z--;for(;M--;){if(ve===L||L!==null&&ve===L.alternate)break t;ve=oo(ve),L=oo(L)}ve=null}else ve=null;G!==null&&Sv(Z,q,G,ve,!1),be!==null&&We!==null&&Sv(Z,We,be,ve,!0)}}e:{if(q=j?Ar(j):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var fe=qg;else if(jg(q))if(Fg)fe=B1;else{fe=U1;var xe=L1}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&Na(j.elementType)&&(fe=qg):fe=z1;if(fe&&(fe=fe(n,j))){Hg(Z,fe,a,Q);break e}xe&&xe(n,q,j),n==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&Wo(q,"number",q.value)}switch(xe=j?Ar(j):window,n){case"focusin":(jg(xe)||xe.contentEditable==="true")&&(La=xe,Yf=j,hl=null);break;case"focusout":hl=Yf=La=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Zg(Z,a,Q);break;case"selectionchange":if(H1)break;case"keydown":case"keyup":Zg(Z,a,Q)}var ge;if(we)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Xn?Yn(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(vt&&a.locale!=="ko"&&(Xn||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Xn&&(ge=Qu()):(On=Q,et="value"in On?On.value:On.textContent,Xn=!0)),xe=qc(j,Ee),0<xe.length&&(Ee=new sl(Ee,n,null,a,Q),Z.push({event:Ee,listeners:xe}),ge?Ee.data=ge:(ge=Qn(a),ge!==null&&(Ee.data=ge)))),(ge=Ge?ol(n,a):P1(n,a))&&(Ee=qc(j,"onBeforeInput"),0<Ee.length&&(xe=new sl("onBeforeInput","beforeinput",null,a,Q),Z.push({event:xe,listeners:Ee}),xe.data=ge)),SS(Z,n,j,a,Q)}Av(Z,r)})}function zl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function qc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Cr(n,a),f!=null&&l.unshift(zl(n,f,d)),f=Cr(n,r),f!=null&&l.push(zl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function oo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Sv(n,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var A=a,C=A.alternate,j=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||j===null||(C=j,f?(j=Cr(a,d),j!=null&&E.unshift(zl(a,j,C))):f||(j=Cr(a,d),j!=null&&E.push(zl(a,j,C)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var CS=/\r\n?/g,DS=/\u0000|\uFFFD/g;function wv(n){return(typeof n=="string"?n:""+n).replace(CS,`
`).replace(DS,"")}function Rv(n,r){return r=wv(r),wv(n)===r}function Fc(){}function Xe(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Nn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Nn(n,""+l);break;case"className":ws(n,"class",l);break;case"tabIndex":ws(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(n,a,l);break;case"style":Jo(n,l,d);break;case"data":if(r!=="object"){ws(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=$n(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Xe(n,r,"name",f.name,f,null),Xe(n,r,"formEncType",f.formEncType,f,null),Xe(n,r,"formMethod",f.formMethod,f,null),Xe(n,r,"formTarget",f.formTarget,f,null)):(Xe(n,r,"encType",f.encType,f,null),Xe(n,r,"method",f.method,f,null),Xe(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=$n(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=$n(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Ss(n,"popover",l);break;case"xlinkActuate":Dn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ss(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ku.get(a)||a,Ss(n,a,l))}}function _m(n,r,a,l,f,d){switch(a){case"style":Jo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Nn(n,l):(typeof l=="number"||typeof l=="bigint")&&Nn(n,""+l);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!As.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ss(n,a,l)}}}function Kt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(n,r,d,E,a,null)}}f&&Xe(n,r,"srcSet",a.srcSet,a,null),l&&Xe(n,r,"src",a.src,a,null);return;case"input":Pe("invalid",n);var A=d=E=f=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":E=Q;break;case"checked":C=Q;break;case"defaultChecked":j=Q;break;case"value":d=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Xe(n,r,l,Q,a,null)}}Xo(n,d,A,C,j,E,f,!1),wr(n);return;case"select":Pe("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":E=A;break;case"multiple":l=A;default:Xe(n,r,f,A,a,null)}r=d,a=E,n.multiple=!!l,r!=null?Rr(n,!!l,r,!1):a!=null&&Rr(n,!!l,a,!0);return;case"textarea":Pe("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(A=a[E],A!=null))switch(E){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Xe(n,r,E,A,a,null)}Gu(n,l,f,d),wr(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(n,r,C,l,a,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Pe(Ul[l],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(n,r,j,l,a,null)}return;default:if(Na(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&_m(n,r,Q,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Xe(n,r,A,l,a,null))}function NS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,A=null,C=null,j=null,Q=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(G)||Xe(n,r,G,null,l,Z)}}for(var q in l){var G=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(G!=null||Z!=null))switch(q){case"type":d=G;break;case"name":f=G;break;case"checked":j=G;break;case"defaultChecked":Q=G;break;case"value":E=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==Z&&Xe(n,r,q,G,l,Z)}}Qo(n,E,A,C,j,Q,d,f);return;case"select":G=E=A=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Xe(n,r,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":E=d;default:d!==C&&Xe(n,r,f,d,l,C)}r=A,a=E,l=G,q!=null?Rr(n,!!a,q,!1):!!l!=!!a&&(r!=null?Rr(n,!!a,r,!0):Rr(n,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Xe(n,r,A,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":q=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Xe(n,r,E,f,l,d)}Fu(n,q,G);return;case"option":for(var be in a)if(q=a[be],a.hasOwnProperty(be)&&q!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:Xe(n,r,be,null,l,q)}for(C in l)if(q=l[C],G=a[C],l.hasOwnProperty(C)&&q!==G&&(q!=null||G!=null))switch(C){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xe(n,r,C,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!l.hasOwnProperty(ve)&&Xe(n,r,ve,null,l,q);for(j in l)if(q=l[j],G=a[j],l.hasOwnProperty(j)&&q!==G&&(q!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:Xe(n,r,j,q,l,G)}return;default:if(Na(r)){for(var We in a)q=a[We],a.hasOwnProperty(We)&&q!==void 0&&!l.hasOwnProperty(We)&&_m(n,r,We,void 0,l,q);for(Q in l)q=l[Q],G=a[Q],!l.hasOwnProperty(Q)||q===G||q===void 0&&G===void 0||_m(n,r,Q,q,l,G);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Xe(n,r,L,null,l,q);for(Z in l)q=l[Z],G=a[Z],!l.hasOwnProperty(Z)||q===G||q==null&&G==null||Xe(n,r,Z,q,l,G)}var vm=null,Em=null;function Gc(n){return n.nodeType===9?n:n.ownerDocument}function Iv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Tm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Am=null;function OS(){var n=window.event;return n&&n.type==="popstate"?n===Am?!1:(Am=n,!0):(Am=null,!1)}var Dv=typeof setTimeout=="function"?setTimeout:void 0,xS=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(n){return Nv.resolve(null).then(n).catch(PS)}:Dv;function PS(n){setTimeout(function(){throw n})}function Kr(n){return n==="head"}function Ov(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Bl(E.documentElement),a&2&&Bl(E.body),a&4)for(a=E.head,Bl(a),E=a.firstChild;E;){var A=E.nextSibling,C=E.nodeName;E[Tr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=A}}if(f===0){n.removeChild(d),Yl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Yl(r)}function bm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bm(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function VS(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Tr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Jn(n.nextSibling),n===null)break}return null}function kS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Jn(n.nextSibling),n===null))return null;return n}function Sm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function LS(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Jn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var wm=null;function xv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Mv(n,r,a){switch(r=Gc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Bl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);wa(n)}var Un=new Map,Pv=new Set;function Kc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var nr=ue.d;ue.d={f:US,r:zS,D:BS,C:jS,L:HS,m:qS,X:GS,S:FS,M:KS};function US(){var n=nr.f(),r=Lc();return n||r}function zS(n){var r=ui(n);r!==null&&r.tag===5&&r.type==="form"?e_(r):nr.r(n)}var lo=typeof document>"u"?null:document;function Vv(n,r,a){var l=lo;if(l&&typeof r=="string"&&r){var f=Lt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Pv.has(f)||(Pv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Kt(r,"link",n),_t(r),l.head.appendChild(r)))}}function BS(n){nr.D(n),Vv("dns-prefetch",n,null)}function jS(n,r){nr.C(n,r),Vv("preconnect",n,r)}function HS(n,r,a){nr.L(n,r,a);var l=lo;if(l&&n&&r){var f='link[rel="preload"][as="'+Lt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Lt(a.imageSizes)+'"]')):f+='[href="'+Lt(n)+'"]';var d=f;switch(r){case"style":d=uo(n);break;case"script":d=co(n)}Un.has(d)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Un.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(jl(d))||r==="script"&&l.querySelector(Hl(d))||(r=l.createElement("link"),Kt(r,"link",n),_t(r),l.head.appendChild(r)))}}function qS(n,r){nr.m(n,r);var a=lo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Lt(l)+'"][href="'+Lt(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(n)}if(!Un.has(d)&&(n=_({rel:"modulepreload",href:n},r),Un.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(d)))return}l=a.createElement("link"),Kt(l,"link",n),_t(l),a.head.appendChild(l)}}}function FS(n,r,a){nr.S(n,r,a);var l=lo;if(l&&n){var f=br(l).hoistableStyles,d=uo(n);r=r||"default";var E=f.get(d);if(!E){var A={loading:0,preload:null};if(E=l.querySelector(jl(d)))A.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Un.get(d))&&Rm(n,a);var C=E=l.createElement("link");_t(C),Kt(C,"link",n),C._p=new Promise(function(j,Q){C.onload=j,C.onerror=Q}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,$c(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(d,E)}}}function GS(n,r){nr.X(n,r);var a=lo;if(a&&n){var l=br(a).hoistableScripts,f=co(n),d=l.get(f);d||(d=a.querySelector(Hl(f)),d||(n=_({src:n,async:!0},r),(r=Un.get(f))&&Im(n,r),d=a.createElement("script"),_t(d),Kt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function KS(n,r){nr.M(n,r);var a=lo;if(a&&n){var l=br(a).hoistableScripts,f=co(n),d=l.get(f);d||(d=a.querySelector(Hl(f)),d||(n=_({src:n,async:!0,type:"module"},r),(r=Un.get(f))&&Im(n,r),d=a.createElement("script"),_t(d),Kt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function kv(n,r,a,l){var f=(f=ye.current)?Kc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=uo(a.href),a=br(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=uo(a.href);var d=br(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(jl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Un.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(n,a),d||$S(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=co(a),a=br(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function uo(n){return'href="'+Lt(n)+'"'}function jl(n){return'link[rel="stylesheet"]['+n+"]"}function Lv(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function $S(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Kt(r,"link",a),_t(r),n.head.appendChild(r))}function co(n){return'[src="'+Lt(n)+'"]'}function Hl(n){return"script[async]"+n}function Uv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Lt(a.href)+'"]');if(l)return r.instance=l,_t(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),_t(l),Kt(l,"style",f),$c(l,a.precedence,n),r.instance=l;case"stylesheet":f=uo(a.href);var d=n.querySelector(jl(f));if(d)return r.state.loading|=4,r.instance=d,_t(d),d;l=Lv(a),(f=Un.get(f))&&Rm(l,f),d=(n.ownerDocument||n).createElement("link"),_t(d);var E=d;return E._p=new Promise(function(A,C){E.onload=A,E.onerror=C}),Kt(d,"link",l),r.state.loading|=4,$c(d,a.precedence,n),r.instance=d;case"script":return d=co(a.src),(f=n.querySelector(Hl(d)))?(r.instance=f,_t(f),f):(l=a,(f=Un.get(d))&&(l=_({},a),Im(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),_t(f),Kt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,$c(l,a.precedence,n));return r.instance}function $c(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var A=l[E];if(A.dataset.precedence===r)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Rm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Im(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Yc=null;function zv(n,r,a){if(Yc===null){var l=new Map,f=Yc=new Map;f.set(a,l)}else f=Yc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Tr]||d[yt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var A=l.get(E);A?A.push(d):l.set(E,[d])}}return l}function Bv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function YS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function jv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ql=null;function QS(){}function XS(n,r,a){if(ql===null)throw Error(s(475));var l=ql;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=uo(a.href),d=n.querySelector(jl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Qc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,_t(d);return}d=n.ownerDocument||n,a=Lv(a),(f=Un.get(f))&&Rm(a,f),d=d.createElement("link"),_t(d);var E=d;E._p=new Promise(function(A,C){E.onload=A,E.onerror=C}),Kt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Qc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function WS(){if(ql===null)throw Error(s(475));var n=ql;return n.stylesheets&&n.count===0&&Cm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Cm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Qc(){if(this.count--,this.count===0){if(this.stylesheets)Cm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xc=null;function Cm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xc=new Map,r.forEach(ZS,n),Xc=null,Qc.call(n))}function ZS(n,r){if(!(r.state.loading&4)){var a=Xc.get(n);if(a)var l=a.get(null);else{a=new Map,Xc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Fl={$$typeof:F,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function JS(n,r,a,l,f,d,E,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.hiddenUpdates=Sa(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Hv(n,r,a,l,f,d,E,A,C,j,Q,Z){return n=new JS(n,r,a,E,A,C,j,Z),r=1,d===!0&&(r|=24),d=En(3,null,null,r),n.current=d,d.stateNode=n,r=ud(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},dd(d),n}function qv(n){return n?(n=ja,n):ja}function Fv(n,r,a,l,f,d){f=qv(f),l.context===null?l.context=f:l.pendingContext=f,l=Mr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Pr(n,l,r),a!==null&&(wn(a,n,r),El(a,n,r))}function Gv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Dm(n,r){Gv(n,r),(n=n.alternate)&&Gv(n,r)}function Kv(n){if(n.tag===13){var r=Ba(n,67108864);r!==null&&wn(r,n,67108864),Dm(n,67108864)}}var Wc=!0;function ew(n,r,a,l){var f=Y.T;Y.T=null;var d=ue.p;try{ue.p=2,Nm(n,r,a,l)}finally{ue.p=d,Y.T=f}}function tw(n,r,a,l){var f=Y.T;Y.T=null;var d=ue.p;try{ue.p=8,Nm(n,r,a,l)}finally{ue.p=d,Y.T=f}}function Nm(n,r,a,l){if(Wc){var f=Om(l);if(f===null)ym(n,r,l,Zc,a),Yv(n,l);else if(iw(f,n,r,a,l))l.stopPropagation();else if(Yv(n,l),r&4&&-1<nw.indexOf(n)){for(;f!==null;){var d=ui(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Fn(d.pendingLanes);if(E!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var C=1<<31-an(E);A.entanglements[1]|=C,E&=~C}vi(d),(Ke&6)===0&&(Vc=fn()+500,Ll(0))}}break;case 13:A=Ba(d,2),A!==null&&wn(A,d,2),Lc(),Dm(d,2)}if(d=Om(l),d===null&&ym(n,r,l,Zc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else ym(n,r,l,null,a)}}function Om(n){return n=tl(n),xm(n)}var Zc=null;function xm(n){if(Zc=null,n=li(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Zc=n,null}function $v(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zu()){case Dt:return 2;case kt:return 8;case ki:case Lf:return 32;case Go:return 268435456;default:return 32}default:return 32}}var Mm=!1,$r=null,Yr=null,Qr=null,Gl=new Map,Kl=new Map,Xr=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yv(n,r){switch(n){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Gl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(r.pointerId)}}function $l(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ui(r),r!==null&&Kv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function iw(n,r,a,l,f){switch(r){case"focusin":return $r=$l($r,n,r,a,l,f),!0;case"dragenter":return Yr=$l(Yr,n,r,a,l,f),!0;case"mouseover":return Qr=$l(Qr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Gl.set(d,$l(Gl.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Kl.set(d,$l(Kl.get(d)||null,n,r,a,l,f)),!0}return!1}function Qv(n){var r=li(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Bf(n.priority,function(){if(a.tag===13){var l=Sn();l=$o(l);var f=Ba(a,l);f!==null&&wn(f,a,l),Dm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Om(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);el=l,a.target.dispatchEvent(l),el=null}else return r=ui(a),r!==null&&Kv(r),n.blockedOn=a,!1;r.shift()}return!0}function Xv(n,r,a){Jc(n)&&a.delete(r)}function rw(){Mm=!1,$r!==null&&Jc($r)&&($r=null),Yr!==null&&Jc(Yr)&&(Yr=null),Qr!==null&&Jc(Qr)&&(Qr=null),Gl.forEach(Xv),Kl.forEach(Xv)}function eh(n,r){n.blockedOn===r&&(n.blockedOn=null,Mm||(Mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,rw)))}var th=null;function Wv(n){th!==n&&(th=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){th===n&&(th=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(xm(l||a)===null)continue;break}var d=ui(a);d!==null&&(n.splice(r,3),r-=3,xd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Yl(n){function r(C){return eh(C,n)}$r!==null&&eh($r,n),Yr!==null&&eh(Yr,n),Qr!==null&&eh(Qr,n),Gl.forEach(r),Kl.forEach(r);for(var a=0;a<Xr.length;a++){var l=Xr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)Qv(a),a.blockedOn===null&&Xr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[qt]||null;if(typeof d=="function")E||Wv(a);else if(E){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[qt]||null)A=E.formAction;else if(xm(f)!==null)continue}else A=E.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),Wv(a)}}}function Pm(n){this._internalRoot=n}nh.prototype.render=Pm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Sn();Fv(a,l,n,r,null,null)},nh.prototype.unmount=Pm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Fv(n.current,2,null,n,null,null),Lc(),r[Ui]=null}};function nh(n){this._internalRoot=n}nh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Li();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Xr.length&&r!==0&&r<Xr[a].priority;a++);Xr.splice(a,0,n),a===0&&Qv(n)}};var Zv=e.version;if(Zv!=="19.1.0")throw Error(s(527,Zv,"19.1.0"));ue.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var sw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{pr=ih.inject(sw),Xt=ih}catch{}}return Xl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=m_,d=p_,E=g_,A=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=Hv(n,1,!1,null,null,a,l,f,d,E,A,null),n[Ui]=r.current,gm(n),new Pm(r)},Xl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=m_,E=p_,A=g_,C=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=Hv(n,1,!0,r,a??null,l,f,d,E,A,C,j),r.context=qv(null),a=r.current,l=Sn(),l=$o(l),f=Mr(l),f.callback=null,Pr(a,f,l),a=l,r.current.lanes=a,gt(r,a),vi(r),n[Ui]=r.current,gm(n),new nh(r)},Xl.version="19.1.0",Xl}var lE;function gw(){if(lE)return km.exports;lE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),km.exports=pw(),km.exports}var yw=gw(),$=Hp();const fu=ow($);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uE="popstate";function _w(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=da(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),op("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:du(u))}function s(o,u){ri(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Ew(e,t,s,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ri(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vw(){return Math.random().toString(36).substring(2,10)}function cE(i,e){return{usr:i.state,key:i.key,idx:e}}function op(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?da(e):e,state:t,key:e&&e.key||s||vw()}}function du({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function da(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Ew(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function T(){m="POP";let V=_(),X=V==null?null:V-g;g=V,p&&p({action:m,location:H.location,delta:X})}function b(V,X){m="PUSH";let te=op(H.location,V,X);t&&t(te,V),g=_()+1;let F=cE(te,g),ie=H.createHref(te);try{h.pushState(F,"",ie)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(ie)}u&&p&&p({action:m,location:H.location,delta:1})}function N(V,X){m="REPLACE";let te=op(H.location,V,X);t&&t(te,V),g=_();let F=cE(te,g),ie=H.createHref(te);h.replaceState(F,"",ie),u&&p&&p({action:m,location:H.location,delta:0})}function k(V){return Tw(V)}let H={get action(){return m},get location(){return i(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(uE,T),p=V,()=>{o.removeEventListener(uE,T),p=null}},createHref(V){return e(o,V)},createURL:k,encodeLocation(V){let X=k(V);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:b,replace:N,go(V){return h.go(V)}};return H}function Tw(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ht(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:du(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function dT(i,e,t="/"){return Aw(i,e,t,!1)}function Aw(i,e,t,s){let o=typeof e=="string"?da(e):e,u=ur(o.pathname||"/",t);if(u==null)return null;let h=mT(i);bw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Pw(u);m=xw(h[p],g,s)}return m}function mT(i,e=[],t=[],s="",o=!1){let u=(h,m,p=o,g)=>{let _={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;ht(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=ar([s,_.relativePath]),b=t.concat(_);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),mT(h.children,e,b,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:Nw(T,h.index),routesMeta:b})};return i.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of pT(h.path))u(h,m,!0,g)}),e}function pT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=pT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function bw(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:Ow(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Sw=/^:[\w-]+$/,ww=3,Rw=2,Iw=1,Cw=10,Dw=-2,hE=i=>i==="*";function Nw(i,e){let t=i.split("/"),s=t.length;return t.some(hE)&&(s+=Dw),e&&(s+=Rw),t.filter(o=>!hE(o)).reduce((o,u)=>o+(Sw.test(u)?ww:u===""?Iw:Cw),s)}function Ow(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function xw(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:ar([u,T.pathname]),pathnameBase:Uw(ar([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=ar([u,T.pathnameBase]))}return h}function xh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=Mw(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},b)=>{if(_==="*"){let k=m[b]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const N=m[b];return T&&!N?g[_]=void 0:g[_]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function Mw(i,e=!1,t=!0){ri(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Pw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ur(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function Vw(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?da(i):i;return{pathname:t?t.startsWith("/")?t:kw(t,e):e,search:zw(s),hash:Bw(o)}}function kw(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function jm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lw(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gT(i){let e=Lw(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function yT(i,e,t,s=!1){let o;typeof i=="string"?o=da(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),jm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),jm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),jm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?e[T]:"/"}let p=Vw(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var ar=i=>i.join("/").replace(/\/\/+/g,"/"),Uw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),zw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Bw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function jw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var _T=["POST","PUT","PATCH","DELETE"];new Set(_T);var Hw=["GET",..._T];new Set(Hw);var ko=$.createContext(null);ko.displayName="DataRouter";var af=$.createContext(null);af.displayName="DataRouterState";$.createContext(!1);var vT=$.createContext({isTransitioning:!1});vT.displayName="ViewTransition";var qw=$.createContext(new Map);qw.displayName="Fetchers";var Fw=$.createContext(null);Fw.displayName="Await";var xi=$.createContext(null);xi.displayName="Navigation";var wu=$.createContext(null);wu.displayName="Location";var mr=$.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var qp=$.createContext(null);qp.displayName="RouteError";function Gw(i,{relative:e}={}){ht(Ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=$.useContext(xi),{hash:o,pathname:u,search:h}=Iu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:ar([t,u])),s.createHref({pathname:m,search:h,hash:o})}function Ru(){return $.useContext(wu)!=null}function ma(){return ht(Ru(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(wu).location}var ET="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TT(i){$.useContext(xi).static||$.useLayoutEffect(i)}function AT(){let{isDataRoute:i}=$.useContext(mr);return i?rR():Kw()}function Kw(){ht(Ru(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(ko),{basename:e,navigator:t}=$.useContext(xi),{matches:s}=$.useContext(mr),{pathname:o}=ma(),u=JSON.stringify(gT(s)),h=$.useRef(!1);return TT(()=>{h.current=!0}),$.useCallback((p,g={})=>{if(ri(h.current,ET),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=yT(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ar([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,i])}$.createContext(null);function Iu(i,{relative:e}={}){let{matches:t}=$.useContext(mr),{pathname:s}=ma(),o=JSON.stringify(gT(t));return $.useMemo(()=>yT(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function $w(i,e){return bT(i,e)}function bT(i,e,t,s,o){var te;ht(Ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=$.useContext(xi),{matches:h}=$.useContext(mr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let F=T&&T.path||"";ST(g,!T||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let b=ma(),N;if(e){let F=typeof e=="string"?da(e):e;ht(_==="/"||((te=F.pathname)==null?void 0:te.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${F.pathname}" was given in the \`location\` prop.`),N=F}else N=b;let k=N.pathname||"/",H=k;if(_!=="/"){let F=_.replace(/^\//,"").split("/");H="/"+k.replace(/^\//,"").split("/").slice(F.length).join("/")}let V=dT(i,{pathname:H});ri(T||V!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ri(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=Zw(V&&V.map(F=>Object.assign({},F,{params:Object.assign({},p,F.params),pathname:ar([_,u.encodeLocation?u.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?_:ar([_,u.encodeLocation?u.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),h,t,s,o);return e&&X?$.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},X):X}function Yw(){let i=iR(),e=jw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,h)}var Qw=$.createElement(Yw,null),Xw=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?$.createElement(mr.Provider,{value:this.props.routeContext},$.createElement(qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ww({routeContext:i,match:e,children:t}){let s=$.useContext(ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(mr.Provider,{value:i},t)}function Zw(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let u=i,h=t==null?void 0:t.errors;if(h!=null){let g=u.findIndex(_=>_.route.id&&(h==null?void 0:h[_.route.id])!==void 0);ht(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(t)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:b}=t,N=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||N){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,_,T)=>{let b,N=!1,k=null,H=null;t&&(b=h&&_.route.id?h[_.route.id]:void 0,k=_.route.errorElement||Qw,m&&(p<0&&T===0?(ST("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,H=null):p===T&&(N=!0,H=_.route.hydrateFallbackElement||null)));let V=e.concat(u.slice(0,T+1)),X=()=>{let te;return b?te=k:N?te=H:_.route.Component?te=$.createElement(_.route.Component,null):_.route.element?te=_.route.element:te=g,$.createElement(Ww,{match:_,routeContext:{outlet:g,matches:V,isDataRoute:t!=null},children:te})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?$.createElement(Xw,{location:t.location,revalidation:t.revalidation,component:k,error:b,children:X(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:s}):X()},null)}function Fp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jw(i){let e=$.useContext(ko);return ht(e,Fp(i)),e}function eR(i){let e=$.useContext(af);return ht(e,Fp(i)),e}function tR(i){let e=$.useContext(mr);return ht(e,Fp(i)),e}function Gp(i){let e=tR(i),t=e.matches[e.matches.length-1];return ht(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function nR(){return Gp("useRouteId")}function iR(){var s;let i=$.useContext(qp),e=eR("useRouteError"),t=Gp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function rR(){let{router:i}=Jw("useNavigate"),e=Gp("useNavigate"),t=$.useRef(!1);return TT(()=>{t.current=!0}),$.useCallback(async(o,u={})=>{ri(t.current,ET),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var fE={};function ST(i,e,t){!e&&!fE[i]&&(fE[i]=!0,ri(!1,t))}$.memo(sR);function sR({routes:i,future:e,state:t,unstable_onError:s}){return bT(i,void 0,t,s,e)}function mh(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ht(!Ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=da(t));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:b="default"}=t,N=$.useMemo(()=>{let k=ur(p,h);return k==null?null:{location:{pathname:k,search:g,hash:_,state:T,key:b},navigationType:s}},[h,p,g,_,T,b,s]);return ri(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:$.createElement(xi.Provider,{value:m},$.createElement(wu.Provider,{children:e,value:N}))}function oR({children:i,location:e}){return $w(lp(i),e)}function lp(i,e=[]){let t=[];return $.Children.forEach(i,(s,o)=>{if(!$.isValidElement(s))return;let u=[...e,o];if(s.type===$.Fragment){t.push.apply(t,lp(s.props.children,u));return}ht(s.type===mh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=lp(s.props.children,u)),t.push(h)}),t}var ph="get",gh="application/x-www-form-urlencoded";function of(i){return i!=null&&typeof i.tagName=="string"}function lR(i){return of(i)&&i.tagName.toLowerCase()==="button"}function uR(i){return of(i)&&i.tagName.toLowerCase()==="form"}function cR(i){return of(i)&&i.tagName.toLowerCase()==="input"}function hR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function fR(i,e){return i.button===0&&(!e||e==="_self")&&!hR(i)}var rh=null;function dR(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var mR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(i){return i!=null&&!mR.has(i)?(ri(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):i}function pR(i,e){let t,s,o,u,h;if(uR(i)){let m=i.getAttribute("action");s=m?ur(m,e):null,t=i.getAttribute("method")||ph,o=Hm(i.getAttribute("enctype"))||gh,u=new FormData(i)}else if(lR(i)||cR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ur(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||ph,o=Hm(i.getAttribute("formenctype"))||Hm(m.getAttribute("enctype"))||gh,u=new FormData(m,i),!dR()){let{name:g,type:_,value:T}=i;if(_==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(of(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ph,s=null,o=gh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function gR(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&ur(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function yR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _R(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function vR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await yR(u,t);return h.links?h.links():[]}return[]}));return bR(s.flat(1).filter(_R).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function dE(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var T;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function ER(i,e,{includeHydrateFallback:t}={}){return TR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function TR(i){return[...new Set(i)]}function AR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function bR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(AR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function wT(){let i=$.useContext(ko);return Kp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function SR(){let i=$.useContext(af);return Kp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var $p=$.createContext(void 0);$p.displayName="FrameworkContext";function RT(){let i=$.useContext($p);return Kp(i,"You must render this element inside a <HydratedRouter> element"),i}function wR(i,e){let t=$.useContext($p),[s,o]=$.useState(!1),[u,h]=$.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,b=$.useRef(null);$.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let H=X=>{X.forEach(te=>{h(te.isIntersecting)})},V=new IntersectionObserver(H,{threshold:.5});return b.current&&V.observe(b.current),()=>{V.disconnect()}}},[i]),$.useEffect(()=>{if(s){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[s]);let N=()=>{o(!0)},k=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,b,{}]:[u,b,{onFocus:Wl(m,N),onBlur:Wl(p,k),onMouseEnter:Wl(g,N),onMouseLeave:Wl(_,k),onTouchStart:Wl(T,N)}]:[!1,b,{}]}function Wl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function RR({page:i,...e}){let{router:t}=wT(),s=$.useMemo(()=>dT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?$.createElement(CR,{page:i,matches:s,...e}):null}function IR(i){let{manifest:e,routeModules:t}=RT(),[s,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return vR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function CR({page:i,matches:e,...t}){let s=ma(),{manifest:o,routeModules:u}=RT(),{basename:h}=wT(),{loaderData:m,matches:p}=SR(),g=$.useMemo(()=>dE(i,e,p,o,s,"data"),[i,e,p,o,s]),_=$.useMemo(()=>dE(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=$.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let k=new Set,H=!1;if(e.forEach(X=>{var F;let te=o.routes[X.route.id];!te||!te.hasLoader||(!g.some(ie=>ie.route.id===X.route.id)&&X.route.id in m&&((F=u[X.route.id])!=null&&F.shouldRevalidate)||te.hasClientLoader?H=!0:k.add(X.route.id))}),k.size===0)return[];let V=gR(i,h,"data");return H&&k.size>0&&V.searchParams.set("_routes",e.filter(X=>k.has(X.route.id)).map(X=>X.route.id).join(",")),[V.pathname+V.search]},[h,m,s,o,g,e,i,u]),b=$.useMemo(()=>ER(_,o),[_,o]),N=IR(_);return $.createElement($.Fragment,null,T.map(k=>$.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),b.map(k=>$.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),N.map(({key:k,link:H})=>$.createElement("link",{key:k,nonce:t.nonce,...H})))}function DR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var IT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IT&&(window.__reactRouterVersion="7.9.4")}catch{}function NR({basename:i,children:e,window:t}){let s=$.useRef();s.current==null&&(s.current=_w({window:t,v5Compat:!0}));let o=s.current,[u,h]=$.useState({action:o.action,location:o.location}),m=$.useCallback(p=>{$.startTransition(()=>h(p))},[h]);return $.useLayoutEffect(()=>o.listen(m),[o,m]),$.createElement(aR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var CT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DT=$.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:_,viewTransition:T,...b},N){let{basename:k}=$.useContext(xi),H=typeof g=="string"&&CT.test(g),V,X=!1;if(typeof g=="string"&&H&&(V=g,IT))try{let I=new URL(window.location.href),P=g.startsWith("//")?new URL(I.protocol+g):new URL(g),x=ur(P.pathname,k);P.origin===I.origin&&x!=null?g=x+P.search+P.hash:X=!0}catch{ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=Gw(g,{relative:o}),[F,ie,re]=wR(s,b),ce=PR(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:T});function R(I){e&&e(I),I.defaultPrevented||ce(I)}let w=$.createElement("a",{...b,...re,href:V||te,onClick:X||u?e:R,ref:DR(N,ie),target:p,"data-discover":!H&&t==="render"?"true":void 0});return F&&!H?$.createElement($.Fragment,null,w,$.createElement(RR,{page:te})):w});DT.displayName="Link";var OR=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},_){let T=Iu(h,{relative:g.relative}),b=ma(),N=$.useContext(af),{navigator:k,basename:H}=$.useContext(xi),V=N!=null&&zR(T)&&m===!0,X=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,te=b.pathname,F=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(te=te.toLowerCase(),F=F?F.toLowerCase():null,X=X.toLowerCase()),F&&H&&(F=ur(F,H)||F);const ie=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let re=te===X||!o&&te.startsWith(X)&&te.charAt(ie)==="/",ce=F!=null&&(F===X||!o&&F.startsWith(X)&&F.charAt(X.length)==="/"),R={isActive:re,isPending:ce,isTransitioning:V},w=re?e:void 0,I;typeof s=="function"?I=s(R):I=[s,re?"active":null,ce?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(R):u;return $.createElement(DT,{...g,"aria-current":w,className:I,ref:_,style:P,to:h,viewTransition:m},typeof p=="function"?p(R):p)});OR.displayName="NavLink";var xR=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=ph,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...b},N)=>{let k=LR(),H=UR(m,{relative:g}),V=h.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&CT.test(m),te=F=>{if(p&&p(F),F.defaultPrevented)return;F.preventDefault();let ie=F.nativeEvent.submitter,re=(ie==null?void 0:ie.getAttribute("formmethod"))||h;k(ie||F.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:T})};return $.createElement("form",{ref:N,method:V,action:H,onSubmit:s?p:te,...b,"data-discover":!X&&i==="render"?"true":void 0})});xR.displayName="Form";function MR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NT(i){let e=$.useContext(ko);return ht(e,MR(i)),e}function PR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=AT(),p=ma(),g=Iu(i,{relative:u});return $.useCallback(_=>{if(fR(_,e)){_.preventDefault();let T=t!==void 0?t:du(p)===du(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,i,o,u,h])}var VR=0,kR=()=>`__${String(++VR)}__`;function LR(){let{router:i}=NT("useSubmit"),{basename:e}=$.useContext(xi),t=nR();return $.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=pR(s,e);if(o.navigate===!1){let _=o.fetcherKey||kR();await i.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function UR(i,{relative:e}={}){let{basename:t}=$.useContext(xi),s=$.useContext(mr);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Iu(i||".",{relative:e})},h=ma();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ar([t,u.pathname])),du(u)}function zR(i,{relative:e}={}){let t=$.useContext(vT);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=NT("useViewTransitionState"),o=Iu(i,{relative:e});if(!t.isTransitioning)return!1;let u=ur(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ur(t.nextLocation.pathname,s)||t.nextLocation.pathname;return xh(o.pathname,h)!=null||xh(o.pathname,u)!=null}const BR=(i,e)=>{if(e.level==6)return"demon";switch(i.role){case"operator":return e.level>1?"demon":"exorcist";case"foreman":return e.level>2?"demon":"exorcist";case"supervisor":return e.level>3?"demon":"exorcist";case"chief":return e.level>4?"demon":"exorcist";default:return"exorcist"}},rt={exorcistType:"operator",exorcistAmount:1,demonFearPercentage:1,demonAmount:1,demonType:1,battleAmount:1,battleStats:{}},jR={operator:10,foreman:14,supervisor:15,chief:18,adjunct:22,executive:28},HR={operator:3,foreman:3,supervisor:5,chief:5,adjunct:5,executive:8},qR=1,mE={strength:3,agility:2,spirit:1,charisma:1,mind:1,body:2},FR=i=>{const e=Object.entries(i),t=e.reduce((o,[,u])=>o+u,0);let s=Math.random()*t;for(const[o,u]of e)if(s-=u,s<=0)return o},GR=(i,e)=>{let t={};if(i==="exorcist"){const s=Object.keys(mE),o=jR[e],u=HR[e];let h=!1;for(;!h;){t={},s.forEach(_=>t[_]=0);let p=o;for(;p>0;){const _=FR(mE);if(t[_]<u&&(t[_]++,p--),s.reduce((b,N)=>b+(u-t[N]),0)===0&&p>0)break}s.filter(_=>t[_]===0).length<=qR&&(h=!0)}let m=0;for(const p of s)p!=="charisma"&&t[p]>m&&(m=t[p]);return t.biggestAttribute=m,t}return t},OT=(i,e,t)=>{let s={};if(i=="exorcist"){let o;switch(e.body){case 0:o=5;break;default:o=e.body*10}s={defense:t.defense.value[e.agility],HP:o,maxHP:o,attackDice:t.attackDice.value[e.biggestAttribute],damageDice:t.damageDice.value[e.strength],isStunned:!1,turnsStunned:0,isBlind:!1,turnsBlinded:0,extraDamage:0,fear:0}}if(i=="demon"){const u=(m=>{let p=0;return m.level<6?m.fearPercent<=30?p=1:m.fearPercent<61&&m.fearPercent>30?p=2:p=3:m.fearPercent<=50?p=1:p=2,console.log("This demon is level "+m.level+" and has a fear level of "+p),p})(e),h=t[`demon${e.level}`][`fear${u}`];s={fearLevel:u,defense:h.defense,HP:h.health,attackDice:h.attackDice,damageDice:h.damageDice}}return s},pE=["strength","agility","body","mind","charisma","spirit"],KR=(i,e,t,s)=>{let o=!1,u=!1,h=!1,m=!1,p=!1,g=!1,_=1;for(t==="adjunct"?_=2:t==="executive"&&(_=3);_>0;){const T=Math.floor(Math.random()*pE.length),b=pE[T];b==="strength"&&!o?(e.extraDamageDice="3d10",console.log("The random expecialization was on strength!"),s.push(b),o=!0,_-=1):b==="agility"&&!u?(e.defense+=10,console.log("The random expecialization was on agility!"),s.push(b),u=!0,_-=1):b==="body"&&!h?(e.HP+=50,console.log("The random expecialization was on body!"),s.push(b),h=!0,_-=1):b==="mind"&&!m?(console.log("The random expecialization was on mind!"),s.push(b),m=!0,_-=1):b==="charisma"&&!p?(console.log("The random expecialization was on charisma!"),s.push(b),p=!0,_-=1):b==="spirit"&&!g&&(console.log("The random expecialization was on spirit!"),s.push(b),g=!0,_-=1)}},$R=(i,e,t)=>{let s=0;switch(i){case"operator":s=5;break;case"foreman":s=5;break;case"supervisor":s=10;break;case"chief":s=15;break;case"adjunct":s=15;break;case"executive":s=20;break}if(t){const o=[5,10,15],u=o[Math.floor(Math.random()*o.length)];s+=u,console.log("It is a reinforced weapon, so the damage is boosted by "+u+"!")}console.log("The bonus damage from the weapon is "+s+"!"),e.weapon=s},YR=.1,QR=(i,e)=>{const t={position:"exorcist",role:i,isBetterThanSupervisor:i==="chief"||i==="adjunct"||i==="executive",isWeaponReforced:Math.random()<YR,especializations:[]};return t.baseAttributes=GR(t.position,i),t.battleAttributes=OT(t.position,t.baseAttributes,e),t.isBetterThanSupervisor&&KR(t.baseAttributes,t.battleAttributes,t.role,t.especializations),$R(i,t.battleAttributes,t.isWeaponReforced),t},XR=(i,e,t)=>{const s={position:"demon",level:i,fearPercent:e};return s.battleAttributes=OT(s.position,{level:i,fearPercent:e},t),s},mu=(i,e)=>{const t=/(\d+)d(\d+)([+-]\d+)?/,s=i.match(t);if(!s)throw new Error("Invalid dice");const o=parseInt(s[1],10),u=parseInt(s[2],10),h=s[3]?parseInt(s[3],10):0,m=Array.from({length:o},()=>Math.floor(Math.random()*u)+1),p=Math.max(...m);return e?{dicesPlayed:i,roll:p+h,allDices:m,biggest:p,modifier:h,sum:m.reduce((_,T)=>_+T,0)+h}:p+h},gE=i=>{console.log("applying massive damage...");const e=Math.floor(Math.random()*6)+1;console.log("dice: "+e);const t=Math.floor(Math.random()*20)+1;switch(console.log("secondDice: "+t),e){case 1:t<=5?(console.log("The exorcist has been blinded, deafed and muted!"),i.battleAttributes.turnsBlinded=2,i.battleAttributes.isBlinded=!0):t>5&&t<=10&&(console.log("The exorcist has been blinded!"),i.battleAttributes.turnsBlinded=2,i.battleAttributes.isBlinded=!0);break;case 3:i.battleAttributes.isStunned=!0,console.log("The exorcist has been stunned!"),t<=5?i.battleAttributes.turnsStunned=5:t>5&&t<=10?i.battleAttributes.turnsStunned=3:t>10&&(i.battleAttributes.turnsStunned=2);break;case 4:console.log("The exorcist is dying!"),t<=15&&(i.battleAttributes.HP=0);break}},up=i=>{const e=mu(i.battleAttributes.damageDice,!0).sum;let t=0,s=0,o=0;return i.battleAttributes.weapon&&(t=i.battleAttributes.weapon),i.battleAttributes.extraDamage&&(s=i.battleAttributes.extraDamage),i.battleAttributes.extraDamageDice&&(o=mu(i.battleAttributes.extraDamageDice,!0).sum),e+t+s+o},yE=(i,e,t,s,o,u,h,m,p)=>{for(let g=i.demonTarget;g<e;g++){const _=o[g].level>5?2:1;let T=!1;for(let b=1;b<=_;b++,T=!0){console.log("----------------------------------"),console.log("DEMON'S TURN! Demon number: ",g),console.log("----------------------------------");let N=mu(o[g].battleAttributes.attackDice),k=0;if(T&&s[1]&&(k=1),N>=s[k].battleAttributes.defense){const H=up(o[g]);console.log("Demon damage for this turn is: ",H);let V=0,X=!1;if(s[k].battleAttributes.HP===0){console.log("ONE EXORCIST HAS FALLEN!"),X=!0,s.splice(k,1);const F=s.slice();if(console.log("Exorcists alive rn: ",F),p.exorcistsKilled++,u.deadExorcists++,h[m]=u.deadExorcists,s.length===0){console.log("THE BATTLE HAS ENDED!"),p.isItOver=!0;break}V=H,console.log("The demon killed the exorcist! There is ",V," leftover damage left")}else if(H>=s[k].battleAttributes.maxHP*2){console.log("ONE EXORCIST HAS FALLEN!"),X=!0,V=H-s[k].battleAttributes.maxHP*2,console.log("The demon did instant kill to the first exorcist!",s[k].battleAttributes.maxHP*2," of the damage was used for the IK, now there is ",V," left"),s.splice(k,1);const F=s.slice();if(console.log("Exorcists alive rn: ",F),p.exorcistsKilled++,u.deadExorcists++,h[m]=u.deadExorcists,s.length===0){console.log("THE BATTLE HAS ENDED!"),p.isItOver=!0;break}}else s[k].battleAttributes.HP-=H,s[k].battleAttributes.maxHP/2<H&&gE(s[k]),s[k].battleAttributes.HP<0?(V=Math.abs(s[k].battleAttributes.HP),console.log("The demon did "+(H-V)+" damage to an exorcist, he's left dying and now there is ",V," leftover damage left."),s[k].battleAttributes.HP=0):console.log("The demon did "+H+" damage to an exorcist, he's with "+s[k].battleAttributes.HP+" HP left.");let te=k+1;X&&(te=k);for(let F=te;V>0&&s[F]&&!["chief","adjunct","executive"].includes(s[F].role.toLowerCase());F++)if(console.log("Applying leftover damage to next exorcist...",s[F]),s[F].battleAttributes.HP===0){console.log("ONE EXORCIST HAS FALLEN!"),s.splice(F,1);const ie=s.slice();if(console.log("Exorcists alive rn: ",ie),p.exorcistsKilled++,u.deadExorcists++,h[m]=u.deadExorcists,s.length===0){console.log("THE BATTLE HAS ENDED!"),p.isItOver=!0;break}console.log("Leftover damage killed the next exorcist that was dying, now there is ",V," left")}else if(s[F].battleAttributes.maxHP*2<=V){console.log("ONE EXORCIST HAS FALLEN!"),V=V-s[F].battleAttributes.maxHP*2,console.log(s[F].battleAttributes.maxHP*2," of the Leftover damage killed the next exorcist by IK, now there is ",V," left"),s.splice(F,1);const ie=s.slice();if(console.log("Exorcists alive rn: ",ie),p.exorcistsKilled++,u.deadExorcists++,h[m]=u.deadExorcists,s.length===0){console.log("THE BATTLE HAS ENDED!"),p.isItOver=!0;break}}else{const ie=s[F].battleAttributes.HP;if(s[F].battleAttributes.HP-=V,s[F].battleAttributes.maxHP/2<V&&gE(s[F]),s[F].battleAttributes.HP<0)V=Math.abs(s[F].battleAttributes.HP),console.log(ie,"of the leftover damage left the next exorcist dying, now there is ",V," left"),s[F].battleAttributes.HP=0;else{console.log("Leftover damage did "+V+" damage to another exorcist, he's with "+s[F].battleAttributes.HP+" HP left.");break}}if(p.isItOver)break}else console.log("The demon missed!")}}},_E=(i,e,t,s,o,u,h,m,p)=>{for(let g=0;g<s.length;g++){console.log("----------------------------------"),console.log("EXORCIST'S TURN! Exorcist number: ",g),console.log("----------------------------------");let _=mu(s[g].battleAttributes.attackDice,!0),T=_.roll;if(s[g].battleAttributes.isBlinded==!0){const b=Math.floor(Math.random()*2)+1;console.log("The exorcist is blinded and is trying to attack!"),b==1&&(T=0),s[g].battleAttributes.turnsBlinded--,s[g].battleAttributes.turnsBlinded==0&&(s[g].battleAttributes.isBlinded=!1)}if(s[g].battleAttributes.isStunned==!0)console.log("The exorcist is stunned and can't attack!"),s[g].battleAttributes.turnsStunned--,s[g].battleAttributes.turnsStunned==0&&(s[g].battleAttributes.isStunned=!1);else if(T>=o[i.demonTarget].battleAttributes.defense||_.biggest==20){let b=up(s[g]);if(_.biggest==20&&(b+=mu("3d10",!0).sum,console.log("CRITICAL HIT! It got an extra "+(b-up(s[g]))+" damage!")),o[i.demonTarget].battleAttributes.HP-=b,console.log("Exorcist hit Demon and did "+b+" damage! He's with "+o[i.demonTarget].battleAttributes.HP+" HP left."),o[i.demonTarget].battleAttributes.HP<=0)if(i.demonTarget==t-1){console.log("THE BATTLE HAS ENDED!"),p.demonsKilled++,u.deadDemons++,h[m]=u.deadDemons,p.amountOfExorcistsWins++,p.isItOver=!0;break}else console.log("ONE DEMON HAS FALLEN!"),p.demonsKilled++,u.deadDemons++,h[m]=u.deadDemons,i.demonTarget++}else console.log("The exorcist missed!")}},WR=(i,e,t)=>{console.log("Demon Battle Attributes received in battleMaker:",e),console.log("Exorcist Battle Attributes received in battleMaker:",t);let s={amountOfExorcistsWins:0,percentageExorcistWin:0,averageOfExorcistsKilledPerBattle:0,averageOfDemonsKilledPerBattle:0,demonsKilled:0,exorcistsKilled:0,isItOver:!1,percentageOfExorcistsKilled:0,percentageOfDemonsKilled:0},o=[],u=[];const h=rt.exorcistType,m=rt.demonType,p=rt.demonFearPercentage,g=rt.exorcistAmount,_=rt.demonAmount;for(let T=0;T<rt.battleAmount;T++){let b=[],N=[];for(let V=0;V<rt.exorcistAmount;V++)b.push(QR(h,t));for(let V=0;V<rt.demonAmount;V++)N.push(XR(m,p,e));console.log(b.slice()),console.log(N.slice()),s.whoMovesFirst=BR(b[0],N[0]),console.log("Who moves first: "+s.whoMovesFirst),console.log("Amount of exorcists: "+g+" and amount of demons: "+_);let k={demonTarget:0},H={deadExorcists:0,deadDemons:0};for(;!s.isItOver;)if(s.whoMovesFirst==="exorcist"){if(_E(k,g,_,b,N,H,u,T,s),s.isItOver||(yE(k,_,g,b,N,H,o,T,s),s.isItOver))break}else if(yE(k,_,g,b,N,H,o,T,s),s.isItOver||(_E(k,g,_,b,N,H,u,T,s),s.isItOver))break;s.isItOver=!1}s.isItOver=!0,s.averageOfDemonsKilledPerBattle=`${u.reduce((T,b)=>T+b,0)/rt.battleAmount}`,s.averageOfExorcistsKilledPerBattle=`${o.reduce((T,b)=>T+b,0)/rt.battleAmount}`,s.percentageOfDemonsKilled=`${100*s.demonsKilled/(rt.demonAmount*rt.battleAmount)}%`,s.percentageOfExorcistsKilled=`${100*s.exorcistsKilled/(rt.exorcistAmount*rt.battleAmount)}%`,s.percentageExorcistWin=`${100*s.amountOfExorcistsWins/rt.battleAmount}%`,i(s),console.log(s),console.log(u,o)},ZR="/rpg-chainsaw-man-react/assets/denji-84oLt6io.png",JR=()=>ae.jsxs("header",{children:[ae.jsx("img",{src:ZR}),ae.jsx("h1",{children:"CHAINSAW MAN RPG"})]});var yn=function(){return yn=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},yn.apply(this,arguments)};function Mh(i,e,t){if(t||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return i.concat(u||Array.prototype.slice.call(e))}var it="-ms-",su="-moz-",qe="-webkit-",xT="comm",lf="rule",Yp="decl",eI="@import",MT="@keyframes",tI="@layer",PT=Math.abs,Qp=String.fromCharCode,cp=Object.assign;function nI(i,e){return Ht(i,0)^45?(((e<<2^Ht(i,0))<<2^Ht(i,1))<<2^Ht(i,2))<<2^Ht(i,3):0}function VT(i){return i.trim()}function ir(i,e){return(i=e.exec(i))?i[0]:i}function Ne(i,e,t){return i.replace(e,t)}function yh(i,e,t){return i.indexOf(e,t)}function Ht(i,e){return i.charCodeAt(e)|0}function So(i,e,t){return i.slice(e,t)}function Ti(i){return i.length}function kT(i){return i.length}function Zl(i,e){return e.push(i),i}function iI(i,e){return i.map(e).join("")}function vE(i,e){return i.filter(function(t){return!ir(t,e)})}var uf=1,wo=1,LT=0,Hn=0,Rt=0,Lo="";function cf(i,e,t,s,o,u,h,m){return{value:i,root:e,parent:t,type:s,props:o,children:u,line:uf,column:wo,length:h,return:"",siblings:m}}function Jr(i,e){return cp(cf("",null,null,"",null,null,0,i.siblings),i,{length:-i.length},e)}function ho(i){for(;i.root;)i=Jr(i.root,{children:[i]});Zl(i,i.siblings)}function rI(){return Rt}function sI(){return Rt=Hn>0?Ht(Lo,--Hn):0,wo--,Rt===10&&(wo=1,uf--),Rt}function ii(){return Rt=Hn<LT?Ht(Lo,Hn++):0,wo++,Rt===10&&(wo=1,uf++),Rt}function ra(){return Ht(Lo,Hn)}function _h(){return Hn}function hf(i,e){return So(Lo,i,e)}function hp(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function aI(i){return uf=wo=1,LT=Ti(Lo=i),Hn=0,[]}function oI(i){return Lo="",i}function qm(i){return VT(hf(Hn-1,fp(i===91?i+2:i===40?i+1:i)))}function lI(i){for(;(Rt=ra())&&Rt<33;)ii();return hp(i)>2||hp(Rt)>3?"":" "}function uI(i,e){for(;--e&&ii()&&!(Rt<48||Rt>102||Rt>57&&Rt<65||Rt>70&&Rt<97););return hf(i,_h()+(e<6&&ra()==32&&ii()==32))}function fp(i){for(;ii();)switch(Rt){case i:return Hn;case 34:case 39:i!==34&&i!==39&&fp(Rt);break;case 40:i===41&&fp(i);break;case 92:ii();break}return Hn}function cI(i,e){for(;ii()&&i+Rt!==57;)if(i+Rt===84&&ra()===47)break;return"/*"+hf(e,Hn-1)+"*"+Qp(i===47?i:ii())}function hI(i){for(;!hp(ra());)ii();return hf(i,Hn)}function fI(i){return oI(vh("",null,null,null,[""],i=aI(i),0,[0],i))}function vh(i,e,t,s,o,u,h,m,p){for(var g=0,_=0,T=h,b=0,N=0,k=0,H=1,V=1,X=1,te=0,F="",ie=o,re=u,ce=s,R=F;V;)switch(k=te,te=ii()){case 40:if(k!=108&&Ht(R,T-1)==58){yh(R+=Ne(qm(te),"&","&\f"),"&\f",PT(g?m[g-1]:0))!=-1&&(X=-1);break}case 34:case 39:case 91:R+=qm(te);break;case 9:case 10:case 13:case 32:R+=lI(k);break;case 92:R+=uI(_h()-1,7);continue;case 47:switch(ra()){case 42:case 47:Zl(dI(cI(ii(),_h()),e,t,p),p);break;default:R+="/"}break;case 123*H:m[g++]=Ti(R)*X;case 125*H:case 59:case 0:switch(te){case 0:case 125:V=0;case 59+_:X==-1&&(R=Ne(R,/\f/g,"")),N>0&&Ti(R)-T&&Zl(N>32?TE(R+";",s,t,T-1,p):TE(Ne(R," ","")+";",s,t,T-2,p),p);break;case 59:R+=";";default:if(Zl(ce=EE(R,e,t,g,_,o,m,F,ie=[],re=[],T,u),u),te===123)if(_===0)vh(R,e,ce,ce,ie,u,T,m,re);else switch(b===99&&Ht(R,3)===110?100:b){case 100:case 108:case 109:case 115:vh(i,ce,ce,s&&Zl(EE(i,ce,ce,0,0,o,m,F,o,ie=[],T,re),re),o,re,T,m,s?ie:re);break;default:vh(R,ce,ce,ce,[""],re,0,m,re)}}g=_=N=0,H=X=1,F=R="",T=h;break;case 58:T=1+Ti(R),N=k;default:if(H<1){if(te==123)--H;else if(te==125&&H++==0&&sI()==125)continue}switch(R+=Qp(te),te*H){case 38:X=_>0?1:(R+="\f",-1);break;case 44:m[g++]=(Ti(R)-1)*X,X=1;break;case 64:ra()===45&&(R+=qm(ii())),b=ra(),_=T=Ti(F=R+=hI(_h())),te++;break;case 45:k===45&&Ti(R)==2&&(H=0)}}return u}function EE(i,e,t,s,o,u,h,m,p,g,_,T){for(var b=o-1,N=o===0?u:[""],k=kT(N),H=0,V=0,X=0;H<s;++H)for(var te=0,F=So(i,b+1,b=PT(V=h[H])),ie=i;te<k;++te)(ie=VT(V>0?N[te]+" "+F:Ne(F,/&\f/g,N[te])))&&(p[X++]=ie);return cf(i,e,t,o===0?lf:m,p,g,_,T)}function dI(i,e,t,s){return cf(i,e,t,xT,Qp(rI()),So(i,2,-2),0,s)}function TE(i,e,t,s,o){return cf(i,e,t,Yp,So(i,0,s),So(i,s+1,-1),s,o)}function UT(i,e,t){switch(nI(i,e)){case 5103:return qe+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qe+i+i;case 4789:return su+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return qe+i+su+i+it+i+i;case 5936:switch(Ht(i,e+11)){case 114:return qe+i+it+Ne(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return qe+i+it+Ne(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return qe+i+it+Ne(i,/[svh]\w+-[tblr]{2}/,"lr")+i}case 6828:case 4268:case 2903:return qe+i+it+i+i;case 6165:return qe+i+it+"flex-"+i+i;case 5187:return qe+i+Ne(i,/(\w+).+(:[^]+)/,qe+"box-$1$2"+it+"flex-$1$2")+i;case 5443:return qe+i+it+"flex-item-"+Ne(i,/flex-|-self/g,"")+(ir(i,/flex-|baseline/)?"":it+"grid-row-"+Ne(i,/flex-|-self/g,""))+i;case 4675:return qe+i+it+"flex-line-pack"+Ne(i,/align-content|flex-|-self/g,"")+i;case 5548:return qe+i+it+Ne(i,"shrink","negative")+i;case 5292:return qe+i+it+Ne(i,"basis","preferred-size")+i;case 6060:return qe+"box-"+Ne(i,"-grow","")+qe+i+it+Ne(i,"grow","positive")+i;case 4554:return qe+Ne(i,/([^-])(transform)/g,"$1"+qe+"$2")+i;case 6187:return Ne(Ne(Ne(i,/(zoom-|grab)/,qe+"$1"),/(image-set)/,qe+"$1"),i,"")+i;case 5495:case 3959:return Ne(i,/(image-set\([^]*)/,qe+"$1$`$1");case 4968:return Ne(Ne(i,/(.+:)(flex-)?(.*)/,qe+"box-pack:$3"+it+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qe+i+i;case 4200:if(!ir(i,/flex-|baseline/))return it+"grid-column-align"+So(i,e)+i;break;case 2592:case 3360:return it+Ne(i,"template-","")+i;case 4384:case 3616:return t&&t.some(function(s,o){return e=o,ir(s.props,/grid-\w+-end/)})?~yh(i+(t=t[e].value),"span",0)?i:it+Ne(i,"-start","")+i+it+"grid-row-span:"+(~yh(t,"span",0)?ir(t,/\d+/):+ir(t,/\d+/)-+ir(i,/\d+/))+";":it+Ne(i,"-start","")+i;case 4896:case 4128:return t&&t.some(function(s){return ir(s.props,/grid-\w+-start/)})?i:it+Ne(Ne(i,"-end","-span"),"span ","")+i;case 4095:case 3583:case 4068:case 2532:return Ne(i,/(.+)-inline(.+)/,qe+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ti(i)-1-e>6)switch(Ht(i,e+1)){case 109:if(Ht(i,e+4)!==45)break;case 102:return Ne(i,/(.+:)(.+)-([^]+)/,"$1"+qe+"$2-$3$1"+su+(Ht(i,e+3)==108?"$3":"$2-$3"))+i;case 115:return~yh(i,"stretch",0)?UT(Ne(i,"stretch","fill-available"),e,t)+i:i}break;case 5152:case 5920:return Ne(i,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,h,m,p,g){return it+o+":"+u+g+(h?it+o+"-span:"+(m?p:+p-+u)+g:"")+i});case 4949:if(Ht(i,e+6)===121)return Ne(i,":",":"+qe)+i;break;case 6444:switch(Ht(i,Ht(i,14)===45?18:11)){case 120:return Ne(i,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+qe+(Ht(i,14)===45?"inline-":"")+"box$3$1"+qe+"$2$3$1"+it+"$2box$3")+i;case 100:return Ne(i,":",":"+it)+i}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ne(i,"scroll-","scroll-snap-")+i}return i}function Ph(i,e){for(var t="",s=0;s<i.length;s++)t+=e(i[s],s,i,e)||"";return t}function mI(i,e,t,s){switch(i.type){case tI:if(i.children.length)break;case eI:case Yp:return i.return=i.return||i.value;case xT:return"";case MT:return i.return=i.value+"{"+Ph(i.children,s)+"}";case lf:if(!Ti(i.value=i.props.join(",")))return""}return Ti(t=Ph(i.children,s))?i.return=i.value+"{"+t+"}":""}function pI(i){var e=kT(i);return function(t,s,o,u){for(var h="",m=0;m<e;m++)h+=i[m](t,s,o,u)||"";return h}}function gI(i){return function(e){e.root||(e=e.return)&&i(e)}}function yI(i,e,t,s){if(i.length>-1&&!i.return)switch(i.type){case Yp:i.return=UT(i.value,i.length,t);return;case MT:return Ph([Jr(i,{value:Ne(i.value,"@","@"+qe)})],s);case lf:if(i.length)return iI(t=i.props,function(o){switch(ir(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ho(Jr(i,{props:[Ne(o,/:(read-\w+)/,":"+su+"$1")]})),ho(Jr(i,{props:[o]})),cp(i,{props:vE(t,s)});break;case"::placeholder":ho(Jr(i,{props:[Ne(o,/:(plac\w+)/,":"+qe+"input-$1")]})),ho(Jr(i,{props:[Ne(o,/:(plac\w+)/,":"+su+"$1")]})),ho(Jr(i,{props:[Ne(o,/:(plac\w+)/,it+"input-$1")]})),ho(Jr(i,{props:[o]})),cp(i,{props:vE(t,s)});break}return""})}}var _I={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Rn={},Ro=typeof process<"u"&&Rn!==void 0&&(Rn.REACT_APP_SC_ATTR||Rn.SC_ATTR)||"data-styled",zT="active",BT="data-styled-version",ff="6.1.19",Xp=`/*!sc*/
`,Vh=typeof window<"u"&&typeof document<"u",vI=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Rn!==void 0&&Rn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Rn.REACT_APP_SC_DISABLE_SPEEDY!==""?Rn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Rn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Rn!==void 0&&Rn.SC_DISABLE_SPEEDY!==void 0&&Rn.SC_DISABLE_SPEEDY!==""&&Rn.SC_DISABLE_SPEEDY!=="false"&&Rn.SC_DISABLE_SPEEDY),df=Object.freeze([]),Io=Object.freeze({});function EI(i,e,t){return t===void 0&&(t=Io),i.theme!==t.theme&&i.theme||e||t.theme}var jT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),TI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,AI=/(^-|-$)/g;function AE(i){return i.replace(TI,"-").replace(AI,"")}var bI=/(a)(d)/gi,sh=52,bE=function(i){return String.fromCharCode(i+(i>25?39:97))};function dp(i){var e,t="";for(e=Math.abs(i);e>sh;e=e/sh|0)t=bE(e%sh)+t;return(bE(e%sh)+t).replace(bI,"$1-$2")}var Fm,HT=5381,yo=function(i,e){for(var t=e.length;t;)i=33*i^e.charCodeAt(--t);return i},qT=function(i){return yo(HT,i)};function SI(i){return dp(qT(i)>>>0)}function wI(i){return i.displayName||i.name||"Component"}function Gm(i){return typeof i=="string"&&!0}var FT=typeof Symbol=="function"&&Symbol.for,GT=FT?Symbol.for("react.memo"):60115,RI=FT?Symbol.for("react.forward_ref"):60112,II={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},CI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},KT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},DI=((Fm={})[RI]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Fm[GT]=KT,Fm);function SE(i){return("type"in(e=i)&&e.type.$$typeof)===GT?KT:"$$typeof"in i?DI[i.$$typeof]:II;var e}var NI=Object.defineProperty,OI=Object.getOwnPropertyNames,wE=Object.getOwnPropertySymbols,xI=Object.getOwnPropertyDescriptor,MI=Object.getPrototypeOf,RE=Object.prototype;function $T(i,e,t){if(typeof e!="string"){if(RE){var s=MI(e);s&&s!==RE&&$T(i,s,t)}var o=OI(e);wE&&(o=o.concat(wE(e)));for(var u=SE(i),h=SE(e),m=0;m<o.length;++m){var p=o[m];if(!(p in CI||t&&t[p]||h&&p in h||u&&p in u)){var g=xI(e,p);try{NI(i,p,g)}catch{}}}}return i}function Co(i){return typeof i=="function"}function Wp(i){return typeof i=="object"&&"styledComponentId"in i}function na(i,e){return i&&e?"".concat(i," ").concat(e):i||e||""}function IE(i,e){if(i.length===0)return"";for(var t=i[0],s=1;s<i.length;s++)t+=i[s];return t}function pu(i){return i!==null&&typeof i=="object"&&i.constructor.name===Object.name&&!("props"in i&&i.$$typeof)}function mp(i,e,t){if(t===void 0&&(t=!1),!t&&!pu(i)&&!Array.isArray(i))return e;if(Array.isArray(e))for(var s=0;s<e.length;s++)i[s]=mp(i[s],e[s]);else if(pu(e))for(var s in e)i[s]=mp(i[s],e[s]);return i}function Zp(i,e){Object.defineProperty(i,"toString",{value:e})}function Cu(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(i," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var PI=function(){function i(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return i.prototype.indexOfGroup=function(e){for(var t=0,s=0;s<e;s++)t+=this.groupSizes[s];return t},i.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;e>=u;)if((u<<=1)<0)throw Cu(16,"".concat(e));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var h=o;h<u;h++)this.groupSizes[h]=0}for(var m=this.indexOfGroup(e+1),p=(h=0,t.length);h<p;h++)this.tag.insertRule(m,t[h])&&(this.groupSizes[e]++,m++)},i.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],s=this.indexOfGroup(e),o=s+t;this.groupSizes[e]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},i.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var s=this.groupSizes[e],o=this.indexOfGroup(e),u=o+s,h=o;h<u;h++)t+="".concat(this.tag.getRule(h)).concat(Xp);return t},i}(),Eh=new Map,kh=new Map,Th=1,ah=function(i){if(Eh.has(i))return Eh.get(i);for(;kh.has(Th);)Th++;var e=Th++;return Eh.set(i,e),kh.set(e,i),e},VI=function(i,e){Th=e+1,Eh.set(i,e),kh.set(e,i)},kI="style[".concat(Ro,"][").concat(BT,'="').concat(ff,'"]'),LI=new RegExp("^".concat(Ro,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),UI=function(i,e,t){for(var s,o=t.split(","),u=0,h=o.length;u<h;u++)(s=o[u])&&i.registerName(e,s)},zI=function(i,e){for(var t,s=((t=e.textContent)!==null&&t!==void 0?t:"").split(Xp),o=[],u=0,h=s.length;u<h;u++){var m=s[u].trim();if(m){var p=m.match(LI);if(p){var g=0|parseInt(p[1],10),_=p[2];g!==0&&(VI(_,g),UI(i,_,p[3]),i.getTag().insertRules(g,o)),o.length=0}else o.push(m)}}},CE=function(i){for(var e=document.querySelectorAll(kI),t=0,s=e.length;t<s;t++){var o=e[t];o&&o.getAttribute(Ro)!==zT&&(zI(i,o),o.parentNode&&o.parentNode.removeChild(o))}};function BI(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var YT=function(i){var e=document.head,t=i||e,s=document.createElement("style"),o=function(m){var p=Array.from(m.querySelectorAll("style[".concat(Ro,"]")));return p[p.length-1]}(t),u=o!==void 0?o.nextSibling:null;s.setAttribute(Ro,zT),s.setAttribute(BT,ff);var h=BI();return h&&s.setAttribute("nonce",h),t.insertBefore(s,u),s},jI=function(){function i(e){this.element=YT(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var h=s[o];if(h.ownerNode===t)return h}throw Cu(17)}(this.element),this.length=0}return i.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},i.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},i.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},i}(),HI=function(){function i(e){this.element=YT(e),this.nodes=this.element.childNodes,this.length=0}return i.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var s=document.createTextNode(t);return this.element.insertBefore(s,this.nodes[e]||null),this.length++,!0}return!1},i.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},i.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},i}(),qI=function(){function i(e){this.rules=[],this.length=0}return i.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},i.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},i.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},i}(),DE=Vh,FI={isServer:!Vh,useCSSOMInjection:!vI},QT=function(){function i(e,t,s){e===void 0&&(e=Io),t===void 0&&(t={});var o=this;this.options=yn(yn({},FI),e),this.gs=t,this.names=new Map(s),this.server=!!e.isServer,!this.server&&Vh&&DE&&(DE=!1,CE(this)),Zp(this,function(){return function(u){for(var h=u.getTag(),m=h.length,p="",g=function(T){var b=function(X){return kh.get(X)}(T);if(b===void 0)return"continue";var N=u.names.get(b),k=h.getGroup(T);if(N===void 0||!N.size||k.length===0)return"continue";var H="".concat(Ro,".g").concat(T,'[id="').concat(b,'"]'),V="";N!==void 0&&N.forEach(function(X){X.length>0&&(V+="".concat(X,","))}),p+="".concat(k).concat(H,'{content:"').concat(V,'"}').concat(Xp)},_=0;_<m;_++)g(_);return p}(o)})}return i.registerId=function(e){return ah(e)},i.prototype.rehydrate=function(){!this.server&&Vh&&CE(this)},i.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new i(yn(yn({},this.options),e),this.gs,t&&this.names||void 0)},i.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},i.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var s=t.useCSSOMInjection,o=t.target;return t.isServer?new qI(o):s?new jI(o):new HI(o)}(this.options),new PI(e)));var e},i.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},i.prototype.registerName=function(e,t){if(ah(e),this.names.has(e))this.names.get(e).add(t);else{var s=new Set;s.add(t),this.names.set(e,s)}},i.prototype.insertRules=function(e,t,s){this.registerName(e,t),this.getTag().insertRules(ah(e),s)},i.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},i.prototype.clearRules=function(e){this.getTag().clearGroup(ah(e)),this.clearNames(e)},i.prototype.clearTag=function(){this.tag=void 0},i}(),GI=/&/g,KI=/^\s*\/\/.*$/gm;function XT(i,e){return i.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(s){return"".concat(e," ").concat(s)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=XT(t.children,e)),t})}function $I(i){var e,t,s,o=Io,u=o.options,h=u===void 0?Io:u,m=o.plugins,p=m===void 0?df:m,g=function(b,N,k){return k.startsWith(t)&&k.endsWith(t)&&k.replaceAll(t,"").length>0?".".concat(e):b},_=p.slice();_.push(function(b){b.type===lf&&b.value.includes("&")&&(b.props[0]=b.props[0].replace(GI,t).replace(s,g))}),h.prefix&&_.push(yI),_.push(mI);var T=function(b,N,k,H){N===void 0&&(N=""),k===void 0&&(k=""),H===void 0&&(H="&"),e=H,t=N,s=new RegExp("\\".concat(t,"\\b"),"g");var V=b.replace(KI,""),X=fI(k||N?"".concat(k," ").concat(N," { ").concat(V," }"):V);h.namespace&&(X=XT(X,h.namespace));var te=[];return Ph(X,pI(_.concat(gI(function(F){return te.push(F)})))),te};return T.hash=p.length?p.reduce(function(b,N){return N.name||Cu(15),yo(b,N.name)},HT).toString():"",T}var YI=new QT,pp=$I(),WT=fu.createContext({shouldForwardProp:void 0,styleSheet:YI,stylis:pp});WT.Consumer;fu.createContext(void 0);function NE(){return $.useContext(WT)}var QI=function(){function i(e,t){var s=this;this.inject=function(o,u){u===void 0&&(u=pp);var h=s.name+u.hash;o.hasNameForId(s.id,h)||o.insertRules(s.id,h,u(s.rules,h,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Zp(this,function(){throw Cu(12,String(s.name))})}return i.prototype.getName=function(e){return e===void 0&&(e=pp),this.name+e.hash},i}(),XI=function(i){return i>="A"&&i<="Z"};function OE(i){for(var e="",t=0;t<i.length;t++){var s=i[t];if(t===1&&s==="-"&&i[0]==="-")return i;XI(s)?e+="-"+s.toLowerCase():e+=s}return e.startsWith("ms-")?"-"+e:e}var ZT=function(i){return i==null||i===!1||i===""},JT=function(i){var e,t,s=[];for(var o in i){var u=i[o];i.hasOwnProperty(o)&&!ZT(u)&&(Array.isArray(u)&&u.isCss||Co(u)?s.push("".concat(OE(o),":"),u,";"):pu(u)?s.push.apply(s,Mh(Mh(["".concat(o," {")],JT(u),!1),["}"],!1)):s.push("".concat(OE(o),": ").concat((e=o,(t=u)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in _I||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return s};function sa(i,e,t,s){if(ZT(i))return[];if(Wp(i))return[".".concat(i.styledComponentId)];if(Co(i)){if(!Co(u=i)||u.prototype&&u.prototype.isReactComponent||!e)return[i];var o=i(e);return sa(o,e,t,s)}var u;return i instanceof QI?t?(i.inject(t,s),[i.getName(s)]):[i]:pu(i)?JT(i):Array.isArray(i)?Array.prototype.concat.apply(df,i.map(function(h){return sa(h,e,t,s)})):[i.toString()]}function WI(i){for(var e=0;e<i.length;e+=1){var t=i[e];if(Co(t)&&!Wp(t))return!1}return!0}var ZI=qT(ff),JI=function(){function i(e,t,s){this.rules=e,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&WI(e),this.componentId=t,this.baseHash=yo(ZI,t),this.baseStyle=s,QT.registerId(t)}return i.prototype.generateAndInjectStyles=function(e,t,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))o=na(o,this.staticRulesId);else{var u=IE(sa(this.rules,e,t,s)),h=dp(yo(this.baseHash,u)>>>0);if(!t.hasNameForId(this.componentId,h)){var m=s(u,".".concat(h),void 0,this.componentId);t.insertRules(this.componentId,h,m)}o=na(o,h),this.staticRulesId=h}else{for(var p=yo(this.baseHash,s.hash),g="",_=0;_<this.rules.length;_++){var T=this.rules[_];if(typeof T=="string")g+=T;else if(T){var b=IE(sa(T,e,t,s));p=yo(p,b+_),g+=b}}if(g){var N=dp(p>>>0);t.hasNameForId(this.componentId,N)||t.insertRules(this.componentId,N,s(g,".".concat(N),void 0,this.componentId)),o=na(o,N)}}return o},i}(),eA=fu.createContext(void 0);eA.Consumer;var Km={};function eC(i,e,t){var s=Wp(i),o=i,u=!Gm(i),h=e.attrs,m=h===void 0?df:h,p=e.componentId,g=p===void 0?function(ie,re){var ce=typeof ie!="string"?"sc":AE(ie);Km[ce]=(Km[ce]||0)+1;var R="".concat(ce,"-").concat(SI(ff+ce+Km[ce]));return re?"".concat(re,"-").concat(R):R}(e.displayName,e.parentComponentId):p,_=e.displayName,T=_===void 0?function(ie){return Gm(ie)?"styled.".concat(ie):"Styled(".concat(wI(ie),")")}(i):_,b=e.displayName&&e.componentId?"".concat(AE(e.displayName),"-").concat(e.componentId):e.componentId||g,N=s&&o.attrs?o.attrs.concat(m).filter(Boolean):m,k=e.shouldForwardProp;if(s&&o.shouldForwardProp){var H=o.shouldForwardProp;if(e.shouldForwardProp){var V=e.shouldForwardProp;k=function(ie,re){return H(ie,re)&&V(ie,re)}}else k=H}var X=new JI(t,b,s?o.componentStyle:void 0);function te(ie,re){return function(ce,R,w){var I=ce.attrs,P=ce.componentStyle,x=ce.defaultProps,U=ce.foldedComponentIds,D=ce.styledComponentId,ot=ce.target,Je=fu.useContext(eA),Y=NE(),ue=ce.shouldForwardProp||Y.shouldForwardProp,pe=EI(R,Je,x)||Io,Ie=function(Ce,ye,dt){for(var Ue,Ct=yn(yn({},ye),{className:void 0,theme:dt}),Vi=0;Vi<Ce.length;Vi+=1){var qn=Co(Ue=Ce[Vi])?Ue(Ct):Ue;for(var sn in qn)Ct[sn]=sn==="className"?na(Ct[sn],qn[sn]):sn==="style"?yn(yn({},Ct[sn]),qn[sn]):qn[sn]}return ye.className&&(Ct.className=na(Ct.className,ye.className)),Ct}(I,R,pe),O=Ie.as||ot,J={};for(var oe in Ie)Ie[oe]===void 0||oe[0]==="$"||oe==="as"||oe==="theme"&&Ie.theme===pe||(oe==="forwardedAs"?J.as=Ie.forwardedAs:ue&&!ue(oe,O)||(J[oe]=Ie[oe]));var le=function(Ce,ye){var dt=NE(),Ue=Ce.generateAndInjectStyles(ye,dt.styleSheet,dt.stylis);return Ue}(P,Ie),me=na(U,D);return le&&(me+=" "+le),Ie.className&&(me+=" "+Ie.className),J[Gm(O)&&!jT.has(O)?"class":"className"]=me,w&&(J.ref=w),$.createElement(O,J)}(F,ie,re)}te.displayName=T;var F=fu.forwardRef(te);return F.attrs=N,F.componentStyle=X,F.displayName=T,F.shouldForwardProp=k,F.foldedComponentIds=s?na(o.foldedComponentIds,o.styledComponentId):"",F.styledComponentId=b,F.target=s?o.target:i,Object.defineProperty(F,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ie){this._foldedDefaultProps=s?function(re){for(var ce=[],R=1;R<arguments.length;R++)ce[R-1]=arguments[R];for(var w=0,I=ce;w<I.length;w++)mp(re,I[w],!0);return re}({},o.defaultProps,ie):ie}}),Zp(F,function(){return".".concat(F.styledComponentId)}),u&&$T(F,i,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),F}function xE(i,e){for(var t=[i[0]],s=0,o=e.length;s<o;s+=1)t.push(e[s],i[s+1]);return t}var ME=function(i){return Object.assign(i,{isCss:!0})};function tC(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Co(i)||pu(i))return ME(sa(xE(df,Mh([i],e,!0))));var s=i;return e.length===0&&s.length===1&&typeof s[0]=="string"?sa(s):ME(sa(xE(s,e)))}function gp(i,e,t){if(t===void 0&&(t=Io),!e)throw Cu(1,e);var s=function(o){for(var u=[],h=1;h<arguments.length;h++)u[h-1]=arguments[h];return i(e,t,tC.apply(void 0,Mh([o],u,!1)))};return s.attrs=function(o){return gp(i,e,yn(yn({},t),{attrs:Array.prototype.concat(t.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return gp(i,e,yn(yn({},t),o))},s}var tA=function(i){return gp(eC,i)},nA=tA;jT.forEach(function(i){nA[i]=tA(i)});const nC=({names:i,field:e,type:t})=>{const[s,o]=$.useState(1),u=g=>i[g-1],h=g=>i[g-1],m=g=>{if(t==="demon")rt.demonType=g,console.log("demon type: "+rt.demonType);else if(t==="exorcist"){const _=["operator","foreman","supervisor","chief","adjunct","executive"];rt.exorcistType=_[g-1],console.log("exorcist role: "+rt.exorcistType)}else if(t=="fearPercent"){const _=[0,50,100];rt.demonFearPercentage=_[g-1],console.log("demon fear percentage: "+rt.demonFearPercentage)}o(g)};let p=[];for(let g=0;g<i.length;g++)p.push(g+1);return ae.jsx(iC,{children:ae.jsx("div",{className:"container",children:p.map(g=>ae.jsxs("div",{className:"radio-wrapper",children:[ae.jsx("input",{type:"radio",id:`value-${g}-${t}`,name:`btn-${t}-${e}`,className:"input",checked:s===g,onChange:()=>m(g)}),ae.jsxs("div",{className:"btn",onClick:()=>m(g),children:[ae.jsx("span",{"aria-hidden":"true",children:u(g)}),ae.jsx("span",{"aria-hidden":"true",className:"btn__glitch",children:h(g)}),ae.jsxs("span",{className:"number",children:["r",g]})]})]},g))})})},iC=nA.div`
display: flex;
flex-direction: column;
height: 100%;
width: 100%;
align-items: center;
justify-content: center; 

.container {
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: row;
}

.radio-wrapper {
  position: relative;
  height: 38px;
  width: 84px;
  margin: 3px;
}

.radio-wrapper .input {
  position: absolute;
  height: 100%;
  width: 100%;
  margin: 0;
  cursor: pointer;
  z-index: 10;
  opacity: 0;
}

.btn {
  --primary: #b52c2f;
  --shadow-primary: #f5d55a;
  --shadow-secondary: #ff6600;
  --color: white;
  --font-size: 9px;
  --shadow-primary-hue: 180;
  --shadow-secondary-hue: 60;
  --shadow-secondary: hsl(var(--shadow-secondary-hue), 90%, 60%);
  --clip: polygon(11% 0, 95% 0, 100% 25%, 90% 90%, 95% 90%, 85% 90%, 85% 100%, 7% 100%, 0 80%);
  --border: 5px;
  --shimmy-distance: 5;
  --clip-one: polygon(0 2%, 100% 2%, 100% 95%, 95% 95%, 95% 90%, 85% 90%, 85% 95%, 8% 95%, 0 70%);
  --clip-two: polygon(0 78%, 100% 78%, 100% 100%, 95% 100%, 95% 90%, 85% 90%, 85% 100%, 8% 100%, 0 78%);
  --clip-three: polygon(0 44%, 100% 44%, 100% 54%, 95% 54%, 95% 54%, 85% 54%, 85% 54%, 8% 54%, 0 54%);
  --clip-four: polygon(0 0, 100% 0, 100% 0, 95% 0, 95% 0, 85% 0, 85% 0, 8% 0, 0 0);
  --clip-five: polygon(0 0, 100% 0, 100% 0, 95% 0, 95% 0, 85% 0, 85% 0, 8% 0, 0 0);
  --clip-six: polygon(0 40%, 100% 40%, 100% 85%, 95% 85%, 95% 85%, 85% 85%, 85% 85%, 8% 85%, 0 70%);
  --clip-seven: polygon(0 63%, 100% 63%, 100% 80%, 95% 80%, 95% 80%, 85% 80%, 85% 80%, 8% 80%, 0 70%);
  color: var(--color);
  text-transform: uppercase;
  font-size: var(--font-size);
  letter-spacing: 3px;
  position: relative;
  font-weight: 900;
  width: 100%;
  height: 100%;
  line-height: 38px;
  pointer-events: none;
  z-index: 0;
  text-align: center;
  transition: background 0.2s, 0.3s;
}

.input:checked + .btn {
  --primary:rgb(34, 38, 37);
  --shadow-primary: #8f3e3a;
}

.input:hover + .btn {
  --primary:rgb(255, 0, 0);
  --font-size: 11px;
}

.btn:after, .btn:before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  clip-path: var(--clip);
  z-index: -1;
}

.btn:before {
  background: var(--shadow-primary);
  transform: translate(var(--border), 0);
}

.btn:after {
  background: var(--primary);
}

.btn__tag {
  position: absolute;
  padding: 1px 4px;
  letter-spacing: 1px;
  line-height: 1;
  bottom: -5%;
  right: 5%;
  font-weight: normal;
  color: hsl(0, 0%, 0%);
  font-size: var(--label-size);
}

.btn__glitch {
  position: absolute;
  top: calc(var(--border) * -1);
  left: calc(var(--border) * -1);
  right: calc(var(--border) * -1);
  bottom: calc(var(--border) * -1);
  background: var(--shadow-primary);
  text-shadow: 2px 2px var(--shadow-primary), -2px -2px var(--shadow-secondary);
  clip-path: var(--clip);
  animation: glitch 2s infinite;
  display: none;
}

.input:hover + .btn .btn__glitch {
  display: block;
}

.input:checked + .btn .btn__glitch {
  display: block;
  animation: glitch 5s infinite;
}

.btn__glitch:before {
  content: '';
  position: absolute;
  top: calc(var(--border) * 1);
  right: calc(var(--border) * 1);
  bottom: calc(var(--border) * 1);
  left: calc(var(--border) * 1);
  clip-path: var(--clip);
  background: var(--primary);
  z-index: -1;
}

@keyframes glitch {
  0% {
    clip-path: var(--clip-one);
  }

  2%, 8% {
    clip-path: var(--clip-two);
    transform: translate(calc(var(--shimmy-distance) * -1%), 0);
  }

  6% {
    clip-path: var(--clip-two);
    transform: translate(calc(var(--shimmy-distance) * 1%), 0);
  }

  9% {
    clip-path: var(--clip-two);
    transform: translate(0, 0);
  }

  10% {
    clip-path: var(--clip-three);
    transform: translate(calc(var(--shimmy-distance) * 1%), 0);
  }

  13% {
    clip-path: var(--clip-three);
    transform: translate(0, 0);
  }

  14%, 21% {
    clip-path: var(--clip-four);
    transform: translate(calc(var(--shimmy-distance) * 1%), 0);
  }

  25% {
    clip-path: var(--clip-five);
    transform: translate(calc(var(--shimmy-distance) * 1%), 0);
  }

  30% {
    clip-path: var(--clip-five);
    transform: translate(calc(var(--shimmy-distance) * -1%), 0);
  }

  35%, 45% {
    clip-path: var(--clip-six);
    transform: translate(calc(var(--shimmy-distance) * -1%));
  }

  40% {
    clip-path: var(--clip-six);
    transform: translate(calc(var(--shimmy-distance) * 1%));
  }

  50% {
    clip-path: var(--clip-six);
    transform: translate(0, 0);
  }

  55% {
    clip-path: var(--clip-seven);
    transform: translate(calc(var(--shimmy-distance) * 1%), 0);
  }

  60% {
    clip-path: var(--clip-seven);
    transform: translate(0, 0);
  }

  31%, 61%, 100% {
    clip-path: var(--clip-four);
  }
}

.number {
  background: var(--shadow-primary);
  color: #323232;
  font-size: 5.5px;
  font-weight: 700;
  letter-spacing: 1px;
  position: absolute;
  width: 15px;
  height: 6px;
  top: 0;
  left: 81%;
  line-height: 6.2px;
}

@media (max-width: 600px) {
  .container {
    flex-direction: column;
    align-items: center;
  }

  .radio-wrapper {
    width: 90%;
    height: 48px;
    margin: 5px 0;
  }

  .btn {
    font-size: 10px;
    line-height: 48px;
    letter-spacing: 2px;
  }

  .number {
    font-size: 7px;
    left: unset;
    right: 10px;
  }
}
`,rC=({placeholder:i,label:e,globalVariable:t,isNumber:s})=>ae.jsxs("div",{className:"brutalist-container",children:[ae.jsx("input",{placeholder:i,onChange:o=>{const u=o.target.value;s?!isNaN(u)&&u.trim()!==""&&/^[0-9]+$/.test(u)&&(rt[t]=o.target.value,console.log("the variable "+t+" is now: "+rt[t])):(rt[t]=o.target.value,console.log("the variable "+t+" is now: "+rt[t]))},className:"brutalist-input smooth-type",type:"text"}),ae.jsx("label",{className:"brutalist-label",children:e})]}),$m=({multipleButtonsField:i,multipleButtonsType:e,multipleButtonsNames:t,textInputLabel:s,textInputPlaceholder:o,textInputGlobalVariable:u,textInputIsNumber:h,isShortened:m})=>{let p="buttonsAndAmount";return m==!0&&(p="buttonsAndAmountShortened"),ae.jsxs("div",{className:p,children:[ae.jsx(nC,{field:i,type:e,names:t}),ae.jsx(rC,{placeholder:o,label:s,globalVariable:u,isNumber:h})]})},sC=({label:i,functionOnClick:e,functionOnClickParam:t})=>ae.jsxs("button",{onClick:()=>{console.log("button clicked"),e(t)},children:[i,ae.jsx("span",{})]}),aC=({battleStats:i})=>ae.jsxs("div",{className:"card",children:[ae.jsxs("div",{className:"tools",children:[ae.jsx("div",{className:"circle",children:ae.jsx("span",{className:"red box"})}),ae.jsx("div",{className:"circle",children:ae.jsx("span",{className:"yellow box"})}),ae.jsx("div",{className:"circle",children:ae.jsx("span",{className:"green box"})})]}),ae.jsxs("div",{className:"card__content",children:[ae.jsx("h1",{children:"LOG DE BATALHAS"}),ae.jsx("pre",{children:JSON.stringify(i,null,2)})]})]}),oC=()=>{};var PE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},lC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},rA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,N=g&63;p||(N=64,h||(b=64)),s.push(t[_],t[T],t[b],t[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(iA(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):lC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new uC;const b=u<<2|m>>4;if(s.push(b),g!==64){const N=m<<4&240|g>>2;if(s.push(N),T!==64){const k=g<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class uC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cC=function(i){const e=iA(i);return rA.encodeByteArray(e,!0)},Lh=function(i){return cC(i).replace(/\./g,"")},sA=function(i){try{return rA.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=()=>hC().__FIREBASE_DEFAULTS__,dC=()=>{if(typeof process>"u"||typeof PE>"u")return;const i=PE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},mC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&sA(i[1]);return e&&JSON.parse(e)},mf=()=>{try{return oC()||fC()||dC()||mC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},aA=i=>{var e,t;return(t=(e=mf())==null?void 0:e.emulatorHosts)==null?void 0:t[i]},oA=i=>{const e=aA(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},lA=()=>{var i;return(i=mf())==null?void 0:i.config},uA=i=>{var e;return(e=mf())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Lh(JSON.stringify(t)),Lh(JSON.stringify(h)),""].join(".")}const au={};function gC(){const i={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?i.emulator.push(e):i.prod.push(e);return i}function yC(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let VE=!1;function eg(i,e){if(typeof window>"u"||typeof document>"u"||!pa(window.location.host)||au[i]===e||au[i]||VE)return;au[i]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=gC().prod.length>0;function h(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,N){b.setAttribute("width","24"),b.setAttribute("id",N),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{VE=!0,h()},b}function _(b,N){b.setAttribute("id",N),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=yC(s),N=t("text"),k=document.getElementById(N)||document.createElement("span"),H=t("learnmore"),V=document.getElementById(H)||document.createElement("a"),X=t("preprendIcon"),te=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const F=b.element;m(F),_(V,H);const ie=g();p(te,X),F.append(te,k,V,ie),document.body.appendChild(F)}u?(k.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _C(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function vC(){var e;const i=(e=mf())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function AC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bC(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function SC(){return!vC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wC(){try{return typeof indexedDB=="object"}catch{return!1}}function RC(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="FirebaseError";class Mi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=IC,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?CC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Mi(o,m,s)}}function CC(i,e){return i.replace(DC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const DC=/\{\$([^}]+)}/g;function NC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function oa(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(kE(u)&&kE(h)){if(!oa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function kE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function eu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function OC(i,e){const t=new xC(i,e);return t.subscribe.bind(t)}class xC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");MC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Ym),o.error===void 0&&(o.error=Ym),o.complete===void 0&&(o.complete=Ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(i){return i&&i._delegate?i._delegate:i}class cs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new pC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kC(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VC(i){return i===ta?void 0:i}function kC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const UC={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},zC=Ve.INFO,BC={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},jC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=BC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tg{constructor(e){this.name=e,this._logLevel=zC,this._logHandler=jC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const HC=(i,e)=>e.some(t=>i instanceof t);let LE,UE;function qC(){return LE||(LE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FC(){return UE||(UE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hA=new WeakMap,yp=new WeakMap,fA=new WeakMap,Qm=new WeakMap,ng=new WeakMap;function GC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(ss(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&hA.set(t,i)}).catch(()=>{}),ng.set(e,i),e}function KC(i){if(yp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});yp.set(i,e)}let _p={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return yp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||fA.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ss(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function $C(i){_p=i(_p)}function YC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Xm(this),e,...t);return fA.set(s,e.sort?e.sort():[e]),ss(s)}:FC().includes(i)?function(...e){return i.apply(Xm(this),e),ss(hA.get(this))}:function(...e){return ss(i.apply(Xm(this),e))}}function QC(i){return typeof i=="function"?YC(i):(i instanceof IDBTransaction&&KC(i),HC(i,qC())?new Proxy(i,_p):i)}function ss(i){if(i instanceof IDBRequest)return GC(i);if(Qm.has(i))return Qm.get(i);const e=QC(i);return e!==i&&(Qm.set(i,e),ng.set(e,i)),e}const Xm=i=>ng.get(i);function XC(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ss(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ss(h.result),p.oldVersion,p.newVersion,ss(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const WC=["get","getKey","getAll","getAllKeys","count"],ZC=["put","add","delete","clear"],Wm=new Map;function zE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=ZC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||WC.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Wm.set(e,u),u}$C(i=>({...i,get:(e,t,s)=>zE(e,t)||i.get(e,t,s),has:(e,t)=>!!zE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eD(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function eD(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vp="@firebase/app",BE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new tg("@firebase/app"),tD="@firebase/app-compat",nD="@firebase/analytics-compat",iD="@firebase/analytics",rD="@firebase/app-check-compat",sD="@firebase/app-check",aD="@firebase/auth",oD="@firebase/auth-compat",lD="@firebase/database",uD="@firebase/data-connect",cD="@firebase/database-compat",hD="@firebase/functions",fD="@firebase/functions-compat",dD="@firebase/installations",mD="@firebase/installations-compat",pD="@firebase/messaging",gD="@firebase/messaging-compat",yD="@firebase/performance",_D="@firebase/performance-compat",vD="@firebase/remote-config",ED="@firebase/remote-config-compat",TD="@firebase/storage",AD="@firebase/storage-compat",bD="@firebase/firestore",SD="@firebase/ai",wD="@firebase/firestore-compat",RD="firebase",ID="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="[DEFAULT]",CD={[vp]:"fire-core",[tD]:"fire-core-compat",[iD]:"fire-analytics",[nD]:"fire-analytics-compat",[sD]:"fire-app-check",[rD]:"fire-app-check-compat",[aD]:"fire-auth",[oD]:"fire-auth-compat",[lD]:"fire-rtdb",[uD]:"fire-data-connect",[cD]:"fire-rtdb-compat",[hD]:"fire-fn",[fD]:"fire-fn-compat",[dD]:"fire-iid",[mD]:"fire-iid-compat",[pD]:"fire-fcm",[gD]:"fire-fcm-compat",[yD]:"fire-perf",[_D]:"fire-perf-compat",[vD]:"fire-rc",[ED]:"fire-rc-compat",[TD]:"fire-gcs",[AD]:"fire-gcs-compat",[bD]:"fire-fst",[wD]:"fire-fst-compat",[SD]:"fire-vertex","fire-js":"fire-js",[RD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,DD=new Map,Tp=new Map;function jE(i,e){try{i.container.addComponent(e)}catch(t){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function la(i){const e=i.name;if(Tp.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Tp.set(e,i);for(const t of Uh.values())jE(t,i);for(const t of DD.values())jE(t,i);return!0}function pf(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function zn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Du("app","Firebase",ND);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=ID;function dA(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:Ep,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(t||(t=lA()),!t)throw as.create("no-options");const u=Uh.get(o);if(u){if(oa(t,u.options)&&oa(s,u.config))return u;throw as.create("duplicate-app",{appName:o})}const h=new LC(o);for(const p of Tp.values())h.addComponent(p);const m=new OD(t,s,h);return Uh.set(o,m),m}function ig(i=Ep){const e=Uh.get(i);if(!e&&i===Ep&&lA())return dA();if(!e)throw as.create("no-app",{appName:i});return e}function Ai(i,e,t){let s=CD[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(h.join(" "));return}la(new cs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="firebase-heartbeat-database",MD=1,gu="firebase-heartbeat-store";let Zm=null;function mA(){return Zm||(Zm=XC(xD,MD,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(i=>{throw as.create("idb-open",{originalErrorMessage:i.message})})),Zm}async function PD(i){try{const t=(await mA()).transaction(gu),s=await t.objectStore(gu).get(pA(i));return await t.done,s}catch(e){if(e instanceof Mi)cr.warn(e.message);else{const t=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(t.message)}}}async function HE(i,e){try{const s=(await mA()).transaction(gu,"readwrite");await s.objectStore(gu).put(e,pA(i)),await s.done}catch(t){if(t instanceof Mi)cr.warn(t.message);else{const s=as.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});cr.warn(s.message)}}}function pA(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=1024,kD=30;class LD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zD(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=qE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>kD){const h=BD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qE(),{heartbeatsToSend:s,unsentEntries:o}=UD(this._heartbeatsCache.heartbeats),u=Lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return cr.warn(t),""}}}function qE(){return new Date().toISOString().substring(0,10)}function UD(i,e=VD){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),FE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),FE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class zD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wC()?RC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return HE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return HE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function FE(i){return Lh(JSON.stringify({version:2,heartbeats:i})).length}function BD(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(i){la(new cs("platform-logger",e=>new JC(e),"PRIVATE")),la(new cs("heartbeat",e=>new LD(e),"PRIVATE")),Ai(vp,BE,i),Ai(vp,BE,"esm2020"),Ai("fire-js","")}jD("");var GE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,gA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,w){function I(){}I.prototype=w.prototype,R.F=w.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(P,x,U){for(var D=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)D[ot-2]=arguments[ot];return w.prototype[x].apply(P,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,I){I||(I=0);const P=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)P[x]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(x=0;x<16;++x)P[x]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=R.g[0],I=R.g[1],x=R.g[2];let U=R.g[3],D;D=w+(U^I&(x^U))+P[0]+3614090360&4294967295,w=I+(D<<7&4294967295|D>>>25),D=U+(x^w&(I^x))+P[1]+3905402710&4294967295,U=w+(D<<12&4294967295|D>>>20),D=x+(I^U&(w^I))+P[2]+606105819&4294967295,x=U+(D<<17&4294967295|D>>>15),D=I+(w^x&(U^w))+P[3]+3250441966&4294967295,I=x+(D<<22&4294967295|D>>>10),D=w+(U^I&(x^U))+P[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=U+(x^w&(I^x))+P[5]+1200080426&4294967295,U=w+(D<<12&4294967295|D>>>20),D=x+(I^U&(w^I))+P[6]+2821735955&4294967295,x=U+(D<<17&4294967295|D>>>15),D=I+(w^x&(U^w))+P[7]+4249261313&4294967295,I=x+(D<<22&4294967295|D>>>10),D=w+(U^I&(x^U))+P[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=U+(x^w&(I^x))+P[9]+2336552879&4294967295,U=w+(D<<12&4294967295|D>>>20),D=x+(I^U&(w^I))+P[10]+4294925233&4294967295,x=U+(D<<17&4294967295|D>>>15),D=I+(w^x&(U^w))+P[11]+2304563134&4294967295,I=x+(D<<22&4294967295|D>>>10),D=w+(U^I&(x^U))+P[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=U+(x^w&(I^x))+P[13]+4254626195&4294967295,U=w+(D<<12&4294967295|D>>>20),D=x+(I^U&(w^I))+P[14]+2792965006&4294967295,x=U+(D<<17&4294967295|D>>>15),D=I+(w^x&(U^w))+P[15]+1236535329&4294967295,I=x+(D<<22&4294967295|D>>>10),D=w+(x^U&(I^x))+P[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=U+(I^x&(w^I))+P[6]+3225465664&4294967295,U=w+(D<<9&4294967295|D>>>23),D=x+(w^I&(U^w))+P[11]+643717713&4294967295,x=U+(D<<14&4294967295|D>>>18),D=I+(U^w&(x^U))+P[0]+3921069994&4294967295,I=x+(D<<20&4294967295|D>>>12),D=w+(x^U&(I^x))+P[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=U+(I^x&(w^I))+P[10]+38016083&4294967295,U=w+(D<<9&4294967295|D>>>23),D=x+(w^I&(U^w))+P[15]+3634488961&4294967295,x=U+(D<<14&4294967295|D>>>18),D=I+(U^w&(x^U))+P[4]+3889429448&4294967295,I=x+(D<<20&4294967295|D>>>12),D=w+(x^U&(I^x))+P[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=U+(I^x&(w^I))+P[14]+3275163606&4294967295,U=w+(D<<9&4294967295|D>>>23),D=x+(w^I&(U^w))+P[3]+4107603335&4294967295,x=U+(D<<14&4294967295|D>>>18),D=I+(U^w&(x^U))+P[8]+1163531501&4294967295,I=x+(D<<20&4294967295|D>>>12),D=w+(x^U&(I^x))+P[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=U+(I^x&(w^I))+P[2]+4243563512&4294967295,U=w+(D<<9&4294967295|D>>>23),D=x+(w^I&(U^w))+P[7]+1735328473&4294967295,x=U+(D<<14&4294967295|D>>>18),D=I+(U^w&(x^U))+P[12]+2368359562&4294967295,I=x+(D<<20&4294967295|D>>>12),D=w+(I^x^U)+P[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=U+(w^I^x)+P[8]+2272392833&4294967295,U=w+(D<<11&4294967295|D>>>21),D=x+(U^w^I)+P[11]+1839030562&4294967295,x=U+(D<<16&4294967295|D>>>16),D=I+(x^U^w)+P[14]+4259657740&4294967295,I=x+(D<<23&4294967295|D>>>9),D=w+(I^x^U)+P[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=U+(w^I^x)+P[4]+1272893353&4294967295,U=w+(D<<11&4294967295|D>>>21),D=x+(U^w^I)+P[7]+4139469664&4294967295,x=U+(D<<16&4294967295|D>>>16),D=I+(x^U^w)+P[10]+3200236656&4294967295,I=x+(D<<23&4294967295|D>>>9),D=w+(I^x^U)+P[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=U+(w^I^x)+P[0]+3936430074&4294967295,U=w+(D<<11&4294967295|D>>>21),D=x+(U^w^I)+P[3]+3572445317&4294967295,x=U+(D<<16&4294967295|D>>>16),D=I+(x^U^w)+P[6]+76029189&4294967295,I=x+(D<<23&4294967295|D>>>9),D=w+(I^x^U)+P[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=U+(w^I^x)+P[12]+3873151461&4294967295,U=w+(D<<11&4294967295|D>>>21),D=x+(U^w^I)+P[15]+530742520&4294967295,x=U+(D<<16&4294967295|D>>>16),D=I+(x^U^w)+P[2]+3299628645&4294967295,I=x+(D<<23&4294967295|D>>>9),D=w+(x^(I|~U))+P[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=U+(I^(w|~x))+P[7]+1126891415&4294967295,U=w+(D<<10&4294967295|D>>>22),D=x+(w^(U|~I))+P[14]+2878612391&4294967295,x=U+(D<<15&4294967295|D>>>17),D=I+(U^(x|~w))+P[5]+4237533241&4294967295,I=x+(D<<21&4294967295|D>>>11),D=w+(x^(I|~U))+P[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=U+(I^(w|~x))+P[3]+2399980690&4294967295,U=w+(D<<10&4294967295|D>>>22),D=x+(w^(U|~I))+P[10]+4293915773&4294967295,x=U+(D<<15&4294967295|D>>>17),D=I+(U^(x|~w))+P[1]+2240044497&4294967295,I=x+(D<<21&4294967295|D>>>11),D=w+(x^(I|~U))+P[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=U+(I^(w|~x))+P[15]+4264355552&4294967295,U=w+(D<<10&4294967295|D>>>22),D=x+(w^(U|~I))+P[6]+2734768916&4294967295,x=U+(D<<15&4294967295|D>>>17),D=I+(U^(x|~w))+P[13]+1309151649&4294967295,I=x+(D<<21&4294967295|D>>>11),D=w+(x^(I|~U))+P[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=U+(I^(w|~x))+P[11]+3174756917&4294967295,U=w+(D<<10&4294967295|D>>>22),D=x+(w^(U|~I))+P[2]+718787259&4294967295,x=U+(D<<15&4294967295|D>>>17),D=I+(U^(x|~w))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+x&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,w){w===void 0&&(w=R.length);const I=w-this.blockSize,P=this.C;let x=this.h,U=0;for(;U<w;){if(x==0)for(;U<=I;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<w;)if(P[x++]=R.charCodeAt(U++),x==this.blockSize){o(this,P),x=0;break}}else for(;U<w;)if(P[x++]=R[U++],x==this.blockSize){o(this,P),x=0;break}}this.h=x,this.o+=w},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)R[w++]=this.g[I]>>>P&255;return R};function u(R,w){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=w(R)}function h(R,w){this.h=w;const I=[];let P=!0;for(let x=R.length-1;x>=0;x--){const U=R[x]|0;P&&U==w||(I[x]=U,P=!1)}this.g=I}var m={};function p(R){return-128<=R&&R<128?u(R,function(w){return new h([w|0],w<0?-1:0)}):new h([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return V(g(-R));const w=[];let I=1;for(let P=0;R>=I;P++)w[P]=R/I|0,I*=4294967296;return new h(w,0)}function _(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return V(_(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let P=T;for(let U=0;U<R.length;U+=8){var x=Math.min(8,R.length-U);const D=parseInt(R.substring(U,U+x),w);x<8?(x=g(Math.pow(w,x)),P=P.j(x).add(g(D))):(P=P.j(I),P=P.add(g(D)))}return P}var T=p(0),b=p(1),N=p(16777216);i=h.prototype,i.m=function(){if(H(this))return-V(this).m();let R=0,w=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);R+=(P>=0?P:4294967296+P)*w,w*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(k(this))return"0";if(H(this))return"-"+V(this).toString(R);const w=g(Math.pow(R,6));var I=this;let P="";for(;;){const x=ie(I,w).g;I=X(I,x.j(w));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=x,k(I))return U+P;for(;U.length<6;)U="0"+U;P=U+P}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function k(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function H(R){return R.h==-1}i.l=function(R){return R=X(this,R),H(R)?-1:k(R)?0:1};function V(R){const w=R.g.length,I=[];for(let P=0;P<w;P++)I[P]=~R.g[P];return new h(I,~R.h).add(b)}i.abs=function(){return H(this)?V(this):this},i.add=function(R){const w=Math.max(this.g.length,R.g.length),I=[];let P=0;for(let x=0;x<=w;x++){let U=P+(this.i(x)&65535)+(R.i(x)&65535),D=(U>>>16)+(this.i(x)>>>16)+(R.i(x)>>>16);P=D>>>16,U&=65535,D&=65535,I[x]=D<<16|U}return new h(I,I[I.length-1]&-2147483648?-1:0)};function X(R,w){return R.add(V(w))}i.j=function(R){if(k(this)||k(R))return T;if(H(this))return H(R)?V(this).j(V(R)):V(V(this).j(R));if(H(R))return V(this.j(V(R)));if(this.l(N)<0&&R.l(N)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,I=[];for(var P=0;P<2*w;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let x=0;x<R.g.length;x++){const U=this.i(P)>>>16,D=this.i(P)&65535,ot=R.i(x)>>>16,Je=R.i(x)&65535;I[2*P+2*x]+=D*Je,te(I,2*P+2*x),I[2*P+2*x+1]+=U*Je,te(I,2*P+2*x+1),I[2*P+2*x+1]+=D*ot,te(I,2*P+2*x+1),I[2*P+2*x+2]+=U*ot,te(I,2*P+2*x+2)}for(R=0;R<w;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=w;R<2*w;R++)I[R]=0;return new h(I,0)};function te(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function F(R,w){this.g=R,this.h=w}function ie(R,w){if(k(w))throw Error("division by zero");if(k(R))return new F(T,T);if(H(R))return w=ie(V(R),w),new F(V(w.g),V(w.h));if(H(w))return w=ie(R,V(w)),new F(V(w.g),w.h);if(R.g.length>30){if(H(R)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,P=w;P.l(R)<=0;)I=re(I),P=re(P);var x=ce(I,1),U=ce(P,1);for(P=ce(P,2),I=ce(I,2);!k(P);){var D=U.add(P);D.l(R)<=0&&(x=x.add(I),U=D),P=ce(P,1),I=ce(I,1)}return w=X(R,x.j(w)),new F(x,w)}for(x=T;R.l(w)>=0;){for(I=Math.max(1,Math.floor(R.m()/w.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),U=g(I),D=U.j(w);H(D)||D.l(R)>0;)I-=P,U=g(I),D=U.j(w);k(U)&&(U=b),x=x.add(U),R=X(R,D)}return new F(x,R)}i.B=function(R){return ie(this,R).h},i.and=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let P=0;P<w;P++)I[P]=this.i(P)&R.i(P);return new h(I,this.h&R.h)},i.or=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let P=0;P<w;P++)I[P]=this.i(P)|R.i(P);return new h(I,this.h|R.h)},i.xor=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let P=0;P<w;P++)I[P]=this.i(P)^R.i(P);return new h(I,this.h^R.h)};function re(R){const w=R.g.length+1,I=[];for(let P=0;P<w;P++)I[P]=R.i(P)<<1|R.i(P-1)>>>31;return new h(I,R.h)}function ce(R,w){const I=w>>5;w%=32;const P=R.g.length-I,x=[];for(let U=0;U<P;U++)x[U]=w>0?R.i(U+I)>>>w|R.i(U+I+1)<<32-w:R.i(U+I);return new h(x,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,gA=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,os=h}).apply(typeof GE<"u"?GE:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yA,tu,_A,Ah,Ap,vA,EA,TA;(function(){var i,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function _(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,B,K){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return y.prototype[B].apply(S,se)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function N(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function k(c,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=c.length||0;const K=B.length||0;c.length=v+K;for(let se=0;se<K;se++)c[v+se]=B[se]}else c.push(B)}}class H{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(c){h.setTimeout(()=>{throw c},0)}function X(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,v){const S=F.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var F=new H(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ce=!1,R=new te,w=()=>{const c=Promise.resolve(void 0);re=()=>{c.then(I)}};function I(){for(var c;c=X();){try{c.h.call(c.g)}catch(v){V(v)}var y=F;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ce=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c}();function D(c){return/^[\s\xa0]*$/.test(c)}function ot(c,y){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(ot,x),ot.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Je="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ue(c,y,v,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=B,this.key=++Y,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function J(c){const y={};for(const v in c)y[v]=c[v];return y}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let K=0;K<oe.length;K++)v=oe[K],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function me(c){this.src=c,this.g={},this.h=0}me.prototype.add=function(c,y,v,S,B){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=ye(c,y,S,B);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new ue(y,this.src,K,!!S,B),y.fa=v,c.push(y)),y};function Ce(c,y){const v=y.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,y,void 0),K;(K=B>=0)&&Array.prototype.splice.call(S,B,1),K&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ye(c,y,v,S){for(let B=0;B<c.length;++B){const K=c[B];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==S)return B}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),Ue={};function Ct(c,y,v,S,B){if(Array.isArray(y)){for(let K=0;K<y.length;K++)Ct(c,y[K],v,S,B);return null}return v=zu(v),c&&c[Je]?c.J(y,v,m(S)?!!S.capture:!1,B):Vi(c,y,v,!1,S,B)}function Vi(c,y,v,S,B,K){if(!y)throw Error("Invalid event type");const se=m(B)?!!B.capture:!!B;let we=Fo(c);if(we||(c[dt]=we=new me(c)),v=we.add(y,v,S,se,K),v.proxy)return v;if(S=qn(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)U||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(Aa(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function qn(){function c(v){return y.call(c.src,c.listener,v)}const y=kf;return c}function sn(c,y,v,S,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)sn(c,y[K],v,S,B);else S=m(S)?!!S.capture:!!S,v=zu(v),c&&c[Je]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],v=ye(y,v,S,B),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Fo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ye(y,v,S,B)),(v=c>-1?y[c]:null)&&_s(v))}function _s(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Je])Ce(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(Aa(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Fo(y))?(Ce(v,c),v.h==0&&(v.src=null,y[dt]=null)):pe(c)}}}function Aa(c){return c in Ue?Ue[c]:Ue[c]="on"+c}function kf(c,y){if(c.da)c=!0;else{y=new ot(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&_s(c),c=v.call(S,y)}return c}function Fo(c){return c=c[dt],c instanceof me?c:null}var fn="__closure_events_fn_"+(Math.random()*1e9>>>0);function zu(c){return typeof c=="function"?c:(c[fn]||(c[fn]=function(y){return c.handleEvent(y)}),c[fn])}function Dt(){P.call(this),this.i=new me(this),this.M=this,this.G=null}T(Dt,P),Dt.prototype[Je]=!0,Dt.prototype.removeEventListener=function(c,y,v,S){sn(this,c,y,v,S)};function kt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new x(y,c);else if(y instanceof x)y.target=y.target||c;else{var B=y;y=new x(S,c),le(y,B)}B=!0;let K,se;if(v)for(se=v.length-1;se>=0;se--)K=y.g=v[se],B=ki(K,S,!0,y)&&B;if(K=y.g=c,B=ki(K,S,!0,y)&&B,B=ki(K,S,!1,y)&&B,v)for(se=0;se<v.length;se++)K=y.g=v[se],B=ki(K,S,!1,y)&&B}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)pe(v[S]);delete c.g[y],c.h--}}this.G=null},Dt.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},Dt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function ki(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==v){const we=se.listener,nt=se.ha||se.src;se.fa&&Ce(c.i,se),B=we.call(nt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Lf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Go(c){c.g=Lf(()=>{c.g=null,c.i&&(c.i=!1,Go(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Uf extends P{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){P.call(this),this.h=c,this.g={}}T(vs,P);var pr=[];function Xt(c){Ie(c.g,function(y,v){this.g.hasOwnProperty(v)&&_s(y)},c),c.g={}}vs.prototype.N=function(){vs.Z.N.call(this),Xt(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=h.JSON.stringify,an=h.JSON.parse,zf=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Bu(){}function ju(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gr(){x.call(this,"d")}T(gr,x);function Fn(){x.call(this,"c")}T(Fn,x);var Cn={},yr=null;function ba(){return yr=yr||new Dt}Cn.Ia="serverreachability";function Ko(c){x.call(this,Cn.Ia,c)}T(Ko,x);function _r(c){const y=ba();kt(y,new Ko(y))}Cn.STAT_EVENT="statevent";function Sa(c,y){x.call(this,Cn.STAT_EVENT,c),this.stat=y}T(Sa,x);function gt(c){const y=ba();kt(y,new Sa(y,c))}Cn.Ja="timingevent";function Hu(c,y){x.call(this,Cn.Ja,c),this.size=y}T(Hu,x);function vr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Er(){this.g=!0}Er.prototype.ua=function(){this.g=!1};function $o(c,y,v,S,B,K){c.info(function(){if(c.g)if(K){var se="",we=K.split("&");for(let Ge=0;Ge<we.length;Ge++){var nt=we[Ge].split("=");if(nt.length>1){const vt=nt[0];nt=nt[1];const _n=vt.split("_");se=_n.length>=2&&_n[1]=="type"?se+(vt+"="+nt+"&"):se+(vt+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+v+`
`+se})}function Yo(c,y,v,S,B,K,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+v+`
`+K+" "+se})}function Li(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+oi(c,v)+(S?" "+S:"")})}function Bf(c,y){c.info(function(){return"TIMEOUT: "+y})}Er.prototype.info=function(){};function oi(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return In(K)}catch{return y}}var yt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ui;function Es(){}T(Es,Bu),Es.prototype.g=function(){return new XMLHttpRequest},Ui=new Es;function Ts(c){return encodeURIComponent(String(c))}function jf(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Gn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Tr}function Tr(){this.i=null,this.g="",this.h=!1}var wa={},li={};function ui(c,y,v){c.M=1,c.A=Bi(ut(y)),c.u=v,c.R=!0,Ar(c,null)}function Ar(c,y){c.F=Date.now(),As(c),c.B=ut(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ku(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Tr,c.g=Va(c.j,v?y:null,!c.u),c.P>0&&(c.O=new Uf(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(pr[0]=B.toString()),B=pr);for(let K=0;K<B.length;K++){const se=Ct(v,B[K],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?J(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),_r(),$o(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Wt(c)==3?y.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Wt(this.g),nt=this.g.ya(),Ge=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ms(this.g)))){this.K||we!=4||nt==7||(nt==8||Ge<=0?_r(3):_r(2)),hi(this);var y=this.g.ca();this.X=y;var v=br(this);if(this.o=y==200,Yo(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(S)){var K=S;break t}}K=null}if(c=K)Li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ra(this,c);else{this.o=!1,this.m=3,gt(12),fi(this),bs(this);break e}}if(this.R){c=!0;let vt;for(;!this.K&&this.C<v.length;)if(vt=qu(this,v),vt==li){we==4&&(this.m=4,gt(14),c=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==wa){this.m=4,gt(15),Li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Li(this.i,this.l,vt,null),Ra(this,vt);if(_t(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,gt(16),c=!1),this.o=this.o&&c,!c)Li(this.i,this.l,v,"[Invalid Chunked Response]"),fi(this),bs(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),rl(se),se.P=!0,gt(11))}}else Li(this.i,this.l,v,null),Ra(this,v);we==4&&fi(this),this.o&&!this.K&&(we==4?sl(this.j,this):(this.o=!1,As(this)))}else Ps(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),fi(this),bs(this)}}}catch{}finally{}};function br(c){if(!_t(c))return c.g.la();const y=Ms(c.g);if(y==="")return"";let v="";const S=y.length,B=Wt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fi(c),bs(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,v+=c.h.i.decode(y[K],{stream:!(B&&K==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function _t(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function qu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?li:(v=Number(y.substring(v,S)),isNaN(v)?wa:(S+=1,S+v>y.length?li:(y=y.slice(S,S+v),c.C=S+v,y)))}Gn.prototype.cancel=function(){this.K=!0,fi(this)};function As(c){c.T=Date.now()+c.H,ci(c,c.H)}function ci(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=vr(g(c.aa,c),y)}function hi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Bf(this.i,this.B),this.M!=2&&(_r(),gt(17)),fi(this),this.m=2,bs(this)):ci(this,this.T-c)};function bs(c){c.j.I==0||c.K||sl(c.j,c)}function fi(c){hi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Xt(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ra(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Rs(v.h,c))){if(!c.L&&Rs(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Pa(v),di(v);else break e;il(v),gt(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=vr(g(v.Va,v),6e3));Dn(v.h)<=1&&v.ta&&(v.ta=void 0)}else qi(v,11)}else if((c.L||v.g==c)&&Pa(v),!D(y))for(B=v.Ba.g.parse(y),y=0;y<B.length;y++){let Ge=B[y];const vt=Ge[0];if(!(vt<=v.K))if(v.K=vt,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const _n=Ge[3];_n!=null&&(v.ka=_n,v.j.info("VER="+v.ka));const mi=Ge[4];mi!=null&&(v.za=mi,v.j.info("SVER="+v.za));const Yn=Ge[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(S=1.5*Yn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Qn=c.g;if(Qn){const Xn=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var K=S.h;K.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ia(K,K.h),K.h=null))}if(S.G){const ol=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(S.wa=ol,Ye(S.J,S.G,ol))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=c;if(S.na=tc(S,S.L?S.ba:null,S.W),se.L){zi(S.h,se);var we=se,nt=S.O;nt&&(we.H=nt),we.D&&(hi(we),As(we)),S.g=se}else Wu(S);v.i.length>0&&Us(v)}else Ge[0]!="stop"&&Ge[0]!="close"||qi(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?qi(v,7):ks(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}_r(4)}catch{}}var Hf=class{constructor(c,y){this.g=c,this.map=y}};function Ss(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ws(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Dn(c){return c.h?1:c.g?c.g.size:0}function Rs(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ia(c,y){c.g?c.g.add(y):c.h=y}function zi(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ss.prototype.cancel=function(){if(this.i=Ca(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ca(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return N(c.i)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qf(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let B,K=null;S>=0?(B=c[v].substring(0,S),K=c[v].substring(S+1)):B=c[v],y(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Kn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Kn?(this.l=c.l,Sr(this,c.j),this.o=c.o,this.g=c.g,Is(this,c.u),this.h=c.h,wr(this,$u(c.i)),this.m=c.m):c&&(y=String(c).match(Da))?(this.l=!1,Sr(this,y[1]||"",!0),this.o=Cs(y[2]||""),this.g=Cs(y[3]||"",!0),Is(this,y[4]),this.h=Cs(y[5]||"",!0),wr(this,y[6]||"",!0),this.m=Cs(y[7]||"")):(this.l=!1,this.i=new Nn(null,this.l))}Kn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Lt(y,Xo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Lt(y,Xo,!0),"@"),c.push(Ts(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Lt(v,v.charAt(0)=="/"?Rr:Wo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Lt(v,Gu)),c.join("")},Kn.prototype.resolve=function(c){const y=ut(this);let v=!!c.j;v?Sr(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)Is(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let se=0;se<B.length;){const we=B[se++];we=="."?S&&se==B.length&&K.push(""):we==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&se==B.length&&K.push("")):(K.push(we),S=!0)}S=K.join("/")}else S=B}return v?y.h=S:v=c.i.toString()!=="",v?wr(y,$u(c.i)):v=!!c.m,v&&(y.m=c.m),y};function ut(c){return new Kn(c)}function Sr(c,y,v){c.j=v?Cs(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Is(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function wr(c,y,v){y instanceof Nn?(c.i=y,el(c.i,c.l)):(v||(y=Lt(y,Fu)),c.i=new Nn(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function Bi(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Cs(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Lt(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Qo),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Qo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xo=/[#\/\?@]/g,Wo=/[#\?:]/g,Rr=/[#\?]/g,Fu=/[#\?@]/g,Gu=/#/g;function Nn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ji(c){c.g||(c.g=new Map,c.h=0,c.i&&qf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Nn.prototype,i.add=function(c,y){ji(this),this.i=null,c=$n(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Zo(c,y){ji(c),y=$n(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Jo(c,y){return ji(c),y=$n(c,y),c.g.has(y)}i.forEach=function(c,y){ji(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(y,B,S,this)},this)},this)};function Na(c,y){ji(c);let v=[];if(typeof y=="string")Jo(c,y)&&(v=v.concat(c.g.get($n(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return ji(this),this.i=null,c=$n(this,c),Jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Na(this,c),c.length>0?String(c[0]):y):y};function Ku(c,y,v){Zo(c,y),v.length>0&&(c.i=null,c.g.set($n(c,y),N(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const B=Ts(v);v=Na(this,v);for(let K=0;K<v.length;K++){let se=B;v[K]!==""&&(se+="="+Ts(v[K])),c.push(se)}}return this.i=c.join("&")};function $u(c){const y=new Nn;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function $n(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function el(c,y){y&&!c.j&&(ji(c),c.i=null,c.g.forEach(function(v,S){const B=S.toLowerCase();S!=B&&(Zo(this,S),Ku(this,B,v))},c)),c.j=y}function tl(c,y){const v=new Er;if(h.Image){const S=new Image;S.onload=_(on,v,"TestLoadImage: loaded",!0,y,S),S.onerror=_(on,v,"TestLoadImage: error",!1,y,S),S.onabort=_(on,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=_(on,v,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Ir(c,y){const v=new Er,S=new AbortController,B=setTimeout(()=>{S.abort(),on(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?on(v,"TestPingServer: ok",!0,y):on(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),on(v,"TestPingServer: error",!1,y)})}function on(c,y,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function Yu(){this.g=new zf}function Ds(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ds,Bu),Ds.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(c,y){Dt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ns,Dt),i=Ns.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Hi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ln(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Cr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Cr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ln(this):Hi(this),this.readyState==3&&Cr(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,ln(this))},i.Na=function(c){this.g&&(this.response=c,ln(this))},i.ga=function(){this.g&&ln(this)};function ln(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hi(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Hi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dr(c){let y="";return Ie(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function On(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Dr(v),typeof c=="string"?v!=null&&Ts(v):Ye(c,y,v))}function et(c){Dt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(et,Dt);var Oa=/^https?$/i,Qu=["POST","PUT"];i=et.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ui.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Os(this,K);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Qu,y,void 0)>=0)||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of v)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Os(this,K)}};function Os(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,xs(c),Nt(c)}function xs(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Nt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nt(this,!0)),et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?nl(this):this.Xa())},i.Xa=function(){nl(this)};function nl(c){if(c.h&&typeof u<"u"){if(c.v&&Wt(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),Wt(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=K===0){let se=String(c.D).match(Da)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),S=!Oa.test(se?se.toLowerCase():"")}v=S}if(v)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var B=Wt(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",xs(c)}}finally{Nt(c)}}}}function Nt(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||kt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Wt(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Wt(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),an(y)}};function Ms(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ps(c){const y={};c=(c.g&&Wt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(D(c[S]))continue;var v=jf(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[B]||[];y[B]=K,K.push(v)}O(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function xa(c){this.za=0,this.i=[],this.j=new Er,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vs("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vs("baseRetryDelayMs",5e3,c),this.Za=Vs("retryDelaySeedMs",1e4,c),this.Ta=Vs("forwardChannelMaxRetries",2,c),this.va=Vs("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ss(c&&c.concurrentRequestLimit),this.Ba=new Yu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=xa.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,S){gt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=tc(this,null,this.W),Us(this)};function ks(c){if(Ls(c),c.I==3){var y=c.V++,v=ut(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),zs(c,v),y=new Gn(c,c.j,y),y.M=2,y.A=Bi(ut(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Va(y.j,null),y.g.ea(y.A)),y.F=Date.now(),As(y)}ec(c)}function di(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function Ls(c){di(c),c.v&&(h.clearTimeout(c.v),c.v=null),Pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Us(c){if(!ws(c.h)&&!c.m){c.m=!0;var y=c.Ea;re||w(),ce||(re(),ce=!0),R.add(y,c),c.D=0}}function Ff(c,y){return Dn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=vr(g(c.Ea,c,y),Ju(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Gn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=J(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ma(this,B,y),v=ut(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),zs(this,v),K&&(this.R?y="headers="+Ts(Dr(K))+"&"+y:this.u&&On(v,this.u,K)),Ia(this.h,B),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),B.U=!0,ui(B,v,null)):ui(B,v,y),this.I=2}}else this.I==3&&(c?Xu(this,c):this.i.length==0||ws(this.h)||Xu(this))};function Xu(c,y){var v;y?v=y.l:v=c.V++;const S=ut(c.J);Ye(S,"SID",c.M),Ye(S,"RID",v),Ye(S,"AID",c.K),zs(c,S),c.u&&c.o&&On(S,c.u,c.o),v=new Gn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ma(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ia(c.h,v),ui(v,S,y)}function zs(c,y){c.H&&Ie(c.H,function(v,S){Ye(y,S,v)}),c.l&&Ie({},function(v,S){Ye(y,S,v)})}function Ma(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let we=-1;for(;;){const nt=["count="+v];we==-1?v>0?(we=B[0].g,nt.push("ofs="+we)):we=0:nt.push("ofs="+we);let Ge=!0;for(let vt=0;vt<v;vt++){var K=B[vt].g;const _n=B[vt].map;if(K-=we,K<0)we=Math.max(0,B[vt].g-100),Ge=!1;else try{K="req"+K+"_"||"";try{var se=_n instanceof Map?_n:Object.entries(_n);for(const[mi,Yn]of se){let Qn=Yn;m(Yn)&&(Qn=In(Yn)),nt.push(K+mi+"="+encodeURIComponent(Qn))}}catch(mi){throw nt.push(K+"type="+encodeURIComponent("_badmap")),mi}}catch{S&&S(_n)}}if(Ge){se=nt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function Wu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;re||w(),ce||(re(),ce=!0),R.add(y,c),c.A=0}}function il(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=vr(g(c.Da,c),Ju(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=vr(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),di(this),Zu(this))};function rl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Zu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=ut(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),zs(c,y),c.u&&c.o&&On(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Bi(ut(y)),v.u=null,v.R=!0,Ar(v,c)}i.Va=function(){this.C!=null&&(this.C=null,di(this),il(this),gt(19))};function Pa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function sl(c,y){var v=null;if(c.g==y){Pa(c),rl(c),c.g=null;var S=2}else if(Rs(c.h,y))v=y.G,zi(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;S=ba(),kt(S,new Hu(S,v)),Us(c)}else Wu(c);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&Ff(c,y)||S==2&&il(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),B){case 1:qi(c,5);break;case 4:qi(c,10);break;case 3:qi(c,6);break;default:qi(c,2)}}}function Ju(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function qi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const B=!S;S=new Kn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Sr(S,"https"),Bi(S),B?tl(S.toString(),v):Ir(S.toString(),v)}else gt(2);c.I=0,c.l&&c.l.pa(y),ec(c),Ls(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function ec(c){if(c.I=0,c.ja=[],c.l){const y=Ca(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ja,y),k(c.ja,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.oa()}}function tc(c,y,v){var S=v instanceof Kn?ut(v):new Kn(v);if(S.g!="")y&&(S.g=y+"."+S.g),Is(S,S.u);else{var B=h.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const K=new Kn(null);S&&Sr(K,S),y&&(K.g=y),B&&Is(K,B),v&&(K.h=v),S=K}return v=c.G,y=c.wa,v&&y&&Ye(S,v,y),Ye(S,"VER",c.ka),zs(c,S),S}function Va(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new et(new Ds({ab:v})):new et(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}i=nc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function ka(){}ka.prototype.g=function(c,y){return new un(c,y)};function un(c,y){Dt.call(this),this.g=new xa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!D(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Nr(this)}T(un,Dt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){ks(this.g)},un.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=In(c),c=v);y.i.push(new Hf(y.Ya++,c)),y.I==3&&Us(y)},un.prototype.N=function(){this.g.l=null,delete this.j,ks(this.g),delete this.g,un.Z.N.call(this)};function al(c){gr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(al,gr);function ic(){Fn.call(this),this.status=1}T(ic,Fn);function Nr(c){this.g=c}T(Nr,nc),Nr.prototype.ra=function(){kt(this.g,"a")},Nr.prototype.qa=function(c){kt(this.g,new al(c))},Nr.prototype.pa=function(c){kt(this.g,new ic)},Nr.prototype.oa=function(){kt(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,TA=function(){return new ka},EA=function(){return ba()},vA=Cn,Ap={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yt.NO_ERROR=0,yt.TIMEOUT=8,yt.HTTP_ERROR=6,Ah=yt,qt.COMPLETE="complete",_A=qt,ju.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,tu=ju,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,yA=et}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const KE="@firebase/firestore",$E="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new tg("@firebase/firestore");function fo(){return ua.logLevel}function he(i,...e){if(ua.logLevel<=Ve.DEBUG){const t=e.map(rg);ua.debug(`Firestore (${Uo}): ${i}`,...t)}}function hr(i,...e){if(ua.logLevel<=Ve.ERROR){const t=e.map(rg);ua.error(`Firestore (${Uo}): ${i}`,...t)}}function Do(i,...e){if(ua.logLevel<=Ve.WARN){const t=e.map(rg);ua.warn(`Firestore (${Uo}): ${i}`,...t)}}function rg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,AA(i,s,t)}function AA(i,e,t){let s=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw hr(s),new Error(s)}function Fe(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||AA(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class qD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class FD{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new or,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new or)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new bA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class GD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KD{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new GD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $D{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new YE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new YE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=YD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function bp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Jm(o)===Jm(u)?ke(o,u):Jm(o)?1:-1}return ke(i.length,e.length)}const QD=55296,XD=57343;function Jm(i){const e=i.charCodeAt(0);return e>=QD&&e<=XD}function No(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="__name__";class Ei{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ei.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return ke(e.length,t.length)}static compareSegments(e,t){const s=Ei.isNumericId(e),o=Ei.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ei.extractNumericId(e).compare(Ei.extractNumericId(t)):bp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class st extends Ei{construct(e,t,s){return new st(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new st(t)}static emptyPath(){return new st([])}}const WD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ei{construct(e,t,s){return new Yt(e,t,s)}static isValidIdentifier(e){return WD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QE}static keyField(){return new Yt([QE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(st.fromString(e))}static fromName(e){return new _e(st.fromString(e).popFirst(5))}static empty(){return new _e(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(i,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ZD(i,e,t,s){if(e===!0&&s===!0)throw new de(ne.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function XE(i){if(!_e.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function WE(i){if(_e.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function wA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function ag(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function ca(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ag(i);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(i,e){const t={typeString:i};return e&&(t.value=e),t}function Ou(i,e){if(!wA(i))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new de(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=-62135596800,JE=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*JE);return new at(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ZE)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ZE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:It("string",at._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new at(0,0))}static max(){return new Se(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function JD(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new at(t+1,0):new at(t,s));return new hs(o,_e.empty(),e)}function eN(i){return new hs(i.readTime,i.key,yu)}class hs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new hs(Se.min(),_e.empty(),yu)}static max(){return new hs(Se.max(),_e.empty(),yu)}}function tN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==nN)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(o=>o?ee.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++m,m===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new ee((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function rN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-1;function yf(i){return i==null}function zh(i){return i===0&&1/i==-1/0}function sN(i){return typeof i=="number"&&Number.isInteger(i)&&!zh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="";function aN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=e0(e)),e=oN(i.get(t),e);return e0(e)}function oN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case RA:t+="";break;default:t+=u}}return t}function e0(i){return i+RA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ya(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function IA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new $t(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new n0(this.data.getIterator())}getIteratorFrom(e){return new n0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class n0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new ei([])}unionWith(e){let t=new Vt(Yt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ei(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new CA("Invalid base64 string: "+u):u}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const lN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const t=lN.exec(i);if(Fe(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(i.seconds),nanos:At(i.nanos)}}function At(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ds(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="server_timestamp",NA="__type__",OA="__previous_value__",xA="__local_write_time__";function lg(i){var t,s;return((s=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[NA])==null?void 0:s.stringValue)===DA}function _f(i){const e=i.mapValue.fields[OA];return lg(e)?_f(e):e}function _u(i){const e=fs(i.mapValue.fields[xA].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t,s,o,u,h,m,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Bh="(default)";class vu{constructor(e,t){this.projectId=e,this.database=t||Bh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="__type__",cN="__max__",uh={mapValue:{}},PA="__vector__",jh="value";function ms(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?lg(i)?4:fN(i)?9007199254740991:hN(i)?10:11:Ae(28295,{value:i})}function Di(i,e){if(i===e)return!0;const t=ms(i);if(t!==ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _u(i).isEqual(_u(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=fs(o.timestampValue),m=fs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return At(o.geoPointValue.latitude)===At(u.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return At(o.integerValue)===At(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=At(o.doubleValue),m=At(u.doubleValue);return h===m?zh(h)===zh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return No(i.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(t0(h)!==t0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Di(h[p],m[p])))return!1;return!0}(i,e);default:return Ae(52216,{left:i})}}function Eu(i,e){return(i.values||[]).find(t=>Di(t,e))!==void 0}function Oo(i,e){if(i===e)return 0;const t=ms(i),s=ms(e);if(t!==s)return ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=At(u.integerValue||u.doubleValue),p=At(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return i0(i.timestampValue,e.timestampValue);case 4:return i0(_u(i),_u(e));case 5:return bp(i.stringValue,e.stringValue);case 6:return function(u,h){const m=ds(u),p=ds(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=ke(m[g],p[g]);if(_!==0)return _}return ke(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=ke(At(u.latitude),At(h.latitude));return m!==0?m:ke(At(u.longitude),At(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return r0(i.arrayValue,e.arrayValue);case 10:return function(u,h){var b,N,k,H;const m=u.fields||{},p=h.fields||{},g=(b=m[jh])==null?void 0:b.arrayValue,_=(N=p[jh])==null?void 0:N.arrayValue,T=ke(((k=g==null?void 0:g.values)==null?void 0:k.length)||0,((H=_==null?void 0:_.values)==null?void 0:H.length)||0);return T!==0?T:r0(g,_)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===uh.mapValue&&h===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(h===uh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const b=bp(p[T],_[T]);if(b!==0)return b;const N=Oo(m[p[T]],g[_[T]]);if(N!==0)return N}return ke(p.length,_.length)}(i.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function i0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const t=fs(i),s=fs(e),o=ke(t.seconds,s.seconds);return o!==0?o:ke(t.nanos,s.nanos)}function r0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Oo(t[o],s[o]);if(u)return u}return ke(t.length,s.length)}function xo(i){return Sp(i)}function Sp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=fs(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ds(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return _e.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Sp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Sp(t.fields[h])}`;return o+"}"}(i.mapValue):Ae(61005,{value:i})}function bh(i){switch(ms(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_f(i);return e?16+bh(e):16;case 5:return 2*i.stringValue.length;case 6:return ds(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+bh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ya(s.fields,(u,h)=>{o+=u.length+bh(h)}),o}(i.mapValue);default:throw Ae(13486,{value:i})}}function wp(i){return!!i&&"integerValue"in i}function ug(i){return!!i&&"arrayValue"in i}function s0(i){return!!i&&"nullValue"in i}function a0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sh(i){return!!i&&"mapValue"in i}function hN(i){var t,s;return((s=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[MA])==null?void 0:s.stringValue)===PA}function ou(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ya(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ou(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ou(i.arrayValue.values[t]);return e}return{...i}}function fN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===cN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Sh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ou(t)}setAll(e){let t=Yt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=ou(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Sh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ya(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Bn(ou(this.value))}}function VA(i){const e=[];return ya(i.fields,(t,s)=>{const o=new Yt([t]);if(Sh(s)){const u=VA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new ei(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Se.min(),Se.min(),Se.min(),Bn.empty(),0)}static newFoundDocument(e,t,s,o){return new nn(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new nn(e,2,t,Se.min(),Se.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,Se.min(),Se.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t){this.position=e,this.inclusive=t}}function o0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=Oo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function l0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Di(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t="asc"){this.field=e,this.dir=t}}function dN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{}class Mt extends kA{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new pN(e,t,s):t==="array-contains"?new _N(e,s):t==="in"?new vN(e,s):t==="not-in"?new EN(e,s):t==="array-contains-any"?new TN(e,s):new Mt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new gN(e,s):new yN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Oo(t,this.value)):t!==null&&ms(this.value)===ms(t)&&this.matchesComparison(Oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends kA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ni(e,t)}matches(e){return LA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LA(i){return i.op==="and"}function UA(i){return mN(i)&&LA(i)}function mN(i){for(const e of i.filters)if(e instanceof Ni)return!1;return!0}function Rp(i){if(i instanceof Mt)return i.field.canonicalString()+i.op.toString()+xo(i.value);if(UA(i))return i.filters.map(e=>Rp(e)).join(",");{const e=i.filters.map(t=>Rp(t)).join(",");return`${i.op}(${e})`}}function zA(i,e){return i instanceof Mt?function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)}(i,e):i instanceof Ni?function(s,o){return o instanceof Ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&zA(h,o.filters[m]),!0):!1}(i,e):void Ae(19439)}function BA(i){return i instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${xo(t.value)}`}(i):i instanceof Ni?function(t){return t.op.toString()+" {"+t.getFilters().map(BA).join(" ,")+"}"}(i):"Filter"}class pN extends Mt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class gN extends Mt{constructor(e,t){super(e,"in",t),this.keys=jA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yN extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=jA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jA(i,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class _N extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ug(t)&&Eu(t.arrayValue,this.value)}}class vN extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Eu(this.value.arrayValue,t)}}class EN extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Eu(this.value.arrayValue,t)}}class TN extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ug(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Eu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function u0(i,e=null,t=[],s=[],o=null,u=null,h=null){return new AN(i,e,t,s,o,u,h)}function cg(i){const e=Re(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Rp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>xo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>xo(s)).join(",")),e.Te=t}return e.Te}function hg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!dN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!zA(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!l0(i.startAt,e.startAt)&&l0(i.endAt,e.endAt)}function Ip(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bN(i,e,t,s,o,u,h,m){return new vf(i,e,t,s,o,u,h,m)}function fg(i){return new vf(i)}function c0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function SN(i){return i.collectionGroup!==null}function lu(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Yt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new qh(u,s))}),t.has(Yt.keyField().canonicalString())||e.Ie.push(new qh(Yt.keyField(),s))}return e.Ie}function bi(i){const e=Re(i);return e.Ee||(e.Ee=wN(e,lu(i))),e.Ee}function wN(i,e){if(i.limitType==="F")return u0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new qh(o.field,u)});const t=i.endAt?new Hh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Hh(i.startAt.position,i.startAt.inclusive):null;return u0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Cp(i,e,t){return new vf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Ef(i,e){return hg(bi(i),bi(e))&&i.limitType===e.limitType}function HA(i){return`${cg(bi(i))}|lt:${i.limitType}`}function mo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>BA(o)).join(", ")}]`),yf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>xo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>xo(o)).join(",")),`Target(${s})`}(bi(i))}; limitType=${i.limitType})`}function Tf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of lu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=o0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,lu(s),o)||s.endAt&&!function(h,m,p){const g=o0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,lu(s),o))}(i,e)}function RN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qA(i){return(e,t)=>{let s=!1;for(const o of lu(i)){const u=IN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function IN(i,e,t){const s=i.field.isKeyField()?_e.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Oo(p,g):Ae(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return IA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new ft(_e.comparator);function fr(){return CN}const FA=new ft(_e.comparator);function nu(...i){let e=FA;for(const t of i)e=e.insert(t.key,t);return e}function GA(i){let e=FA;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ia(){return uu()}function KA(){return uu()}function uu(){return new _a(i=>i.toString(),(i,e)=>i.isEqual(e))}const DN=new ft(_e.comparator),NN=new Vt(_e.comparator);function Le(...i){let e=NN;for(const t of i)e=e.add(t);return e}const ON=new Vt(ke);function xN(){return ON}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function $A(i){return{integerValue:""+i}}function MN(i,e){return sN(e)?$A(e):dg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this._=void 0}}function PN(i,e,t){return i instanceof Fh?function(o,u){const h={fields:{[NA]:{stringValue:DA},[xA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lg(u)&&(u=_f(u)),u&&(h.fields[OA]=u),{mapValue:h}}(t,e):i instanceof Tu?QA(i,e):i instanceof Au?XA(i,e):function(o,u){const h=YA(o,u),m=h0(h)+h0(o.Ae);return wp(h)&&wp(o.Ae)?$A(m):dg(o.serializer,m)}(i,e)}function VN(i,e,t){return i instanceof Tu?QA(i,e):i instanceof Au?XA(i,e):t}function YA(i,e){return i instanceof Gh?function(s){return wp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Fh extends Af{}class Tu extends Af{constructor(e){super(),this.elements=e}}function QA(i,e){const t=WA(e);for(const s of i.elements)t.some(o=>Di(o,s))||t.push(s);return{arrayValue:{values:t}}}class Au extends Af{constructor(e){super(),this.elements=e}}function XA(i,e){let t=WA(e);for(const s of i.elements)t=t.filter(o=>!Di(o,s));return{arrayValue:{values:t}}}class Gh extends Af{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function h0(i){return At(i.integerValue||i.doubleValue)}function WA(i){return ug(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function kN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Tu&&o instanceof Tu||s instanceof Au&&o instanceof Au?No(s.elements,o.elements,Di):s instanceof Gh&&o instanceof Gh?Di(s.Ae,o.Ae):s instanceof Fh&&o instanceof Fh}(i.transform,e.transform)}class LN{constructor(e,t){this.version=e,this.transformResults=t}}class lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class bf{}function ZA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new eb(i.key,lr.none()):new xu(i.key,i.data,lr.none());{const t=i.data,s=Bn.empty();let o=new Vt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new va(i.key,s,new ei(o.toArray()),lr.none())}}function UN(i,e,t){i instanceof xu?function(o,u,h){const m=o.value.clone(),p=d0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof va?function(o,u,h){if(!wh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=d0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(JA(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function cu(i,e,t,s){return i instanceof xu?function(u,h,m,p){if(!wh(u.precondition,h))return m;const g=u.value.clone(),_=m0(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof va?function(u,h,m,p){if(!wh(u.precondition,h))return m;const g=m0(u.fieldTransforms,p,h),_=h.data;return _.setAll(JA(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(u,h,m){return wh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function zN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=YA(s.transform,o||null);u!=null&&(t===null&&(t=Bn.empty()),t.set(s.field,u))}return t||null}function f0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&No(s,o,(u,h)=>kN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class xu extends bf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class va extends bf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function JA(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function d0(i,e,t){const s=new Map;Fe(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,VN(h,m,t[o]))}return s}function m0(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,PN(u,h,e))}return s}class eb extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BN extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=cu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=cu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=KA();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=ZA(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(t,s)=>f0(t,s))&&No(this.baseMutations,e.baseMutations,(t,s)=>f0(t,s))}}class mg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return DN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new mg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Be;function FN(i){switch(i){case ne.OK:return Ae(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function tb(i){if(i===void 0)return hr("GRPC error has no .code"),ne.UNKNOWN;switch(i){case wt.OK:return ne.OK;case wt.CANCELLED:return ne.CANCELLED;case wt.UNKNOWN:return ne.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ne.INTERNAL;case wt.UNAVAILABLE:return ne.UNAVAILABLE;case wt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case wt.NOT_FOUND:return ne.NOT_FOUND;case wt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case wt.ABORTED:return ne.ABORTED;case wt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case wt.DATA_LOSS:return ne.DATA_LOSS;default:return Ae(39323,{code:i})}}(Be=wt||(wt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=new os([4294967295,4294967295],0);function p0(i){const e=GN().encode(i),t=new gA;return t.update(e),new Uint8Array(t.digest())}function g0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new os([t,s],0),new os([o,u],0)]}class pg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new iu(`Invalid padding: ${t}`);if(s<0)throw new iu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new iu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=os.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(os.fromNumber(s)));return o.compare(KN)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=p0(e),[s,o]=g0(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new pg(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const t=p0(e),[s,o]=g0(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Sf(Se.min(),o,new ft(ke),fr(),Le())}}class Mu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Mu(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class nb{constructor(e,t){this.targetId=e,this.Ce=t}}class ib{constructor(e,t,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class y0{constructor(){this.ve=0,this.Fe=_0(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),s=Le();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}}),new Mu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=_0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $N{constructor(e){this.Ge=e,this.ze=new Map,this.je=fr(),this.Je=ch(),this.He=ch(),this.Ye=new ft(ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Ip(u))if(s===0){const h=new _e(u.path);this.et(t,h,nn.newNoDocument(h,Se.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=ds(s).toUint8Array()}catch(p){if(p instanceof CA)return Do("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new pg(h,o,u)}catch(p){return Do(p instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Ip(m.target)){const p=new _e(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,nn.newNoDocument(p,e))}u.Be&&(t.set(h,u.ke()),u.qe())}});let s=Le();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new Sf(e,t,this.Ye,this.je,s);return this.je=fr(),this.Je=ch(),this.He=ch(),this.Ye=new ft(ke),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new y0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Vt(ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Vt(ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y0),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ch(){return new ft(_e.comparator)}function _0(){return new ft(_e.comparator)}const YN={asc:"ASCENDING",desc:"DESCENDING"},QN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XN={and:"AND",or:"OR"};class WN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dp(i,e){return i.useProto3Json||yf(e)?e:{value:e}}function Kh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ZN(i,e){return Kh(i,e.toTimestamp())}function Si(i){return Fe(!!i,49232),Se.fromTimestamp(function(t){const s=fs(t);return new at(s.seconds,s.nanos)}(i))}function gg(i,e){return Np(i,e).canonicalString()}function Np(i,e){const t=function(o){return new st(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function sb(i){const e=st.fromString(i);return Fe(cb(e),10190,{key:e.toString()}),e}function Op(i,e){return gg(i.databaseId,e.path)}function ep(i,e){const t=sb(e);if(t.get(1)!==i.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(ob(t))}function ab(i,e){return gg(i.databaseId,e)}function JN(i){const e=sb(i);return e.length===4?st.emptyPath():ob(e)}function xp(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ob(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function v0(i,e,t){return{name:Op(i,e),fields:t.value.mapValue.fields}}function eO(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Fe(_===void 0||typeof _=="string",58123),Qt.fromBase64String(_||"")):(Fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Qt.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const _=g.code===void 0?ne.UNKNOWN:tb(g.code);return new de(_,g.message||"")}(h);t=new ib(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ep(i,s.document.name),u=Si(s.document.updateTime),h=s.document.createTime?Si(s.document.createTime):Se.min(),m=new Bn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,h,m),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Rh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ep(i,s.document),u=s.readTime?Si(s.readTime):Se.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Rh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ep(i,s.document),u=s.removedTargetIds||[];t=new Rh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new qN(o,u),m=s.targetId;t=new nb(m,h)}}return t}function tO(i,e){let t;if(e instanceof xu)t={update:v0(i,e.key,e.value)};else if(e instanceof eb)t={delete:Op(i,e.key)};else if(e instanceof va)t={update:v0(i,e.key,e.data),updateMask:cO(e.fieldMask)};else{if(!(e instanceof BN))return Ae(16599,{Vt:e.type});t={verify:Op(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Fh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Tu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Au)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:ZN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)}(i,e.precondition)),t}function nO(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?Si(o.updateTime):Si(u);return h.isEqual(Se.min())&&(h=Si(u)),new LN(h,o.transformResults||[])}(t,e))):[]}function iO(i,e){return{documents:[ab(i,e.path)]}}function rO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=ab(i,o);const u=function(g){if(g.length!==0)return ub(Ni.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:po(b.field),direction:oO(b.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Dp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function sO(i){let e=JN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(T){const b=lb(T);return b instanceof Ni&&UA(b)?b.getFilters():[b]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(b=>function(k){return new qh(go(k.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(b))}(t.orderBy));let m=null;t.limit&&(m=function(T){let b;return b=typeof T=="object"?T.value:T,yf(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(T){const b=!!T.before,N=T.values||[];return new Hh(N,b)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const b=!T.before,N=T.values||[];return new Hh(N,b)}(t.endAt)),bN(e,o,h,u,m,"F",p,g)}function aO(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function lb(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=go(t.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(t.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(t.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=go(t.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(i):i.fieldFilter!==void 0?function(t){return Mt.create(go(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Ni.create(t.compositeFilter.filters.map(s=>lb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(i):Ae(30097,{filter:i})}function oO(i){return YN[i]}function lO(i){return QN[i]}function uO(i){return XN[i]}function po(i){return{fieldPath:i.canonicalString()}}function go(i){return Yt.fromServerFormat(i.fieldPath)}function ub(i){return i instanceof Mt?function(t){if(t.op==="=="){if(a0(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NAN"}};if(s0(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(a0(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NAN"}};if(s0(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(t.field),op:lO(t.op),value:t.value}}}(i):i instanceof Ni?function(t){const s=t.getFilters().map(o=>ub(o));return s.length===1?s[0]:{compositeFilter:{op:uO(t.op),filters:s}}}(i):Ae(54877,{filter:i})}function cO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t,s,o,u=Se.min(),h=Se.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.yt=e}}function fO(i){const e=sO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.Cn=new mO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(hs.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class mO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Vt(st.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hb=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(hb,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="LruGarbageCollector",pO=1048576;function A0([i,e],[t,s]){const o=ke(i,t);return o===0?ke(e,s):o}class gO{constructor(e){this.Ir=e,this.buffer=new Vt(A0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();A0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(T0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?he(T0,"Ignoring IndexedDB error during garbage collection: ",t):await zo(t)}await this.Vr(3e5)})}}class _O{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(gf.ce);const s=new gO(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(E0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E0):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,h,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),fo()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function vO(i,e){return new _O(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.changes=new _a(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&cu(s.mutation,o,ei.empty(),at.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=ia();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=nu();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ia();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=fr();const h=uu(),m=function(){return uu()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof va)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),cu(_.mutation,g,_.mutation.getFieldMask(),at.now())):h.set(g.key,ei.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>m.set(g,new TO(_,h.get(g)??null))),m))}recalculateAndSaveOverlays(e,t){const s=uu();let o=new ft((h,m)=>h-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||ei.empty();_=m.applyToLocalView(g,_),s.set(p,_);const T=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,T)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=KA();_.forEach(b=>{if(!u.has(b)){const N=ZA(t.get(b),s.get(b));N!==null&&T.set(b,N),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ee.resolve(ia());let m=yu,p=u;return h.next(g=>ee.forEach(g,(_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next(b=>{p=p.insert(_,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(_=>({batchId:m,changes:GA(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=nu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=nu();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(T,b){return new vf(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((T,b)=>{h=h.insert(T,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,nn.newInvalidDocument(_)))});let m=nu();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&cu(_.mutation,g,ei.empty(),at.now()),Tf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:fO(o.bundledQuery),readTime:Si(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.overlays=new ft(_e.comparator),this.qr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ia();return ee.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const o=ia(),u=t.length+1,h=new _e(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ft((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=ia(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=ia(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return ee.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new HN(t,s));let u=this.qr.get(t);u===void 0&&(u=Le(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.Qr=new Vt(jt.$r),this.Ur=new Vt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new jt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new jt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new _e(new st([])),s=new jt(t,e),o=new jt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new st([])),s=new jt(t,e),o=new jt(t,e+1);let u=Le();return this.Ur.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new jt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||ke(e.Yr,t.Yr)}static Kr(e,t){return ke(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(jt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new jN(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,t){return ee.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?og:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],h=>{const m=this.Xr(h.Yr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Vt(ke);return t.forEach(o=>{const u=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{s=s.add(m.Yr)})}),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new jt(new _e(u),0);let m=new Vt(ke);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},h),ee.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(t.mutations,o=>{const u=new jt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new jt(t,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.ri=e,this.docs=function(){return new ft(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let s=fr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=fr();const h=t.path,m=new _e(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||tN(eN(_),s)<=0||(o.has(_.key)||Tf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ae(9500)}ii(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new CO(this)}getSize(e){return ee.resolve(this.size)}}class CO extends EO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.persistence=e,this.si=new _a(t=>cg(t),hg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new yg,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ee.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Mo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Pr(t),ee.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,t){this.ui={},this.overlays={},this.ci=new gf(0),this.li=!1,this.li=!0,this.hi=new wO,this.referenceDelegate=e(this),this.Pi=new DO(this),this.indexManager=new dO,this.remoteDocumentCache=function(o){return new IO(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new hO(t),this.Ii=new bO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new RO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new NO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,t){return ee.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class NO extends iN{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.Ri=new yg,this.Vi=null}static mi(e){return new _g(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,s=>{const o=_e.fromPath(s);return this.gi(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ee.or([()=>ee.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class $h{constructor(e,t){this.persistence=e,this.pi=new _a(s=>aN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=vO(this,t)}static mi(e,t){return new $h(e,t)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return ee.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?ee.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ee.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bh(e.data.value)),t}br(e,t,s){return ee.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return SC()?8:rN(rn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new OO;return this.Ss(e,t,h).next(m=>{if(u.result=m,this.Vs)return this.bs(e,t,h,m.size)})}).next(()=>u.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(fo()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(fo()<=Ve.DEBUG&&he("QueryEngine","Query:",mo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(fo()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(t))):ee.resolve())}ys(e,t){if(c0(t))return ee.resolve(null);let s=bi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Cp(t,null,"F"),s=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Le(...u);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(t,m);return this.Cs(t,g,h,p.readTime)?this.ys(e,Cp(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,s,o){return c0(t)||o.isEqual(Se.min())?ee.resolve(null):this.ps.getDocuments(e,s).next(u=>{const h=this.Ds(t,u);return this.Cs(t,h,s,o)?ee.resolve(null):(fo()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(t)),this.vs(e,h,t,JD(o,yu)).next(m=>m))})}Ds(e,t){let s=new Vt(qA(e));return t.forEach((o,u)=>{Tf(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return fo()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",mo(t)),this.ps.getDocumentsMatchingQuery(e,t,hs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="LocalStore",MO=3e8;class PO{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ft(ke),this.xs=new _a(u=>cg(u),hg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function VO(i,e,t,s){return new PO(i,e,t,s)}async function db(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Le();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:m}))})})}function kO(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const T=g.batch,b=T.keys();let N=ee.resolve();return b.forEach(k=>{N=N.next(()=>_.getEntry(p,k)).next(H=>{const V=g.docVersions.get(k);Fe(V!==null,48541),H.version.compareTo(V)<0&&(T.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),_.addEntry(H)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function mb(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function LO(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((_,T)=>{const b=o.get(T);if(!b)return;m.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,T).next(()=>t.Pi.addMatchingKeys(u,_.addedDocuments,T)));let N=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,s)),o=o.insert(T,N),function(H,V,X){return H.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=MO?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(b,N,_)&&m.push(t.Pi.updateTargetData(u,N))});let p=fr(),g=Le();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(UO(u,h,e.documentUpdates).next(_=>{p=_.ks,g=_.qs})),!s.isEqual(Se.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next(T=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return ee.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ms=o,u))}function UO(i,e,t){let s=Le(),o=Le();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=fr();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):he(Eg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:o}})}function zO(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=og),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function BO(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):t.Pi.allocateTargetId(s).next(h=>(o=new rs(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function Mp(i,e,t){const s=Re(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Bo(h))throw h;he(Eg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function b0(i,e,t){const s=Re(i);let o=Se.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const T=Re(p),b=T.xs.get(_);return b!==void 0?ee.resolve(T.Ms.get(b)):T.Pi.getTargetData(g,_)}(s,h,bi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?u:Le())).next(m=>(jO(s,RN(e),m),{documents:m,Qs:u})))}function jO(i,e,t){let s=i.Os.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class S0{constructor(){this.activeTargetIds=xN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HO{constructor(){this.Mo=new S0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new S0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="ConnectivityMonitor";class R0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(w0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(w0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function Pp(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="RestConnection",FO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const h=Pp(),m=this.zo(e,t.toUriEncodedString());he(tp,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=pa(g);return this.Jo(e,m,p,s,_).then(T=>(he(tp,`Received RPC '${e}' ${h}: `,T),T),T=>{throw Do(tp,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T})}Ho(e,t,s,o,u,h){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,t){const s=FO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class $O extends GO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=Pp();return new Promise((m,p)=>{const g=new yA;g.setWithCredentials(!0),g.listenOnce(_A.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ah.NO_ERROR:const T=g.getResponseJson();he(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Ah.TIMEOUT:he(en,`RPC '${e}' ${h} timed out`),p(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const b=g.getStatus();if(he(en,`RPC '${e}' ${h} failed with status:`,b,"response text:",g.getResponseText()),b>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const k=N==null?void 0:N.error;if(k&&k.status&&k.message){const H=function(X){const te=X.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(te)>=0?te:ne.UNKNOWN}(k.status);p(new de(H,k.message))}else p(new de(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(en,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);he(en,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,s,15)})}T_(e,t,s){const o=Pp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=TA(),m=EA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");he(en,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=h.createWebChannel(_,p);this.I_(T);let b=!1,N=!1;const k=new KO({Yo:V=>{N?he(en,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(b||(he(en,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),he(en,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Zo:()=>T.close()}),H=(V,X,te)=>{V.listen(X,F=>{try{te(F)}catch(ie){setTimeout(()=>{throw ie},0)}})};return H(T,tu.EventType.OPEN,()=>{N||(he(en,`RPC '${e}' stream ${o} transport opened.`),k.o_())}),H(T,tu.EventType.CLOSE,()=>{N||(N=!0,he(en,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(T))}),H(T,tu.EventType.ERROR,V=>{N||(N=!0,Do(en,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),k.a_(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),H(T,tu.EventType.MESSAGE,V=>{var X;if(!N){const te=V.data[0];Fe(!!te,16349);const F=te,ie=(F==null?void 0:F.error)||((X=F[0])==null?void 0:X.error);if(ie){he(en,`RPC '${e}' stream ${o} received error:`,ie);const re=ie.status;let ce=function(I){const P=wt[I];if(P!==void 0)return tb(P)}(re),R=ie.message;ce===void 0&&(ce=ne.INTERNAL,R="Unknown error status: "+re+" with message "+ie.message),N=!0,k.a_(new de(ce,R)),T.close()}else he(en,`RPC '${e}' stream ${o} received:`,te),k.u_(te)}}),H(m,vA.STAT_EVENT,V=>{V.stat===Ap.PROXY?he(en,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Ap.NOPROXY&&he(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(i){return new WN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="PersistentStream";class gb{constructor(e,t,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new de(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(I0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(he(I0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YO extends gb{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=eO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Si(h.readTime):Se.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=xp(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=Ip(p)?{documents:iO(u,p)}:{query:rO(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=rb(u,h.resumeToken);const g=Dp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Kh(u,h.snapshotVersion.toTimestamp());const g=Dp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=aO(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=xp(this.serializer),t.removeTarget=e,this.q_(t)}}class QO extends gb{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=nO(e.writeResults,e.commitTime),s=Si(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=xp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>tO(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{}class WO extends XO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,Np(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,Np(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(ne.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class ZO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hr(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class JO{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{Ea(this)&&(he(ha,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.Ea.add(4),await Pu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Rf(g)}(this))})}),this.Ra=new ZO(s,o)}}async function Rf(i){if(Ea(i))for(const e of i.da)await e(!0)}async function Pu(i){for(const e of i.da)await e(!1)}function yb(i,e){const t=Re(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Sg(t)?bg(t):jo(t).O_()&&Ag(t,e))}function Tg(i,e){const t=Re(i),s=jo(t);t.Ia.delete(e),s.O_()&&_b(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ea(t)&&t.Ra.set("Unknown"))}function Ag(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jo(i).Y_(e)}function _b(i,e){i.Va.Ue(e),jo(i).Z_(e)}function bg(i){i.Va=new $N({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),jo(i).start(),i.Ra.ua()}function Sg(i){return Ea(i)&&!jo(i).x_()&&i.Ia.size>0}function Ea(i){return Re(i).Ea.size===0}function vb(i){i.Va=void 0}async function e2(i){i.Ra.set("Online")}async function t2(i){i.Ia.forEach((e,t)=>{Ag(i,e)})}async function n2(i,e){vb(i),Sg(i)?(i.Ra.ha(e),bg(i)):i.Ra.set("Unknown")}async function i2(i,e,t){if(i.Ra.set("Online"),e instanceof ib&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){he(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yh(i,s)}else if(e instanceof Rh?i.Va.Ze(e):e instanceof nb?i.Va.st(e):i.Va.tt(e),!t.isEqual(Se.min()))try{const s=await mb(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),_b(u,p);const T=new rs(_.target,p,g,_.sequenceNumber);Ag(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){he(ha,"Failed to raise snapshot:",s),await Yh(i,s)}}async function Yh(i,e,t){if(!Bo(e))throw e;i.Ea.add(1),await Pu(i),i.Ra.set("Offline"),t||(t=()=>mb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(ha,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Rf(i)})}function Eb(i,e){return e().catch(t=>Yh(i,t,e))}async function If(i){const e=Re(i),t=ps(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:og;for(;r2(e);)try{const o=await zO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,s2(e,o)}catch(o){await Yh(e,o)}Tb(e)&&Ab(e)}function r2(i){return Ea(i)&&i.Ta.length<10}function s2(i,e){i.Ta.push(e);const t=ps(i);t.O_()&&t.X_&&t.ea(e.mutations)}function Tb(i){return Ea(i)&&!ps(i).x_()&&i.Ta.length>0}function Ab(i){ps(i).start()}async function a2(i){ps(i).ra()}async function o2(i){const e=ps(i);for(const t of i.Ta)e.ea(t.mutations)}async function l2(i,e,t){const s=i.Ta.shift(),o=mg.from(s,e,t);await Eb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await If(i)}async function u2(i,e){e&&ps(i).X_&&await async function(s,o){if(function(h){return FN(h)&&h!==ne.ABORTED}(o.code)){const u=s.Ta.shift();ps(s).B_(),await Eb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await If(s)}}(i,e),Tb(i)&&Ab(i)}async function C0(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),he(ha,"RemoteStore received new credentials");const s=Ea(t);t.Ea.add(3),await Pu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Rf(t)}async function c2(i,e){const t=Re(i);e?(t.Ea.delete(2),await Rf(t)):e||(t.Ea.add(2),await Pu(t),t.Ra.set("Unknown"))}function jo(i){return i.ma||(i.ma=function(t,s,o){const u=Re(t);return u.sa(),new YO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:e2.bind(null,i),t_:t2.bind(null,i),r_:n2.bind(null,i),H_:i2.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),Sg(i)?bg(i):i.Ra.set("Unknown")):(await i.ma.stop(),vb(i))})),i.ma}function ps(i){return i.fa||(i.fa=function(t,s,o){const u=Re(t);return u.sa(),new QO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:a2.bind(null,i),r_:u2.bind(null,i),ta:o2.bind(null,i),na:l2.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await If(i)):(await i.fa.stop(),i.Ta.length>0&&(he(ha,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new wg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(i,e){if(hr("AsyncQueue",`${e}: ${i}`),Bo(i))return new de(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=nu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.ga=new ft(_e.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class Po{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Po(e,t,vo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class f2{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=N0(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function N0(){return new _a(i=>HA(i),Ef)}async function bb(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new h2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=Rg(h,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Ig(t)}async function Sb(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function d2(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Ig(t)}function m2(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function Ig(i){i.Ca.forEach(e=>{e.next()})}var Vp,O0;(O0=Vp||(Vp={})).Ma="default",O0.Cache="cache";class wb{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.key=e}}class Ib{constructor(e){this.key=e}}class p2{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=qA(e),this.tu=new vo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new D0,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const b=o.get(_),N=Tf(this.query,T)?T:null,k=!!b&&this.mutatedKeys.has(b.key),H=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let V=!1;b&&N?b.data.isEqual(N.data)?k!==H&&(s.track({type:3,doc:N}),V=!0):this.su(b,N)||(s.track({type:2,doc:N}),V=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(m=!0)):!b&&N?(s.track({type:0,doc:N}),V=!0):b&&!N&&(s.track({type:1,doc:b}),V=!0,(p||g)&&(m=!0)),V&&(N?(h=h.add(N),u=H?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((_,T)=>function(N,k){const H=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:V})}};return H(N)-H(k)}(_.type,T.type)||this.eu(_.doc,T.doc)),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Po(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new Ib(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new Rb(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cg="SyncEngine";class g2{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class y2{constructor(e){this.key=e,this.hu=!1}}class _2{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new _a(m=>HA(m),Ef),this.Iu=new Map,this.Eu=new Set,this.du=new ft(_e.comparator),this.Au=new Map,this.Ru=new yg,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v2(i,e,t=!0){const s=Mb(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Cb(s,e,t,!0),o}async function E2(i,e){const t=Mb(i);await Cb(t,e,!0,!1)}async function Cb(i,e,t,s){const o=await BO(i.localStore,bi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await T2(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&yb(i.remoteStore,o),m}async function T2(i,e,t,s,o){i.pu=(T,b,N)=>async function(H,V,X,te){let F=V.view.ru(X);F.Cs&&(F=await b0(H.localStore,V.query,!1).then(({documents:R})=>V.view.ru(R,F)));const ie=te&&te.targetChanges.get(V.targetId),re=te&&te.targetMismatches.get(V.targetId)!=null,ce=V.view.applyChanges(F,H.isPrimaryClient,ie,re);return M0(H,V.targetId,ce.au),ce.snapshot}(i,T,b,N);const u=await b0(i.localStore,e,!0),h=new p2(e,u.Qs),m=h.ru(u.documents),p=Mu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);M0(i,t,g.au);const _=new g2(e,t,h);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function A2(i,e,t){const s=Re(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(h=>!Ef(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Mp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Tg(s.remoteStore,o.targetId),kp(s,o.targetId)}).catch(zo)):(kp(s,o.targetId),await Mp(s.localStore,o.targetId,!0))}async function b2(i,e){const t=Re(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Tg(t.remoteStore,s.targetId))}async function S2(i,e,t){const s=O2(i);try{const o=await function(h,m){const p=Re(h),g=at.now(),_=m.reduce((N,k)=>N.add(k.key),Le());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let k=fr(),H=Le();return p.Ns.getEntries(N,_).next(V=>{k=V,k.forEach((X,te)=>{te.isValidDocument()||(H=H.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,k)).next(V=>{T=V;const X=[];for(const te of m){const F=zN(te,T.get(te.key).overlayedDocument);F!=null&&X.push(new va(te.key,F,VA(F.value.mapValue),lr.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,X,m)}).next(V=>{b=V;const X=V.applyToLocalDocumentSet(T,H);return p.documentOverlayCache.saveOverlays(N,V.batchId,X)})}).then(()=>({batchId:b.batchId,changes:GA(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ft(ke)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g}(s,o.batchId,t),await Vu(s,o.changes),await If(s.remoteStore)}catch(o){const u=Rg(o,"Failed to persist write");t.reject(u)}}async function Db(i,e){const t=Re(i);try{const s=await LO(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))}),await Vu(t,s,e)}catch(s){await zo(s)}}function x0(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Re(h);p.onlineState=m;let g=!1;p.queries.forEach((_,T)=>{for(const b of T.Sa)b.va(m)&&(g=!0)}),g&&Ig(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function w2(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(_e.comparator);h=h.insert(u,nn.newNoDocument(u,Se.min()));const m=Le().add(u),p=new Sf(Se.min(),new Map,new ft(ke),h,m);await Db(s,p),s.du=s.du.remove(u),s.Au.delete(e),Dg(s)}else await Mp(s.localStore,e,!1).then(()=>kp(s,e,t)).catch(zo)}async function R2(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await kO(t.localStore,e);Ob(t,s,null),Nb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Vu(t,o)}catch(o){await zo(o)}}async function I2(i,e,t){const s=Re(i);try{const o=await function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(T=>(Fe(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);Ob(s,e,t),Nb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Vu(s,o)}catch(o){await zo(o)}}function Nb(i,e){(i.mu.get(e)||[]).forEach(t=>{t.resolve()}),i.mu.delete(e)}function Ob(i,e,t){const s=Re(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function kp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||xb(i,s)})}function xb(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Tg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Dg(i))}function M0(i,e,t){for(const s of t)s instanceof Rb?(i.Ru.addReference(s.key,e),C2(i,s)):s instanceof Ib?(he(Cg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||xb(i,s.key)):Ae(19791,{wu:s})}function C2(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(he(Cg,"New document in limbo: "+t),i.Eu.add(s),Dg(i))}function Dg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new _e(st.fromString(e)),s=i.fu.next();i.Au.set(s,new y2(t)),i.du=i.du.insert(t,s),yb(i.remoteStore,new rs(bi(fg(t.path)),s,"TargetPurposeLimboResolution",gf.ce))}}async function Vu(i,e,t){const s=Re(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{h.push(s.pu(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=vg.As(p.targetId,g);u.push(T)}}))}),await Promise.all(h),s.Pu.H_(o),await async function(p,g){const _=Re(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(g,b=>ee.forEach(b.Es,N=>_.persistence.referenceDelegate.addReference(T,b.targetId,N)).next(()=>ee.forEach(b.ds,N=>_.persistence.referenceDelegate.removeReference(T,b.targetId,N)))))}catch(T){if(!Bo(T))throw T;he(Eg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const N=_.Ms.get(b),k=N.snapshotVersion,H=N.withLastLimboFreeSnapshotVersion(k);_.Ms=_.Ms.insert(b,H)}}}(s.localStore,u))}async function D2(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){he(Cg,"User change. New user:",e.toKey());const s=await db(t.localStore,e);t.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new de(ne.CANCELLED,h))})}),u.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vu(t,s.Ls)}}function N2(i,e){const t=Re(i),s=t.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Mb(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Db.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w2.bind(null,e),e.Pu.H_=d2.bind(null,e.eventManager),e.Pu.yu=m2.bind(null,e.eventManager),e}function O2(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I2.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return VO(this.persistence,new xO,e.initialUser,this.serializer)}Cu(e){return new fb(_g.mi,this.serializer)}Du(e){return new HO}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class x2 extends Qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Fe(this.persistence.referenceDelegate instanceof $h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new fb(s=>$h.mi(s,t),this.serializer)}}class Lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>x0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=D2.bind(null,this.syncEngine),await c2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f2}()}createDatastore(e){const t=wf(e.databaseInfo.databaseId),s=function(u){return new $O(u)}(e.databaseInfo);return function(u,h,m,p){return new WO(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new JO(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>x0(this.syncEngine,t,0),function(){return R0.v()?new R0:new qO}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,_){const T=new _2(o,u,h,m,p,g);return _&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);he(ha,"RemoteStore shutting down."),u.Ea.add(5),await Pu(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Lp.provider={build:()=>new Lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class M2{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(gs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(gs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Rg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ip(i,e){i.asyncQueue.verifyOperationInProgress(),he(gs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await db(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function P0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await P2(i);he(gs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>C0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>C0(e.remoteStore,o)),i._onlineComponents=e}async function P2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(gs,"Using user provided OfflineComponentProvider");try{await ip(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Do("Error using user provided cache. Falling back to memory cache: "+t),await ip(i,new Qh)}}else he(gs,"Using default OfflineComponentProvider"),await ip(i,new x2(void 0));return i._offlineComponents}async function Vb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(gs,"Using user provided OnlineComponentProvider"),await P0(i,i._uninitializedComponentsProvider._online)):(he(gs,"Using default OnlineComponentProvider"),await P0(i,new Lp))),i._onlineComponents}function V2(i){return Vb(i).then(e=>e.syncEngine)}async function kb(i){const e=await Vb(i),t=e.eventManager;return t.onListen=v2.bind(null,e.syncEngine),t.onUnlisten=A2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=E2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=b2.bind(null,e.syncEngine),t}function k2(i,e,t={}){const s=new or;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new Pb({next:b=>{_.Nu(),h.enqueueAndForget(()=>Sb(u,T));const N=b.docs.has(m);!N&&b.fromCache?g.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&b.fromCache&&p&&p.source==="server"?g.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new wb(fg(m.path),_,{includeMetadataChanges:!0,qa:!0});return bb(u,T)}(await kb(i),i.asyncQueue,e,t,s)),s.promise}function L2(i,e,t={}){const s=new or;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new Pb({next:b=>{_.Nu(),h.enqueueAndForget(()=>Sb(u,T)),b.fromCache&&p.source==="server"?g.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new wb(m,_,{includeMetadataChanges:!0,qa:!0});return bb(u,T)}(await kb(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="firestore.googleapis.com",k0=!0;class L0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ub,this.ssl=k0}else this.host=e.host,this.ssl=e.ssl??k0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pO)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lb(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new HD;switch(s.type){case"firstParty":return new KD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=V0.get(t);s&&(he("ComponentProvider","Removing Datastore"),V0.delete(t),s.terminate())}(this),Promise.resolve()}}function U2(i,e,t,s={}){var g;i=ca(i,Cf);const o=pa(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(Jp(`https://${m}`),eg("Firestore",!0)),u.host!==Ub&&u.host!==m&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!oa(p,h)&&(i._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=tn.MOCK_USER;else{_=cA(s.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new tn(b)}i._authCredentials=new qD(new bA(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Df(this.firestore,e,this._query)}}class Pt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ou(t,Pt._jsonSchema))return new Pt(e,s||null,new _e(st.fromString(t.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:It("string",Pt._jsonSchemaVersion),referencePath:It("string")};class ls extends Df{constructor(e,t,s){super(e,t,fg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new _e(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function z2(i,e,...t){if(i=hn(i),SA("collection","path",e),i instanceof Cf){const s=st.fromString(e,...t);return WE(s),new ls(i,null,s)}{if(!(i instanceof Pt||i instanceof ls))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return WE(s),new ls(i.firestore,null,s)}}function zb(i,e,...t){if(i=hn(i),arguments.length===1&&(e=sg.newId()),SA("doc","path",e),i instanceof Cf){const s=st.fromString(e,...t);return XE(s),new Pt(i,null,new _e(s))}{if(!(i instanceof Pt||i instanceof ls))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return XE(s),new Pt(i.firestore,i instanceof ls?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="AsyncQueue";class z0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pb(this,"async_queue_retry"),this._c=()=>{const s=np();s&&he(U0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=np();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=np();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new or;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;he(U0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,hr("INTERNAL UNHANDLED ERROR: ",B0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=wg.createAndSchedule(this,e,t,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:B0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function B0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Nf extends Cf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new z0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z0(e),this._firestoreClient=void 0,await e}}}function Bb(i,e){const t=typeof i=="object"?i:ig(),s=typeof i=="string"?i:Bh,o=pf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=oA("firestore");u&&U2(o,...u)}return o}function Ng(i){if(i._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||B2(i),i._firestoreClient}function B2(i){var s,o,u;const e=i._freezeSettings(),t=function(m,p,g,_){return new uN(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Lb(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new M2(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Qt.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:It("string",jn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,wi._jsonSchema))return new wi(e.latitude,e.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:It("string",wi._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,Ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ri(e.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:It("string",Ri._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=/^__.*__$/;class H2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}function Hb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:i})}}class xg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Hb(this.Ac)&&j2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class q2{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||wf(e)}Cc(e,t,s,o=!1){return new xg({Ac:e,methodName:t,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F2(i){const e=i._freezeSettings(),t=wf(i._databaseId);return new q2(i._databaseId,!!e.ignoreUndefinedProperties,t)}function G2(i,e,t,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);Kb("Data must be an object, but it was:",h,s);const m=Fb(s,h);let p,g;if(u.merge)p=new ei(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const b=K2(e,T,t);if(!h.contains(b))throw new de(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Y2(_,b)||_.push(b)}p=new ei(_),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new H2(new Bn(m),p,g)}function qb(i,e){if(Gb(i=hn(i)))return Kb("Unsupported field value:",e,i),Fb(i,e);if(i instanceof jb)return function(s,o){if(!Hb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=qb(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=hn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:Kh(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kh(o.serializer,u)}}if(s instanceof wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:rb(o.serializer,s._byteString)};if(s instanceof Pt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ri)return function(h,m){return{mapValue:{fields:{[MA]:{stringValue:PA},[jh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return dg(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${ag(s)}`)}(i,e)}function Fb(i,e){const t={};return IA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(i,(s,o)=>{const u=qb(o,e.mc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Gb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof wi||i instanceof jn||i instanceof Pt||i instanceof jb||i instanceof Ri)}function Kb(i,e,t){if(!Gb(t)||!wA(t)){const s=ag(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function K2(i,e,t){if((e=hn(e))instanceof Og)return e._internalPath;if(typeof e=="string")return $b(i,e);throw Xh("Field path arguments must be of type string or ",i,!1,void 0,t)}const $2=new RegExp("[~\\*/\\[\\]]");function $b(i,e,t){if(e.search($2)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Og(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Xh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new de(ne.INVALID_ARGUMENT,m+i+p)}function Y2(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Q2 extends Yb{data(){return super.data()}}function Qb(i,e){return typeof e=="string"?$b(i,e):e instanceof Og?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W2{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ya(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var s,o,u;const t=(u=(o=(s=e.fields)==null?void 0:s[jh].arrayValue)==null?void 0:o.values)==null?void 0:u.map(h=>At(h.doubleValue));return new Ri(t)}convertGeoPoint(e){return new wi(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=_f(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const t=fs(e);return new at(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=st.fromString(e);Fe(cb(s),9688,{name:e});const o=new vu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(t)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends Yb{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Qb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=aa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:It("string",aa._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Ih extends aa{data(e={}){return super.data(e)}}class Eo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ru(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ih(this._firestore,this._userDataWriter,s.key,s,new ru(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ru(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ru(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:J2(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(i){i=ca(i,Pt);const e=ca(i.firestore,Nf);return k2(Ng(e),i._key).then(t=>rx(e,i,t))}Eo._jsonSchemaVersion="firestore/querySnapshot/1.0",Eo._jsonSchema={type:It("string",Eo._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class Xb extends W2{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,t)}}function tx(i){i=ca(i,Df);const e=ca(i.firestore,Nf),t=Ng(e),s=new Xb(e);return X2(i._query),L2(t,i._query).then(o=>new Eo(e,s,i,o))}function nx(i,e,t){i=ca(i,Pt);const s=ca(i.firestore,Nf),o=Z2(i.converter,e);return ix(s,[G2(F2(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,lr.none())])}function ix(i,e){return function(s,o){const u=new or;return s.asyncQueue.enqueueAndForget(async()=>S2(await V2(s),o,u)),u.promise}(Ng(i),e)}function rx(i,e,t){const s=t.docs.get(e._key),o=new Xb(i);return new aa(i,o,e._key,s,new ru(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Uo=o})(ga),la(new cs("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Nf(new FD(s.getProvider("auth-internal")),new $D(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(g.options.projectId,_)}(h,o),h);return u={useFetchStreams:t,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ai(KE,$E,e),Ai(KE,$E,"esm2020")})();var sx="firebase",ax="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(sx,ax,"app");function Wb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ox=Wb,Zb=new Du("auth","Firebase",Wb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new tg("@firebase/auth");function lx(i,...e){Wh.logLevel<=Ve.WARN&&Wh.warn(`Auth (${ga}): ${i}`,...e)}function Ch(i,...e){Wh.logLevel<=Ve.ERROR&&Wh.error(`Auth (${ga}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(i,...e){throw Mg(i,...e)}function Ii(i,...e){return Mg(i,...e)}function Jb(i,e,t){const s={...ox(),[e]:t};return new Du("auth","Firebase",s).create(e,{appName:i.name})}function us(i){return Jb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return Zb.create(i,...e)}function Te(i,e,...t){if(!i)throw Mg(e,...t)}function rr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ch(e),new Error(e)}function dr(i,e){i||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function ux(){return j0()==="http:"||j0()==="https:"}function j0(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ux()||TC()||"connection"in navigator)?navigator.onLine:!0}function hx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,dr(t>e,"Short delay should be less than long delay!"),this.isMobile=_C()||AC()}get(){return cx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(i,e){dr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mx=new ku(3e4,6e4);function Ta(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ys(i,e,t,s,o={}){return t1(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Nu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return EC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&pa(i.emulatorConfig.host)&&(g.credentials="include"),e1.fetch()(await n1(i,i.config.apiHost,t,m),g)})}async function t1(i,e,t){i._canInitEmulator=!1;const s={...fx,...e};try{const o=new gx(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw fh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw fh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw fh(i,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Jb(i,_,g);si(i,_)}}catch(o){if(o instanceof Mi)throw o;si(i,"network-request-failed",{message:String(o)})}}async function Of(i,e,t,s,o={}){const u=await ys(i,e,t,s,o);return"mfaPendingCredential"in u&&si(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function n1(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?Pg(i.config,o):`${i.config.apiScheme}://${o}`;return dx.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function px(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),mx.get())})}}function fh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ii(i,e,s);return o.customData._tokenResponse=t,o}function H0(i){return i!==void 0&&i.enterprise!==void 0}class yx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return px(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _x(i,e){return ys(i,"GET","/v2/recaptchaConfig",Ta(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(i,e){return ys(i,"POST","/v1/accounts:delete",e)}async function Zh(i,e){return ys(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ex(i,e=!1){const t=hn(i),s=await t.getIdToken(e),o=Vg(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:hu(rp(o.auth_time)),issuedAtTime:hu(rp(o.iat)),expirationTime:hu(rp(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function rp(i){return Number(i)*1e3}function Vg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=sA(t);return o?JSON.parse(o):(Ch("Failed to decode base64 JWT payload"),null)}catch(o){return Ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function q0(i){const e=Vg(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Mi&&Tx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Tx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(i){var T;const e=i.auth,t=await i.getIdToken(),s=await bu(i,Zh(e,{idToken:t}));Te(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?i1(o.providerUserInfo):[],h=Sx(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(h!=null&&h.length),g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new zp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function bx(i){const e=hn(i);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function i1(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(i,e){const t=await t1(i,{},async()=>{const s=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await n1(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&pa(i.emulatorConfig.host)&&(p.credentials="include"),e1.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Rx(i,e){return ys(i,"POST","/v2/accounts:revokeToken",Ta(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=q0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await wx(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new To;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Ax(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await bu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ex(this,e)}reload(){return bx(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await bu(this,vx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:N,providerData:k,stsTokenManager:H}=t;Te(T&&H,e,"internal-error");const V=To.fromJSON(this.name,H);Te(typeof T=="string",e,"internal-error"),Zr(s,e.name),Zr(o,e.name),Te(typeof b=="boolean",e,"internal-error"),Te(typeof N=="boolean",e,"internal-error"),Zr(u,e.name),Zr(h,e.name),Zr(m,e.name),Zr(p,e.name),Zr(g,e.name),Zr(_,e.name);const X=new ti({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:N,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:V,createdAt:g,lastLoginAt:_});return k&&Array.isArray(k)&&(X.providerData=k.map(te=>({...te}))),p&&(X._redirectEventId=p),X}static async _fromIdTokenResponse(e,t,s=!1){const o=new To;o.updateFromServerResponse(t);const u=new ti({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Jh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?i1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new To;m.updateFromIdToken(s);const p=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function sr(i){dr(i instanceof Function,"Expected a class definition");let e=F0.get(i);return e?(dr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,F0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}r1.type="NONE";const G0=r1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(i,e,t){return`firebase:${i}:${e}:${t}`}class Ao{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Dh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Zh(this.auth,{idToken:e}).catch(()=>{});return t?ti._fromGetAccountInfoResponse(this.auth,t,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ao(sr(G0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||sr(G0);const h=Dh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(h);if(_){let T;if(typeof _=="string"){const b=await Zh(e,{idToken:_}).catch(()=>{});if(!b)break;T=await ti._fromGetAccountInfoResponse(e,b,_)}else T=ti._fromJSON(e,_);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ao(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Ao(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(s1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(c1(e))return"Blackberry";if(h1(e))return"Webos";if(a1(e))return"Safari";if((e.includes("chrome/")||o1(e))&&!e.includes("edge/"))return"Chrome";if(u1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function s1(i=rn()){return/firefox\//i.test(i)}function a1(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o1(i=rn()){return/crios\//i.test(i)}function l1(i=rn()){return/iemobile/i.test(i)}function u1(i=rn()){return/android/i.test(i)}function c1(i=rn()){return/blackberry/i.test(i)}function h1(i=rn()){return/webos/i.test(i)}function kg(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Ix(i=rn()){var e;return kg(i)&&!!((e=window.navigator)!=null&&e.standalone)}function Cx(){return bC()&&document.documentMode===10}function f1(i=rn()){return kg(i)||u1(i)||h1(i)||c1(i)||/windows phone/i.test(i)||l1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(i,e=[]){let t;switch(i){case"Browser":t=K0(rn());break;case"Worker":t=`${K0(rn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ga}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(i,e={}){return ys(i,"GET","/v2/passwordPolicy",Ta(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=6;class xx{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Ox,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new Dx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sr(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zh(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(zn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(us(this));const t=e?hn(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nx(this),t=new xx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Rx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&sr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&lx(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ho(i){return hn(i)}class $0{constructor(e){this.auth=e,this.observer=null,this.addObserver=OC(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Px(i){xf=i}function m1(i){return xf.loadJS(i)}function Vx(){return xf.recaptchaEnterpriseScript}function kx(){return xf.gapiScript}function Lx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Ux{constructor(){this.enterprise=new zx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class zx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Bx="recaptcha-enterprise",p1="NO_RECAPTCHA";class jx{constructor(e){this.type=Bx,this.auth=Ho(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{_x(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new yx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;H0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(p1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ux().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&H0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Vx();p.length!==0&&(p+=m),m1(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function Y0(i,e,t,s=!1,o=!1){const u=new jx(i);let h;if(o)h=p1;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Q0(i,e,t,s,o){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Y0(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Y0(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(i,e){const t=pf(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(oa(u,e??{}))return o;si(o,"already-initialized")}return t.initialize({options:e})}function qx(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(sr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Fx(i,e,t){const s=Ho(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=g1(e),{host:h,port:m}=Gx(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(oa(g,s.config.emulator)&&oa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,pa(h)?(Jp(`${u}//${h}${p}`),eg("Auth",!0)):Kx()}function g1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Gx(i){const e=g1(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:X0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:X0(h)}}}function X0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Kx(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,t){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function $x(i,e){return ys(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(i,e){return Of(i,"POST","/v1/accounts:signInWithPassword",Ta(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(i,e){return Of(i,"POST","/v1/accounts:signInWithEmailLink",Ta(i,e))}async function Xx(i,e){return Of(i,"POST","/v1/accounts:signInWithEmailLink",Ta(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Lg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Su(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Su(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q0(e,t,"signInWithPassword",Yx);case"emailLink":return Qx(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q0(e,s,"signUpPassword",$x);case"emailLink":return Xx(e,{idToken:t,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(i,e){return Of(i,"POST","/v1/accounts:signInWithIdp",Ta(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="http://localhost";class fa extends Lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new fa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return bo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,bo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bo(e,t)}buildRequest(){const e={requestUri:Wx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jx(i){const e=Jl(eu(i)).link,t=e?Jl(eu(e)).deep_link_id:null,s=Jl(eu(i)).deep_link_id;return(s?Jl(eu(s)).link:null)||s||t||e||i}class Ug{constructor(e){const t=Jl(eu(e)),s=t.apiKey??null,o=t.oobCode??null,u=Zx(t.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Jx(e);try{return new Ug(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(e,t){return Su._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Ug.parseLink(t);return Te(s,"argument-error"),Su._fromEmailAndCode(e,s.code,s.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends y1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Lu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ts.credential(t,s)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Lu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Lu{constructor(){super("twitter.com")}static credential(e,t){return fa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return is.credential(t,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),h=W0(s);return new Vo({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=W0(s);return new Vo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function W0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends Mi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new ef(e,t,s,o)}}function _1(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(i,u,e,s):u})}async function eM(i,e,t=!1){const s=await bu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Vo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(i,e,t=!1){const{auth:s}=i;if(zn(s.app))return Promise.reject(us(s));const o="reauthenticate";try{const u=await bu(i,_1(s,o,e,i),t);Te(u.idToken,s,"internal-error");const h=Vg(u.idToken);Te(h,s,"internal-error");const{sub:m}=h;return Te(i.uid===m,s,"user-mismatch"),Vo._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&si(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(i,e,t=!1){if(zn(i.app))return Promise.reject(us(i));const s="signIn",o=await _1(i,s,e),u=await Vo._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function nM(i,e){return v1(Ho(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(i){const e=Ho(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function rM(i,e,t){return zn(i.app)?Promise.reject(us(i)):nM(hn(i),qo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&iM(i),s})}function sM(i,e,t,s){return hn(i).onIdTokenChanged(e,t,s)}function aM(i,e,t){return hn(i).beforeAuthStateChanged(e,t)}function oM(i,e,t,s){return hn(i).onAuthStateChanged(e,t,s)}function lM(i){return hn(i).signOut()}const tf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=1e3,cM=10;class T1 extends E1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);Cx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cM):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},uM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}T1.type="LOCAL";const hM=T1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends E1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}A1.type="SESSION";const b1=A1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Mf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await fM(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=zg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function mM(i){Ci().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function pM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gM(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function yM(){return S1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="firebaseLocalStorageDb",_M=1,nf="firebaseLocalStorage",R1="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Pf(i,e){return i.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function vM(){const i=indexedDB.deleteDatabase(w1);return new Uu(i).toPromise()}function Bp(){const i=indexedDB.open(w1,_M);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(nf,{keyPath:R1})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(nf)?e(s):(s.close(),await vM(),e(await Bp()))})})}async function Z0(i,e,t){const s=Pf(i,!0).put({[R1]:e,value:t});return new Uu(s).toPromise()}async function EM(i,e){const t=Pf(i,!1).get(e),s=await new Uu(t).toPromise();return s===void 0?null:s.value}function J0(i,e){const t=Pf(i,!0).delete(e);return new Uu(t).toPromise()}const TM=800,AM=3;class I1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>AM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mf._getInstance(yM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await pM(),!this.activeServiceWorker)return;this.sender=new dM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bp();return await Z0(e,tf,"1"),await J0(e,tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Z0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>EM(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>J0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Pf(o,!1).getAll();return new Uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I1.type="LOCAL";const bM=I1;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(i,e){return e?sr(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends Lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wM(i){return v1(i.auth,new Bg(i),i.bypassAuthState)}function RM(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),tM(t,new Bg(i),i.bypassAuthState)}async function IM(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),eM(t,new Bg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wM;case"linkViaPopup":case"linkViaRedirect":return IM;case"reauthViaPopup":case"reauthViaRedirect":return RM;default:si(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=new ku(2e3,1e4);class _o extends C1{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CM.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="pendingRedirect",Nh=new Map;class NM extends C1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Nh.get(this.auth._key());if(!e){try{const s=await OM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OM(i,e){const t=PM(e),s=MM(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function xM(i,e){Nh.set(i._key(),e)}function MM(i){return sr(i._redirectPersistence)}function PM(i){return Dh(DM,i.config.apiKey,i.name)}async function VM(i,e,t=!1){if(zn(i.app))return Promise.reject(us(i));const s=Ho(i),o=SM(s,e),h=await new NM(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=10*60*1e3;class LM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!D1(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ii(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kM&&this.cachedEventUids.clear(),this.cachedEventUids.has(eT(e))}saveEventToCache(e){this.cachedEventUids.add(eT(e)),this.lastProcessedEventTime=Date.now()}}function eT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function D1({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UM(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(i,e={}){return ys(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jM=/^https?/;async function HM(i){if(i.config.emulator)return;const{authorizedDomains:e}=await zM(i);for(const t of e)try{if(qM(t))return}catch{}si(i,"unauthorized-domain")}function qM(i){const e=Up(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!jM.test(t))return!1;if(BM.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new ku(3e4,6e4);function tT(){const i=Ci().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function GM(i){return new Promise((e,t)=>{var o,u,h;function s(){tT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tT(),t(Ii(i,"network-request-failed"))},timeout:FM.get()})}if((u=(o=Ci().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=Ci().gapi)!=null&&h.load)s();else{const m=Lx("iframefcb");return Ci()[m]=()=>{gapi.load?s():t(Ii(i,"network-request-failed"))},m1(`${kx()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function KM(i){return Oh=Oh||GM(i),Oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new ku(5e3,15e3),YM="__/auth/iframe",QM="emulator/auth/iframe",XM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZM(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Pg(e,QM):`https://${i.config.authDomain}/${YM}`,s={apiKey:e.apiKey,appName:i.name,v:ga},o=WM.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Nu(s).slice(1)}`}async function JM(i){const e=await KM(i),t=Ci().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:ZM(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XM,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ii(i,"network-request-failed"),m=Ci().setTimeout(()=>{u(h)},$M.get());function p(){Ci().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tP=500,nP=600,iP="_blank",rP="http://localhost";class nT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sP(i,e,t,s=tP,o=nP){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...eP,width:s.toString(),height:o.toString(),top:u,left:h},g=rn().toLowerCase();t&&(m=o1(g)?iP:t),s1(g)&&(e=e||rP,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[N,k])=>`${b}${N}=${k},`,"");if(Ix(g)&&m!=="_self")return aP(e||"",m),new nT(null);const T=window.open(e||"",m,_);Te(T,i,"popup-blocked");try{T.focus()}catch{}return new nT(T)}function aP(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="__/auth/handler",lP="emulator/auth/handler",uP=encodeURIComponent("fac");async function iT(i,e,t,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:ga,eventId:o};if(e instanceof y1){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",NC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof Lu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${uP}=${encodeURIComponent(p)}`:"";return`${cP(i)}?${Nu(m).slice(1)}${g}`}function cP({config:i}){return i.emulator?Pg(i,lP):`https://${i.authDomain}/${oP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="webStorageSupport";class hP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b1,this._completeRedirectFn=VM,this._overrideRedirectResult=xM}async _openPopup(e,t,s,o){var h;dr((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await iT(e,t,s,Up(),o);return sP(e,u,zg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await iT(e,t,s,Up(),o);return mM(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await JM(e),s=new LM(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sp,{type:sp},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[sp];u!==void 0&&t(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=HM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return f1()||a1()||kg()}}const fP=hP;var rT="@firebase/auth",sT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pP(i){la(new cs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d1(i)},g=new Mx(s,o,u,p);return qx(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),la(new cs("auth-internal",e=>{const t=Ho(e.getProvider("auth").getImmediate());return(s=>new dP(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(rT,sT,mP(i)),Ai(rT,sT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=5*60,yP=uA("authIdTokenMaxAge")||gP;let aT=null;const _P=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>yP)return;const o=t==null?void 0:t.token;aT!==o&&(aT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vP(i=ig()){const e=pf(i,"auth");if(e.isInitialized())return e.getImmediate();const t=Hx(i,{popupRedirectResolver:fP,persistence:[bM,hM,b1]}),s=uA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=_P(u.toString());aM(t,h,()=>h(t.currentUser)),sM(t,m=>h(m))}}const o=aA("auth");return o&&Fx(t,`http://${o}`),t}function EP(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}Px({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",EP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pP("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firebasestorage.googleapis.com",TP="storageBucket",AP=2*60*1e3,bP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Mi{constructor(e,t,s=0){super(ap(e),`Firebase Storage: ${t} (${ap(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ap(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Oi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Oi||(Oi={}));function ap(i){return"storage/"+i}function SP(){const i="An unknown error occurred, please check the error payload for server response.";return new Pi(Oi.UNKNOWN,i)}function wP(){return new Pi(Oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RP(){return new Pi(Oi.CANCELED,"User canceled the upload/download.")}function IP(i){return new Pi(Oi.INVALID_URL,"Invalid URL '"+i+"'.")}function CP(i){return new Pi(Oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function oT(i){return new Pi(Oi.INVALID_ARGUMENT,i)}function O1(){return new Pi(Oi.APP_DELETED,"The Firebase app was deleted.")}function DP(i){return new Pi(Oi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ni.makeFromUrl(e,t)}catch{return new ni(e,"")}if(s.path==="")return s;throw CP(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ie){ie.path_=decodeURIComponent(ie.path)}const _="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",N=new RegExp(`^https?://${T}/${_}/b/${o}/o${b}`,"i"),k={bucket:1,path:3},H=t===N1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",X=new RegExp(`^https?://${H}/${o}/${V}`,"i"),F=[{regex:m,indices:p,postModify:u},{regex:N,indices:k,postModify:g},{regex:X,indices:{bucket:1,path:2},postModify:g}];for(let ie=0;ie<F.length;ie++){const re=F[ie],ce=re.regex.exec(e);if(ce){const R=ce[re.indices.bucket];let w=ce[re.indices.path];w||(w=""),s=new ni(R,w),re.postModify(s);break}}if(s==null)throw IP(e);return s}}class NP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(i,e,t){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function _(...V){g||(g=!0,e.apply(null,V))}function T(V){o=setTimeout(()=>{o=null,i(N,p())},V)}function b(){u&&clearTimeout(u)}function N(V,...X){if(g){b();return}if(V){b(),_.call(null,V,...X);return}if(p()||h){b(),_.call(null,V,...X);return}s<64&&(s*=2);let F;m===1?(m=2,F=0):F=(s+Math.random())*1e3,T(F)}let k=!1;function H(V){k||(k=!0,b(),!g&&(o!==null?(V||(m=2),clearTimeout(o),T(0)):V||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,H(!0)},t),H}function xP(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(i){return i!==void 0}function lT(i,e,t,s){if(s<e)throw oT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw oT(`Invalid value for '${i}'. Expected ${t} or less.`)}function PP(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var rf;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(rf||(rf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,t,s,o,u,h,m,p,g,_,T,b=!0,N=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=T,this.retry=b,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,H)=>{this.resolve_=k,this.reject_=H,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new dh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===rf.NO_ERROR,p=u.getStatus();if(!m||VP(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===rf.ABORT;s(!1,new dh(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new dh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());MP(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=SP();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?O1():RP();h(p)}else{const p=wP();h(p)}};this.canceled_?t(!1,new dh(!1,null,!0)):this.backoffId_=OP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function LP(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function UP(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zP(i,e){e&&(i["X-Firebase-GMPID"]=e)}function BP(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function jP(i,e,t,s,o,u,h=!0,m=!1){const p=PP(i.urlParams),g=i.url+p,_=Object.assign({},i.headers);return zP(_,e),LP(_,t),UP(_,u),BP(_,s),new kP(g,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function qP(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this._service=e,t instanceof ni?this._location=t:this._location=ni.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sf(e,t)}get root(){const e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qP(this._location.path)}get storage(){return this._service}get parent(){const e=HP(this._location.path);if(e===null)return null;const t=new ni(this._location.bucket,e);return new sf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw DP(e)}}function uT(i,e){const t=e==null?void 0:e[TP];return t==null?null:ni.makeFromBucketSpec(t,i)}function FP(i,e,t,s={}){i.host=`${e}:${t}`;const o=pa(e);o&&(Jp(`https://${i.host}/b`),eg("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:cA(u,i.app.options.projectId))}class GP{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=N1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AP,this._maxUploadRetryTime=bP,this._requests=new Set,o!=null?this._bucket=ni.makeFromBucketSpec(o,this._host):this._bucket=uT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=uT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sf(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new NP(O1());{const h=jP(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const cT="@firebase/storage",hT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="storage";function KP(i=ig(),e){i=hn(i);const s=pf(i,x1).getImmediate({identifier:e}),o=oA("storage");return o&&$P(s,...o),s}function $P(i,e,t,s={}){FP(i,e,t,s)}function YP(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new GP(t,s,o,e,ga)}function QP(){la(new cs(x1,YP,"PUBLIC").setMultipleInstances(!0)),Ai(cT,hT,""),Ai(cT,hT,"esm2020")}QP();const XP={apiKey:"AIzaSyCkP_A3V9XmF1L6opRBqjMkIcNUFGe5Zsc",authDomain:"chainsaw-man-rpg.firebaseapp.com",projectId:"chainsaw-man-rpg",storageBucket:"chainsaw-man-rpg.firebasestorage.app",messagingSenderId:"161767934193",appId:"1:161767934193:web:c31a327d49fdb5b993c150",measurementId:"G-TN9PQ8NYSZ"},Vf=dA(XP),jp=vP(Vf),WP=Bb(Vf);KP(Vf);async function fT(i,e){const t=zb(WP,i,e),s=await ex(t);return s.exists()?s.data():(console.error("Documento no encontrado!"),null)}function ZP(){const[i,e]=$.useState({}),[t,s]=$.useState({}),[o,u]=$.useState({}),h=["defense","attackDice","damageDice"],m=["demon1","demon2","demon3","demon4","demon5","demon6"];return $.useEffect(()=>{(async()=>{const g={};try{for(const _ of m){const T=await fT("Demon",_);console.log(`Fetched ${_}:`,T),g[_]=T}s(g),console.log(" demonBattleAttributes atualizados:",g)}catch(_){console.error("Erro ao buscar demons:",_)}})()},[]),$.useEffect(()=>{(async()=>{const g={};try{for(const _ of h){const T=await fT("Attributes",_);console.log(`Fetched ${_}:`,T),g[_]=T}u(g),console.log(" exorcistBattleAttributes atualizados:",g)}catch(_){return console.error("Erro ao buscar battleAttributes:",_),null}})()},[]),ae.jsxs("div",{className:"App",children:[ae.jsx(JR,{}),ae.jsxs("div",{className:"pageBody",children:[ae.jsxs("div",{children:[ae.jsx("h1",{children:"EXORCISTAS"}),ae.jsx($m,{multipleButtonsField:"exorcistType",multipleButtonsType:"exorcist",multipleButtonsNames:["Operador","Encarregado","Supervisor","Chefia","Adjunto","Executivo"],textInputLabel:"QUANTIDADE",textInputPlaceholder:"NMERO DE EXORCISTAS",textInputGlobalVariable:"exorcistAmount",textInputIsNumber:!0})]}),ae.jsxs("div",{children:[ae.jsx("h1",{children:"DEMNIOS"}),ae.jsx($m,{multipleButtonsField:"demonType",multipleButtonsType:"demon",multipleButtonsNames:["Demnio lvl 1","Demnio lvl 2","Demnio lvl 3","Demnio lvl 4","Demnio lvl 5","Demnio Especial"],textInputLabel:"QUANTIDADE",textInputPlaceholder:"NMERO DE DEMNIOS",textInputGlobalVariable:"demonAmount",textInputIsNumber:!0})]}),ae.jsxs("div",{children:[ae.jsx("h1",{children:"% DE MEDO"}),ae.jsx($m,{isShortened:!0,multipleButtonsField:"demonFearPercentage",multipleButtonsType:"fearPercent",multipleButtonsNames:["0% de MEDO","50% de MEDO","100% de MEDO"],textInputLabel:"QUANTIDADE",textInputPlaceholder:"NMERO DE BATALHAS",textInputGlobalVariable:"battleAmount",textInputIsNumber:!0})]}),ae.jsx("div",{style:{display:"flex",justifyContent:"center",height:"15vh",alignItems:"center"},children:ae.jsx(sC,{label:"BATALHAR",functionOnClick:()=>{if(!t||Object.keys(t).length===0){console.warn(" Demon data ainda no carregado!");return}if(!o||Object.keys(o).length===0){console.warn(" Exorcist data ainda no carregado!");return}WR(e,t,o)}})}),ae.jsx(aC,{battleStats:i})]})]})}const JP="/rpg-chainsaw-man-react/assets/pochita-CYoLI8UJ.png";function e4(){const[i,e]=$.useState(""),[t,s]=$.useState(""),[o,u]=$.useState(""),h=AT(),m=async p=>{p.preventDefault(),u("");try{const _=(await rM(jp,i,t)).user;console.log("Usurio logado:",_),sessionStorage.setItem("email",i),h("/adm")}catch(g){console.error(g),u("Email ou senha invlidos.")}};return ae.jsx("div",{className:"login-container",children:ae.jsx("form",{onSubmit:m,className:"login-form",children:ae.jsxs("main",{children:[ae.jsxs("div",{className:"title-and-logo",children:[ae.jsx("h1",{children:"Log In"}),ae.jsx("img",{className:"signup-form-img",src:JP,alt:"Little Aipom"})]}),o&&ae.jsx("p",{className:"error-msg",children:o}),ae.jsx("label",{htmlFor:"email",children:"Email"}),ae.jsx("input",{type:"email",id:"email",value:i,onChange:p=>e(p.target.value),required:!0}),ae.jsx("label",{htmlFor:"password",children:"Senha"}),ae.jsx("input",{type:"password",id:"password",value:t,onChange:p=>s(p.target.value),required:!0}),ae.jsx("button",{type:"submit",children:"Entrar"})]})})})}function t4(i){return i===null||["string","number","boolean"].includes(typeof i)}function n4(i){const e=i.trim();return e===""?"":e==="true"?!0:e==="false"?!1:e==="null"?null:!Number.isNaN(Number(e))&&e.match(/^[-+]?[0-9]*\.?[0-9]+$/)?Number(e):e}function M1({data:i,onChange:e,path:t=""}){return t4(i)?ae.jsx("input",{className:"node-input",value:i??"",onChange:s=>e(t,n4(s.target.value))}):typeof i=="object"?ae.jsx("div",{className:"object-editor",children:Object.entries(i).map(([s,o])=>ae.jsxs("div",{className:"object-field",children:[ae.jsx("label",{children:s}),ae.jsx(M1,{data:o,onChange:e,path:t?`${t}.${s}`:s})]},s))}):ae.jsx("span",{children:"Unsupported"})}function i4(){const[i,e]=$.useState(null),[t,s]=$.useState({}),o=Bb(Vf),u=["Demon","Attributes","Rules"];$.useEffect(()=>{const g=oM(jp,_=>e(_));return()=>g()},[]),$.useEffect(()=>{(async()=>{const _={};for(const T of u){const b=await tx(z2(o,T));_[T]={},b.forEach(N=>{_[T][N.id]=N.data()})}s(_)})().catch(console.error)},[o]);const h=(g,_)=>{const T=g.split(".");s(b=>{const N=structuredClone(b);let k=N;for(let H=0;H<T.length-1;H++)k[T[H]]||(k[T[H]]={}),k=k[T[H]];return k[T[T.length-1]]=_,N})},m=async()=>{for(const[g,_]of Object.entries(t))for(const[T,b]of Object.entries(_))await nx(zb(o,g,T),b);alert("Alteraes salvas no Firestore!")},p=async()=>await lM(jp);return i?ae.jsxs("div",{className:"adm-page",children:[ae.jsxs("div",{className:"adm-header",children:[ae.jsx("h1",{children:"Painel de Administrao"}),ae.jsx("button",{className:"logout-btn",onClick:p,children:"Sair"})]}),ae.jsx("div",{className:"editor-container",children:Object.entries(t).map(([g,_])=>ae.jsxs("div",{className:"collection-block",children:[ae.jsx("h2",{children:g}),Object.entries(_).map(([T,b])=>ae.jsxs("div",{className:"document-block",children:[ae.jsx("h3",{children:T}),ae.jsx(M1,{data:b,onChange:(N,k)=>h(`${g}.${T}.${N}`,k)})]},T))]},g))}),ae.jsx("button",{className:"save-btn",onClick:m,children:"Salvar no Firestore"})]}):ae.jsx("div",{className:"login-warning",children:"Voc precisa estar logado como ADM."})}yw.createRoot(document.getElementById("root")).render(ae.jsx(NR,{children:ae.jsxs(oR,{children:[ae.jsx(mh,{path:"/database",element:ae.jsx(e4,{})}),ae.jsx(mh,{path:"/",element:ae.jsx(ZP,{})}),ae.jsx(mh,{path:"/adm",element:ae.jsx(i4,{})})]})}));
